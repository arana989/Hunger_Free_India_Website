var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.hotel={loaded:!0,run:!1}),B.hotel=B.hotel||{},Array.prototype.find||(B.et.stage("NLJZCEQMULaDAEKKSLcSEO",4),B.et.track("NLJZCEQMULaDAEKKSLcSEO")?Object.defineProperty(Array.prototype,"find",{value:function(e){if(_i_("269:aa6ca1ae"),null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var _=t[r];if(e.call(n,_,r,t))return _r_(_);r++}return _r_(void 0)},configurable:!0,writable:!0}):Array.prototype.find=function(e){if(_i_("269:a76aa7a6"),null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],_=0;_<n;_++)if(t=i[_],e.call(r,t,_,i))return _r_(t);return _r_(void 0)}),B.define("querystring",function(e,n,t){function r(e,t){_i_("269:b1205794");var i=e.split(t);return _r_([i.shift(),i.join(t)])}_i_("269:3ba17652"),n.parseUrl=function(e){_i_("269:d897ad4d");var t={},i=r(e,"#");return t.hash=i[1],i=r(i[0],"?"),t.base=i[0],t.query=n.parse(i[1]),_r_(t)},n.stringify=function(e,t){_i_("269:779bf395");var i=(t=t||{}).sep||"&",n=t.eq||"=",r=t.skipNull,_=t.encodeURIComponent||encodeURIComponent,o=[];function a(e,t){_i_("269:36687cac"),null==t&&(t=""),o.push(e+n+_(t)),_r_()}for(var s in e){if(null===e[s]&&r)continue;e[s]instanceof Array?e[s].forEach(a.bind(this,s)):a(s,e[s])}return _r_(o.join(i))},n.parse=function(e,r){_i_("269:637f7447");var _={};return e.split(/[\&\;]+/).forEach(function(e){if(_i_("269:20fe34d1"),!e)return _r_();var t=e.split("="),i=t.shift(),n=t.join("=");if(!r)try{n=decodeURIComponent(n.replace(/\+/g,"%20"))}catch(e){}i in _?(Array.isArray(_[i])||(_[i]=[_[i]]),_[i].push(n)):_[i]=n,_r_()}),_r_(_)},n.toArray=function(e){_i_("269:c31586d4");var t,i,n=[];for(t in e)if(e.hasOwnProperty(t))if(i=e[t],Array.isArray(i))for(var r=0,_=i.length;r<_;r++)n.push({key:t,value:i[r]});else n.push({key:t,value:i});return _r_(n)},_r_()}),B.define("with-capla",function(e,t,i){_i_("269:cabb24f6");var n=e("promise"),r={},_={};function o(e){return _i_("269:4d350593"),_r_(e.slice(0,-8))}function a(t){return _i_("269:dcecff49"),r[t]||(r[t]=new n(function(e){_i_("269:e000dba4"),_[t]=e,_r_()})),_r_({promise:r[t],resolve:_[t]})}window.B.__caplaInitialised&&Object.keys(window.B.__caplaInitialised).forEach(function(e){_i_("269:1d620442"),a(o(e)).resolve(window.B.__caplaInitialised[e]),_r_()}),document.addEventListener("booking-capla-initialized",function(e){_i_("269:bf4fa97b"),a(o(e.detail.namespace)).resolve(e.detail),_r_()}),i.exports=function(e,t,n){return _i_("269:edf87387"),_r_(function(){_i_("269:e42d11f1");var i=arguments;a("b-"+e+"-"+t).promise.then(function(e){_i_("269:7774fbc2");var t=[].slice.call(i);t.unshift(e),n.apply(n,t),_r_()}),_r_()})},_r_()}),B.define("lazy-loader-image",function(e,t,i){_i_("269:20b733fd"),t.initializeLazyLoaderImage=function(i,n){_i_("269:71a370bb");var e=[].slice.call(document.querySelectorAll("img."+i));if("IntersectionObserver"in window){var r=new IntersectionObserver(function(e,t){_i_("269:20544341"),e.forEach(function(e){if(_i_("269:f5d47da8"),e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove(i),r.unobserve(t),n&&"function"==typeof n&&(t.complete?n.call(this,t,t.src):t.addEventListener("load",function(){_i_("269:fa466fd8"),n.call(this,t,t.src),_r_()}.bind(this)))}_r_()}),_r_()});e.forEach(function(e){_i_("269:77893bc9"),r.observe(e),_r_()})}else{var t=!1,_=function(){_i_("269:36bcc533"),!1===t&&(t=!0,setTimeout(function(){_i_("269:45cd399c"),e.forEach(function(t){_i_("269:3229bc6b"),"none"!==getComputedStyle(t).display&&t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&(t.src=t.getAttribute("data-src"),t.srcset=t.getAttribute("data-srcset"),t.classList.remove(i),n&&"function"==typeof n&&(t.complete?n.call(this,t,t.src):t.addEventListener("load",function(){_i_("269:005ea784"),n.call(this,t,t.src),_r_()}.bind(this))),0===(e=e.filter(function(e){return _i_("269:3fa4279d"),_r_(e!==t)})).length&&(document.removeEventListener("scroll",_),window.removeEventListener("resize",_),window.removeEventListener("orientationchange",_))),_r_()}),t=!1,_r_()},500)),_r_()};document.addEventListener("scroll",_),window.addEventListener("resize",_),window.addEventListener("orientationchange",_)}_r_()},_r_()}),B.define("utils/inviewport",function(e,t,i){_i_("269:9ecdb9ac");var n=e("jquery"),r=n(window);function _(e,t,i){_i_("269:85bd59bd"),t="inviewport:"+t;var n=e[0][t];if(n&&+new Date-n.timestamp<100)return _r_(n.value);return n={value:i(e),timestamp:+new Date},e[0][t]=n,_r_(n.value)}i.exports=function(e){if(_i_("269:12c4f795"),!(e=n(e)).length)return _r_(!1);if(!n.contains(document,e[0]))return _r_(!1);var t=_(e,"bounds",function(e){_i_("269:c43b089d");var t=e[0].getBoundingClientRect&&e[0].getBoundingClientRect();if(!t||!t.top&&!t.bottom)return _r_(null);var i=t.top;return _r_({top:i,bottom:i+t.height})}),i=_(r,"windowHeight",function(){return _i_("269:d7bf3d56"),_r_(window.innerHeight||document.documentElement.clientHeight)});if(!t)return _r_(!1);if(t.bottom-10<0)return _r_(!1);if(t.top+10>i)return _r_(!1);return _r_(!0)},_r_()}),B.hotel.Events={Gallery:{BEFORE_SLIDE_CHANGE:"hp:gallery_before_slide_change",AFTER_SLIDE_CHANGE:"hp:gallery_after_slide_change",AFTER_SLIDE_CHANGE_PERSISTENT:"hp:gallery_after_slide_change_persistent",SLIDE_SHOW:"hp:gallery_slide_show",INIT:"hp:gallery_init",THUMB_HOVER:"hp:gallery_thumb_hover",NAVIGATE:"hp:gallery_navigate",NAVIGATE_MANUAL:"hp_gallery_navigate_manual",ON_CTA_SLIDE:"hp:gallery_on_cta_slide",OFF_CTA_SLIDE:"hp:gallery_off_cta_slide",MOUSE_IN:"hp:gallery_mouse_in",MOUSE_OUT:"hp:gallery_mouse_out",ROOM_NAME_CLICK:"hp:gallery_room_name_click",GALLERY_TAB_CLICK:"hp:gallery_tab_click"},PhotoGrid:{MODAL_DOM_READY:"hp:grid_modal_dom_ready",GRID_ELEMENT_CLICKED:"hp:grid_element_clicked",GRID_SEE_ALL_CLICKED:"hp:grid_see_all_clicked",MODAL_THUMB_CLICKED:"hp:grid_modal_thumb_clicked",MODAL_GROUP_CLICKED:"hp:grid_modal_group_clicked",MODAL_SAW_GENERAL_GROUP:"hp:grid_modal_saw_general_group",MODAL_PICTURE_CHANGED:"hp:grid_modal_picture_changed",MODAL_SHOW_PREVIOUS:"hp:grid_modal_show_precvious",MODAL_SHOW_NEXT:"hp:grid_modal_show_next",MODAL_OPENED:"hp:grid_modal_opened",MODAL_CLOSED:"hp:grid_modal_closed",MODAL_RESERVE_CLICKED:"hp:grid_modal_reserve_clicked",MODAL_VIEW_ALL_PHOTOS:"hp:grid_modal_view_all_photos",MODAL_CLOSE_BUTTON_CLICKED:"hp:grid_modal_close_button_clicked",MODAL_SAW_PERSUASIVE_TAG:"hp:grid_modal_saw_persuasive_tag",MODAL_LAYOUT_CHANGED:"hp:grid_modal_layout_changed",MODAL_LAYOUT_RESIZED:"hp:grid_modal_layout_resize",MODAL_CATEGORY_CHANGED:"hp:grid_modal_category_changed",USER_CLICKED_ON_GRID_IMAGE:"hp:grid_modal_photo_clicked",USER_HOVERED_ON_GRID_IMAGE:"hp:grid_modal_photo_hovered",USER_CLICKED_BACK_TO_GRID:"hp:grid_modal_back_to_grid_clicked",GRID_IMAGES_DISPLAYED:"hp:grid_modal_all_images_displayed",GRID_IMAGES_VIEWED:"hp:grid_modal_all_images_viewed",GALLERY_SLIDER_NAVIGATED:"hp:gallery_modal_slider_navigated",USER_CLICKED_ON_GALLERY_ROOM_NAME:"hp:gallery_room_name_clicked",GALLERY_PREVIEW_IMAGE_CLICKED:"hp:gallery_preview_image_clicked",HP_GALLERY_GRID_SCROLL_TO_END:"hp:gallery_grid_scroll_to_end",USER_CLICKED_ON_GRID_ROOM_NAME:"hp:grid_modal_room_name_clicked"},RT:{ROOM_SELECTED:"rt:room_selected",ROOM_CHANGED:"rt:room_changed",NO_ROOM_SELECTED:"rt:no_rooms_selected",NO_ROOM_SELECTED_POSTALERT:"rt:no_rooms_selected_postalert",SUMMARY_CHANGE:"rt:summary_change",SUMMARY_BEFORE_CHANGE:"rt:summary_before_change",SUMMARY_HIDE:"rt:summary_hide",LIGHTBOX_OPEN:"rt-lightbox-open",LIGHTBOX_OPEN_NEW:"rt-lightbox-open-new",LIGHTBOX_LOADED_ASYNC:"rt-lightbox-loaded-async",LIGHTBOX_CLOSE:"rt-lightbox-closed",LIGHTBOX_READY:"rt-lightbox-ready",LIGHTBOX_GALLERY_READY:"rt-lightbox-gallery-ready",ROOM_LIGHTBOX_GALLERY_NAVIGATED:"rt:room_lightbox_gallery_navigated",ROOM_LIGHTBOX_GALLERY_PHOTOS_DISPLAYED:"rt:room_lightbox_gallery_photos_displayed",STICKY_STUCK:"rt:sticky_stuck",STICKY_RELEASE:"rt:sticky_release",FILTER_APPLIED:"rt:filter:applied",FILTER_MATCHED:"rt:filter:matched"},Reviews:{REVIEWS_FETCHED:"REVIEWS:fetched",RECENT_REVIEWS_FETCHED:"RECENT_REVIEWS:fetched"},ThirdPartyInventory:{TPI_BLOCK_LOADED:"tpi:tpi_block_loaded",TPI_ALL_BLOCKS_LOADED:"tpi:tpi_all_blocks_loaded",TPI_NO_RESULTS_FOUND:"tpi:tpi_no_results_found"},Map:{REFRESH_STATIC_MAP:"hp:refresh_static_map"},Other:{LOCK_PRICE_DISMISSED:"hp:lock_price_dismissed",REGION_ATTRACTIONS_RENDERED:"hp:region_attractions_rendered",NO_REGION_ATTRACTIONS_RENDERED:"hp:no_region_attractions_rendered",REGION_ATTRACTIONS_MAP_CTA_CLICKED:"hp:region_attractions_map_cta_clicked",GROUP_RECOMMENDATION_CTA_CLICKED:"hp:gr_recommendation_cta_clicked",AVAIL_FORM_SUBMIT_SUCCESS:"hp:availability_form_submit_success"}},B.hotel.Events.ReviewFloater={FORCE_SLIDE:"hp:gallery_rf_force_slide",MOUSE_ENTER:"hp:gallery_rf_mouse_enter",MOUSE_LEAVE:"hp:gallery_rf_mouse_leave",LOADED:"hp:gallery_rf_loaded",SLIDE:"hp:gallery_rf_slide"},B.hotel.Goals={Gallery:{CLICK_NAVIGATION:"hp:gallery_arrows_clicked",VIEW_ALL_PHOTOS:"hp:gallery_photos_all_viewed",HOVER_THUMB:"hp:gallery_thumbs_used"},RT:{}},B.define("legacy-event-bus",function(e){_i_("269:9e4c9c1d");var t=e("event-emitter");return _r_(new t)}),B.define("component/keyboard",function(e,t,i){_i_("269:d840ae1d");var n=e("component"),r=e("event-emitter"),_={8:"Backspace",46:"Delete",9:"Tab",13:"Enter",32:"Space",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};function o(i,n){return _i_("269:c305199b"),_r_(function(e){_i_("269:89331456");var t="";e.which&&void 0!==_[e.which.toString()]&&(e.originalEvent.altKey&&(t+=":alt"),e.originalEvent.ctrlKey&&(t+=":ctrl"),e.originalEvent.metaKey&&(t+=":meta"),e.originalEvent.shiftKey&&(t+=":shift"),t+=":"+_[e.which],i.trigger(n+t,{keys:n+t,originalEvent:e})),_r_()})}i.exports=n.extend({init:function(){_i_("269:70caa689"),r.extend(this),this.$el.bind("keydown",o(this,"keydown")).bind("keyup",o(this,"keyup")),_r_()}}),_r_()}),B.define("component/company/lp-return-bar/lp-return-bar",function(e,t,i){_i_("269:268ebb2f");var n=e("component");i.exports=n.extend({init:function(){_i_("269:dd70b047"),this.setupHandlers(),_r_()},setupHandlers:function(){_i_("269:09a9ce0d"),this.$el.find('[data-return-bar-dismiss], [data-return-bar-dismiss=""]').bind("click",this.dismiss.bind(this)),_r_()},dismiss:function(e){_i_("269:36cbb736"),("msie"!==B.env.b_browser||9<B.env.b_browser_version)&&(this.$el.empty(),e.preventDefault(),history.replaceState({},document.title,$(e.target).attr("href"))),_r_()}}),_r_()}),B.define("component/tooltip-loc",function(e,t,i){"use strict";_i_("269:0e7aa0e2");var n=e("component"),o=e("jquery");i.exports=n.extend({DEFAULTS:{template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",alignment:"center",trigger:"hover focus",animation:"true"},init:function(){_i_("269:4b79859f"),this._buildOptions(),this._createTooltip(),this._attachEvents(),this.$el.trigger("ready.B.tooltip",[this.$tip]),_r_()},_buildOptions:function(){_i_("269:2003d6d2"),this.options=o.extend({},this.DEFAULTS,this.$el.data()),this.options.intangible="intangible"in this.options,this.options.target&&(this.options.target=o(this.options.target).first()),this.options.content||(this.options.content=this.options.title||this.el.title),_r_()},_createTooltip:function(){_i_("269:f0d24a5f");var e="tooltip-"+this.options.placement+" tooltip-align-"+this.options.alignment;this.options.extraClass&&(e=e+" "+this.options.extraClass),"true"===this.options.animation&&(e+=" tooltip-animate"),this.$tip=o(this.options.template),this.$tip.addClass(e),this._attachContent(),this.$tip.appendTo(o("body")),this.$el.trigger("inserted.B.tooltip",[this.$tip]),_r_()},_attachContent:function(){_i_("269:edb36e3b");var e=this.$tip.find(".tooltip-inner");this.options.target?e.append(this.options.target.clone()):(this.options.target=[],e.text(this.options.content)),_r_()},_positionTooltip:function(){_i_("269:55a3c39d"),this._defineAlignmentVars(),this._placeTooltip(),this._alignTooltip(),this.$tip.css({left:this.left,top:this.top,right:"auto"}),_r_()},_defineAlignmentVars:function(){_i_("269:ba6d432e"),this.elOffset=this.$el.offset(),this.position="left",this.dimension="outerWidth",this.options.placement.match(/top|bottom/)&&(this.position="top",this.dimension="outerHeight"),_r_()},_accountForRTL:function(e){if(_i_("269:3680d328"),!B.env.rtl)return _r_(e);if("left"===e)return _r_("right");if("right"===e)return _r_("left");return _r_(e)},_placeTooltip:function(){_i_("269:eefd1cb5");var e=this._accountForRTL(this.position),t=this.dimension;this._accountForRTL(this.options.placement)===e?this[e]=this.elOffset[e]-this.$tip[t]():this[e]=this.elOffset[e]+this.$el[t](),_r_()},_alignTooltip:function(){var e,t;switch(_i_("269:d3b34b71"),"left"===this.position?(e="top",t="outerHeight"):(e="left",t="outerWidth"),this._accountForRTL(this.options.alignment)){case e:this[e]=this.elOffset[e];break;case"center":this[e]=this.$el[t]()/2+this.elOffset[e]-this.$tip[t]()/2;break;default:this[e]=this.elOffset[e]+this.$el[t]()-this.$tip[t]()}_r_()},_attachEvents:function(){if(_i_("269:f9224418"),this.options.trigger.match(/manual/))return _r_();var e,t,i,n=this.options.trigger.split(" "),r=n.length,_=this.$el.add(this.$tip);for(this.options.intangible&&(_=this.$el);r--;)"click"===(e=n[r])?this.$el.on("click",o.proxy(this.toggle,this)):(t="hover"==e?"mouseenter":"focusin",i="hover"==e?"mouseleave":"focusout",_.on(t,o.proxy(this.show,this)),_.on(i,o.proxy(this.hide,this)));_r_()},_trackTransitionEnd:function(t){_i_("269:7d5873ec");var i=this.$el;this.$tip.one("transitionend",function(e){_i_("269:a241ca33"),i.trigger(t,[this]),_r_()}),_r_()},show:function(){_i_("269:1e6fbd16"),this.$el.trigger("show.B.tooltip",[this.$tip]),this._trackTransitionEnd("shown.B.tooltip"),this.$el.attr("aria-describedby",this.el.id),this._positionTooltip(),this.$tip.addClass("on").removeClass("off"),_r_()},hide:function(){_i_("269:0ab21ba6"),this.$el.trigger("hide.B.tooltip",[this.$tip]),this._trackTransitionEnd("hidden.B.tooltip"),this.$el.removeAttr("aria-describedby"),this.$tip.removeClass("on").addClass("off"),_r_()},toggle:function(){_i_("269:1e6fe6da"),this.$tip.is(".on")?this.hide():this.show(),_r_()}}),_r_()}),B.define("read-data-options",function(e,t,i){_i_("269:b2e7a21d"),i.exports=function(r,_){_i_("269:9b133c1b");var o={};return r.jquery&&(r=r[0]),Object.keys(_).forEach(function(e){_i_("269:dcce8877");var t=_[e],i="data-"+e,n=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!r.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}n=r.getAttribute(i);if(t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}o[e]=n,_r_()}),_r_(o)},_r_()}),B.define("leaving-users-lightbox",function(){_i_("269:ea4ff3b3");var e=function(){},t={customMaskClassName:"b_leaving_users_light_box_mask",messageDelay:600,lightboxRootClass:"b_leaving_users_light_box"};return e.prototype.init=function(e){if(_i_("269:9d5fe773"),"object"!=typeof e||!e.hasOwnProperty("lightboxContentBlock"))throw new Error("leaving-users-lightbox: `params` is not an object or it's missing required property: `lightboxContentBlock`!");if(this.params=$.extend(t,e),this.page_=$(document.documentElement),this.lightboxContentBlock_=$(e.lightboxContentBlock),0===this.lightboxContentBlock_.length)return _r_();this.lastMouseYCoords_=[],this.messageTimeoutId_=0,this.lightbox_=booking.lightbox,this.windowFocused_=!0,this.attachEvents_(),_r_()},e.prototype.isInitiated=function(e){return _i_("269:f3903c0d"),_r_(void 0!==this.lastMouseYCoords_)},e.prototype.attachEvents_=function(){_i_("269:cc42d47c");var t=this;this.page_.bind({"mousemove.LeavingUsersLightbox":function(e){_i_("269:f5739a10"),t.onPageMouseMove_(e),_r_()},"mouseleave.LeavingUsersLightbox":$.proxy(this.onPageMouseLeave_,this)}),$(window).focus(function(){_i_("269:21994453"),t.windowFocused_=!0,_r_()}).blur(function(){_i_("269:bf32ab82"),t.windowFocused_=!1,_r_()}),_r_()},e.prototype.detachEvents_=function(){_i_("269:b98dbd9b"),this.page_.unbind(".LeavingUsersLightbox"),_r_()},e.prototype.onPageMouseMove_=function(e){_i_("269:e847bd65"),clearTimeout(this.messageTimeoutId_),this.writeMouseCoords_(e),_r_()},e.prototype.onPageMouseLeave_=function(e){if(_i_("269:7d2733ea"),!this.wasMouseMoveUpwards_()||!this.strictCheck_(e))return _r_();var t=this;clearTimeout(this.messageTimeoutId_),this.messageTimeoutId_=setTimeout(function(){_i_("269:994297bd"),t.detachEvents_(),t.showLeavingMessage_(),_r_()},t.params.messageDelay),_r_()},e.prototype.showLeavingMessage_=function(){_i_("269:57ae04d3");var e=this;this.lightbox_.hide(),this.lightbox_.show(this.lightboxContentBlock_,{customWrapperClassName:this.params.lightboxRootClass,customMaskClassName:this.params.customMaskClassName,bAnimation:!1,hideCallBack:function(){_i_("269:7463757a"),B.events.emit("leaving-users-lightbox:hide",{lightbox:e.lightbox_,lightboxSelector:e.params.lightboxContentBlock}),_r_()}},function(){_i_("269:aad3515e"),B.events.emit("leaving-users-lightbox:show",{lightbox:e.lightbox_,lightboxSelector:e.params.lightboxContentBlock}),_r_()}),_r_()},e.prototype.writeMouseCoords_=function(e){_i_("269:b775bf8c"),this.lastMouseYCoords_.push(e.pageY),2<this.lastMouseYCoords_.length&&this.lastMouseYCoords_.shift(),_r_()},e.prototype.wasMouseMoveUpwards_=function(){return _i_("269:923f268e"),_r_(2<=this.lastMouseYCoords_.length&&this.lastMouseYCoords_[0]>this.lastMouseYCoords_[1])},e.prototype.strictCheck_=function(e){if(_i_("269:1faa8eb2"),!this.strictCheck)return _r_(!0);return _r_(e.clientY<30)},_r_(new e)}),B.define("component/core/lightbox/trigger",function(e,t,i){_i_("269:65afa432");var n=e("read-data-options"),r=e("lightbox");i.exports=e("component").extend({init:function(){_i_("269:77c342bc");var e=this.$el.data("event")||"click";this.options=n(this.el,{bCloseButton:{name:"close-button",type:Boolean},bCanScroll:{name:"scrollable",type:Boolean},bOverflowVisible:{name:"overflow-visible",type:Boolean},autoWidth:{name:"auto-width",type:Boolean},ajax:{name:"ajax",type:Boolean},iframe:{name:"iframe",type:Boolean},customWrapperClassName:{name:"wrapper-class",type:String},customMaskClassName:{name:"mask-class",type:String},bMaskClick:{name:"mask-click",type:Boolean},trigger:{name:"trigger",type:String},position:{name:"position",type:String},autoCenter:{name:"auto-center",type:Boolean},limitHeight:{name:"limit-height",type:Boolean},cloneElement:{name:"clone-element",type:Boolean},trapFocus:{name:"trap-focus",type:Boolean},modalLabeledById:{name:"modal-labeled-by-id",type:String},bAnimation:{name:"animation",type:Number},addDialogStartEndText:{name:"add-dialog-start-end-text",type:Boolean}}),"page-load"===e?(this.target=this.$el,$(document).ready(function(){_i_("269:55c7125e"),setTimeout(this.open.bind(this),150),_r_()}.bind(this))):(this.target=this.$el.attr("href")||this.$el.data("src")||this.target,this.$el.bind(e,this.open.bind(this))),_r_()},open:function(e){_i_("269:44868de7"),e&&e.preventDefault&&e.preventDefault(),r.show(this.target,this.options),this.options.trigger&&B.events.trigger(this.options.trigger,e,this.target),_r_()}}),_r_()}),B.define("component/clickable-block",function(e,t,i){_i_("269:44ebe8c5");var n=e("component");i.exports=n.extend({init:function(){_i_("269:dba6658f");var r=this.$el,_=r.data("selector")||"a",o=r.data("exclude")||"",a=r.data("target")||"";r.click(function(e){if(_i_("269:7ecc3873"),!$(e.target).closest(_).length||!o||!$(e.target).closest(o).length){e.preventDefault();var t=r.find(_+":first"),i="_blank"==t.attr("target")||"blank"==a||"_blank"==a,n=t.attr("href")||t.data("href");n&&(i?window.open(n):window.location=n)}_r_()}),_r_()}}),_r_()}),B.define("component/reviews/review-helpful-unhelpful",function(e,t,i){_i_("269:61439fb5");var r=e("jquery"),n=e("component"),_=e("jstmpl");i.exports=n.extend({init:function(){_i_("269:c8dc55e6");var t=this;this.types=[],this.submitButton=this.$el.find("[type=submit]"),this.submitButton.each(function(){_i_("269:d544d677");var e=r(this).data("type");t.types.indexOf(e)<0&&t.types.push(e),t[e]={},t[e].form=r(this).parents("form.review-helpful__form"),t[e].reviewURL=t[e].form.find("[name=review_url]").val(),t[e].currentCount=t[e].form.data("current-count"),_r_()}),this.feedbackMessage=this.$el.find(".review-helpful__vote-feedback-message:not(.--unhelpful)"),this.feedbackUnhelpfulMessage=this.$el.find(".review-helpful__vote-feedback-message.--unhelpful"),this.helpfulSubmitted=!1,this.unhelpfulSubmitted=!1,this.isAlreadyVoted()?(this.disableSubmit(),this.updateMessage()):this.attachEvents(),_r_()},attachEvents:function(){_i_("269:dbd75e25");for(var e=0;e<this.types.length;e++)this[this.types[e]].form.on("submit",this.formSubmit.bind(this));_r_()},disableSubmit:function(){_i_("269:fc66a543"),this.submitButton.prop("disabled",!0).removeClass("review-helpful__form-submit").addClass("review-helpful__form-submitted").val(_.translations("review_helpful_vote_button_confirmed")+" ✔").hide(),_r_()},enableSubmit:function(){_i_("269:3cdfd500"),this.submitButton.prop("disabled",!1).removeClass("review-helpful__form-submitted").addClass("review-helpful__form-submit").val(_.translations("review_helpful_vote_button_confirmed")).show(),_r_()},updateMessage:function(){_i_("269:db62453f");var e=this;if(this.unhelpfulSubmitted)this.feedbackMessage.hide(0),this.feedbackUnhelpfulMessage.queue(function(){_i_("269:120053ca"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("269:3e080ec5"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:2dd5e3f3"),r(this).html('<svg class="bk-icon -iconset-thumbs_down" fill="#FCB4B4" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M11.4 43.6a12 12 0 0 1 6.7-17A12 12 0 0 1 30 16h50v56l-17 36a8 8 0 0 1-15-4 15.2 15.2 0 0 1 1-4l7.9-20H21a12 12 0 0 1-9.4-19.4 12 12 0 0 1-.2-17zM120 16H88v56h32z"/></svg>'+_.translations("ugcx_reviews_you_voted_helpful_not",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:b511d974"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block");else if(this.helpfulSubmitted){var t=this.helpful.currentCount;this.feedbackUnhelpfulMessage.hide(0),t&&0!==t?this.feedbackMessage.queue(function(){_i_("269:03db97f1"),r(this).fadeOut("fast").dequeue(),_r_()}).queue(function(){_i_("269:d4e303271"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:8bb7de3c"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+_.translations("review_helpful_vote_you_and_others_bold",t,{number_people:t,start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:661a28d41"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block"):this.feedbackMessage.queue(function(){_i_("269:4fe96ecd"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("269:d4e30327"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:1273519e"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+_.translations("review_helpful_vote_you_bold",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:661a28d4"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block")}_r_()},addVoteToCookie:function(e){_i_("269:eab1d738");var t,i=[];if(e&&"helpful"==e)t="rF";else{if(!e||"unhelpful"!=e)return _r_();t="uF"}window.b_cookie=window.b_cookie||{},window.b_cookie[t]&&(i=window.b_cookie[t].split(",")),49<(i=r.grep(i,function(e){return _i_("269:6e80b62c"),_r_(e&&"undefined"!==e)})).length&&(i=i.slice(i.length-49)),i.push(this[e].reviewURL),window.b_cookie[t]=i.toString(),JSON&&JSON.stringify&&(r.cookie("b")||null==r.cookie("b"))&&r.cookie("b",JSON.stringify(window.b_cookie),{expires:30,path:"/",domain:".booking.com"}),_r_()},isAlreadyVoted:function(){_i_("269:3dd73df1"),window.b_cookie=window.b_cookie||r.cookie("b")||{},JSON&&JSON.parse&&"string"==typeof window.b_cookie&&window.b_cookie.length&&(window.b_cookie=JSON.parse(window.b_cookie));for(var e=0;e<this.types.length;e++){var t,i=[];if(this.types[e]&&"helpful"==this.types[e]?t="rF":this.types[e]&&"unhelpful"==this.types[e]&&(t="uF"),window.b_cookie&&window.b_cookie[t])i=window.b_cookie[t].split(",");else if(JSON&&JSON.parse&&r.cookie("b")){var n=JSON.parse(r.cookie("b"));n[this.types[e]]&&(i=n[this.types[e]].split(","))}if(i.length&&-1!==i.indexOf(this[this.types[e]].reviewURL)){if("helpful"==this.types[e]){this.helpfulSubmitted=!0;continue}if("unhelpful"==this.types[e]){this.unhelpfulSubmitted=!0;continue}}}return this.unhelpfulSubmitted||this.helpfulSubmitted?_r_(!0):_r_(!1)},formSubmit:function(e){_i_("269:53c9fc16"),e&&e.preventDefault(),this.disableSubmit(),r.ajax({url:r(e.target).prop("action"),data:r(e.target).serialize(),method:"POST",success:this.success.bind(this),error:this.error.bind(this)}),_r_()},success:function(e){var t;if(_i_("269:28af7625"),e&&e.success)switch(e.success?parseInt(e.success):0){case 1:t="helpful",this.helpfulSubmitted=!0;break;case 4:t="unhelpful",this.unhelpfulSubmitted=!0}this.updateMessage(),this.addVoteToCookie(t),_r_()},error:function(){_i_("269:410802c8"),this.enableSubmit(),_r_()}}),_r_()}),B.define("component/track-location-aware",function(e,t,i){"use strict";_i_("269:d6409d5f");var n=e("component/track");i.exports=n.extend({init:function(){_i_("269:013a7c51");var e=!1,t=this,i=arguments;this.isLocationAware()?n.prototype.init.apply(this,i):B.events&&B.events.on("user_location_aware",function(){_i_("269:2e0dffce"),e||(n.prototype.init.apply(t,i),e=!0),_r_()}),_r_()},isLocationAware:function(){return _i_("269:8db382a9"),_r_(B.browserStorageHandler&&B.browserStorageHandler.isLocalStorageSupported()&&B.browserStorageHandler.getSessionValue("location_aware"))}}),_r_()}),B.define("segment",["events","jquery"],function(t,i){"use strict";_i_("269:4eaa5c22");var n={},r=B.browserStorageHandler&&B.browserStorageHandler.isLocalStorageSupported()&&window.JSON&&window.JSON.stringify||B.storage,_="track_segments",o=function(){if(_i_("269:3ed23794"),!r)return _r_({});var e;if(B.storage)e=B.storage({location:"sessionstorage",key:_});else if(e=B.browserStorageHandler.getSessionValue(_))try{e=i.parseJSON(e)}catch(e){}return _r_(e||{})};function a(){}return a.prototype.init=function(){_i_("269:c185635b"),this.getStored().fired&&(this._fired=!0),_r_()},a.prototype.fire=function(e){if(_i_("269:a47ea579"),this._fired)return _r_();this._fired=!0,this.store(e),t.trigger("track_segment_fire_"+this.name,e),_r_()},a.prototype.getStored=function(){return _i_("269:28517a6f"),_r_(o()[this.name]||{})},a.prototype.store=function(e){_i_("269:f8acdf6c");var t,i=o();i[this.name]=i[this.name]||{},this._fired&&(i[this.name].fired=!0),e&&(i[this.name].data=e),t=i,_i_("269:5e9a0191"),r&&(B.storage?B.storage({location:"sessionstorage",key:_,value:t}):B.browserStorageHandler.addSessionValue(_,window.JSON.stringify(t))),_r_(),_r_()},a.prototype.onFire=function(e){return _i_("269:ea952eec"),this._fired?e():t.on("track_segment_fire_"+this.name,e),_r_(this)},a.getInstance=function(e){return _i_("269:91040b08"),n[e]||(n[e]=new a,n[e].name=e,n[e].init()),_r_(n[e])},a.segmentExists=function(e){return _i_("269:96dde06d"),_r_(!!n[e])},_r_(a)}),B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events","segment"],function(e,t){_i_("269:d9ce6b40");var r=t.getInstance("location-aware"),_={sortByDistance:B.env.b_order&&/^distance.*/.test(B.env.b_order),filterDistricts:n(),searchDistrict:"district"===B.env.b_dest_type};function i(){_i_("269:4adce2c7");var i={},n=0;$.each(_,function(e,t){_i_("269:8a5be24e"),t&&(i[e]=!0,n++),_r_()}),n&&r.fire(i),_r_()}function n(){_i_("269:0e0f8580");var i=!1;return $("#filterbox_options .filterelement.active").each(function(){_i_("269:944b4b8c");var e=$(this).data("name"),t=$(this).data("value");if("di"===e||"bf"===e&&8857<=+t&&+t<=10937)return _r_(!(i=!0));_r_()}),_r_(i)}e.on(e.UI_SORTING_CHANGED,function(e){_i_("269:710290b3"),setTimeout(function(){_i_("269:d6c2bf11"),$(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length&&(_.sortByDistance=!0,i()),_r_()},10),_r_()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:b7593cf3"),n()&&(_.filterDistricts=!0,i()),_r_()}),i(),_r_()}),B.require(["segment","jquery"],function(e,r){_i_("269:d23ccda6");var t=e.getInstance("location-aware-map"),_={openMap:!1};function i(){_i_("269:c76cab4c");var i={},n=0;r.each(_,function(e,t){_i_("269:8a5be24e1"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){_i_("269:c489e5f7");var i=!1;return r("#filterbox_options .filterelement.active").each(function(){_i_("269:bf92fef3");var e=r(this).data("name"),t=r(this).data("value");if("di"===e||"bf"===e&&8857<=+t&&+t<=10937)return _r_(!(i=!0));_r_()}),_r_(i)}_i_("269:495d70a8"),_=Object.assign(_,{sortByDistance:B.env.b_order&&/^distance.*/.test(B.env.b_order),filterDistricts:t(),searchDistrict:"district"===B.env.b_dest_type}),e.on(e.UI_SORTING_CHANGED,function(){_i_("269:68628216"),setTimeout(function(){_i_("269:8f333ba2"),r(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length&&(_.sortByDistance=!0,i()),_r_()},10),_r_()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:1c6e0278"),t()&&(_.filterDistricts=!0,i()),_r_()}),i(),_r_()}),B.when({action:["hotel","searchresults","city","region","country"],events:"ready"}).run(function(){_i_("269:97d88657");r(".show_map").on("click",function(){_i_("269:61f872ec"),_.openMap=!0,i(),_r_()}),-1<location.hash.indexOf("map_opened")&&(_.openMap=!0,i()),_r_()}),_r_()}),B.require(["segment"],function(e){_i_("269:f4deb621");var t=e.getInstance("facilities-aware"),r={};function i(){_i_("269:c76cab4c1");var i={},n=0;$.each(r,function(e,t){_i_("269:8a5be24e2"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){return _i_("269:482140a8"),_r_(0<$("#filterbox_options").find(".filterelement.active ").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length)}_i_("269:dadcbdac"),r=Object.assign(r,{filterFacilities:t()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:036a1078"),t()&&(r.filterFacilities=!0,i()),_r_()}),i(),_r_()}),B.when({action:"hotel",events:"click .hp_nav_facilities_link",condition:!B.env.b_is_tdot_traffic}).run(function(){_i_("269:48b52716"),r.clickFacilitiesTab=!0,i(),_r_()}),_r_()}),B.require(["segment"],function(e){_i_("269:a048ae07");var t=e.getInstance("facilities-filter"),r={};function i(){_i_("269:c76cab4c2");var i={},n=0;$.each(r,function(e,t){_i_("269:8a5be24e3"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){return _i_("269:c8198288"),_r_(0<$("#filterbox_options").find(".filterelement.active").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length)}_i_("269:9f14a770"),r=Object.assign(r,{filterFacilities:t()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:1648ea8c"),t()&&(r.filterDistricts=!0,i()),_r_()}),i(),_r_()}),_r_()}),B.define("component/track-segment",function(e,t,i){"use strict";_i_("269:6179fb06");var n=e("component"),r=e("segment"),_=e("et");i.exports=n.extend({init:function(){_i_("269:a2fbe2ad");var i=this;$.each((this.$el.attr("data-segment")||"").split(/ +/),function(e,t){_i_("269:f6befdef"),t&&r.getInstance(t).onFire($.proxy(i.track,i)),_r_()}),_r_()},track:function(){if(_i_("269:4285fd56"),this.isTracked)return _r_();var e=this.$el.attr("data-hash");if(!e)return _r_();var t,i=this.$el.attr("data-track")||"click",n=this.$el.attr("data-segment-custom-goal"),r=this.$el.attr("data-segment-stage");n||r||(n=this.$el.attr("data-custom-goal"),r=this.$el.attr("data-stage")),t="load"===i?_:_.on(i,this.$el),n?t.customGoal(e,n):r?t.stage(e,r):t.track(e),this.isTracked=!0,_r_()}}),_r_()}),B.define("component/onview-animate",function(e,t,i){_i_("269:a9c045a2");var s,n=e("component");s=B.tools&&B.tools.dom&&"function"==typeof B.tools.dom.watchIfBlockVisibleInViewport?B.tools.dom.watchIfBlockVisibleInViewport:e("core/utils/onview").run;var r=n.extend({init:function(){_i_("269:f2ef5786");var i=this.$el,n=i.attr("data-anim-type")||"",r=i.attr("data-onview-cls")||"",_=i.attr("data-onview-cls-remove")||"",o=i.attr("data-rollup-time")||1500;function a(e){_i_("269:078808c1");var t=e&&e.type;switch(n){case"rollover":setTimeout(function(){_i_("269:e5b3a704"),i.addClass("rollover-anim"),setTimeout(function(){_i_("269:377e5cdf"),i.removeClass("rollover-anim"),_r_()},o),_r_()},"string"==typeof t?10:(_i_("269:7e1a7fc5"),_r_(Math.floor(400*Math.random()+300)+500)));break;default:setTimeout(function(){_i_("269:46409f5e"),_.length&&i.removeClass(_),i.addClass(n).addClass(r).trigger("complete.anim"),_r_()},Math.floor(250*Math.random())+500)}_r_()}(i.attr("data-anim-trigger")||"onview").trim().split(/\s+/).forEach(function(e){_i_("269:13420ab3"),function(e){switch(_i_("269:2a8b3b37"),e){case"mouseenter":var t;"rollover"==n?(i.on("mouseenter",function(){_i_("269:d605800b"),clearTimeout(t),t=setTimeout(function(){_i_("269:7b3c01c8"),i.addClass("rollover-anim"),_r_()},100),_r_()}),i.on("mouseleave",function(){_i_("269:a16cbdb7"),clearTimeout(t),t=setTimeout(function(){_i_("269:377e5cdf2"),i.removeClass("rollover-anim"),_r_()},100),_r_()})):i.on("mouseenter",a);break;case"manual":i.on("anim.onview",a);break;case"click":i.on("click",a);break;case"onview":default:s(i,a)}_r_()}(e.trim()),_r_()}),_r_()}});i.exports=r,_r_()}),B.define("ga-events-tracker",function(t,e,i){_i_("269:1b52fdbe");var n=t("ga-tracker"),_=t("promise"),o=t("when/events-view");function r(i){_i_("269:a8c56ec0"),this.events[i].forEach(function(t){_i_("269:41d132f9"),_.all(function e(t){_i_("269:9b1908ac");if(!Array.isArray(t))return _r_(e.call(this,[t]));return _r_(t.map(function(r){return _i_("269:abbafe74"),_r_(new _(function(t){if(_i_("269:e1a276b2"),"boolean"==typeof r)return r&&t(!0),_r_();var e=r.split(/\s+/),i=e.shift(),n=e.join(" ");switch(i){case"ready":$(function(){_i_("269:daa0dbee"),t(!0),_r_()});break;case"presence":0<$(n).length&&t(!0);break;case"view":o(n,function(){_i_("269:de3992a7"),t(!0),_r_()});break;case"hover":i="mouseenter";case"click":case"mousedown":case"mouseup":case"focus":case"change":case"input":case"submit":$("body").one(i,n,function(){_i_("269:daa0dbee1"),t(!0),_r_()});break;case"event":this.emitter.one(n,function(e){_i_("269:1e65626c"),t(e),_r_()})}_r_()}.bind(this)))}.bind(this)))}.call(this,t.trigger)).then(function(){_i_("269:1b07bce3");var e=null;"function"==typeof t.value&&(e=t.value()),"number"==typeof t.value&&(e=t.value),n.trackEvent(this.categoryName,i,t.label,e),_r_()}.bind(this)),_r_()}.bind(this)),_r_()}function a(e){if(_i_("269:ea97b0fc"),!e.categoryName)throw Error("ga-events-tracker: you must define a categoryName");if(!e.eventsMap)throw Error("ga-events-tracker: you must define an eventsMap");this.emitter=e.emitter||t("events"),this.events=e.eventsMap,this.categoryName=e.categoryName,Object.keys(this.events).forEach(r.bind(this)),_r_()}var s={setup:function(e){return _i_("269:33c47c48"),_r_(new a(e))}};i.exports=s,_r_()}),B.define("page-scroll-block",function(e,t,i){"use strict";_i_("269:080cc4f9");var n,r=e("jquery")(window),_=document.body,o=!1;function a(){return _i_("269:5b4bd53e"),_r_(_.scrollHeight>document.documentElement.clientHeight)}function s(e){_i_("269:5359ce54"),e?r.on("resize.pageScrollBlock",l):r.off("resize.pageScrollBlock"),_r_()}function l(){if(_i_("269:759bcff1"),o)return _r_();a()?_.style.paddingRight=n+"px":_.style.paddingRight="",o=!0,window.setTimeout(function(){_i_("269:eb926743"),o=!1,_r_()},150),_r_()}t.init=function(){if(_i_("269:0f51db79"),void 0!==n)return _r_(n);return _r_(this.scrollWidth=n=function(){_i_("269:d23b429b");var e,t=document.createElement("div");return t.setAttribute("style",["width: 100px","height: 100px","overflow: scroll","position: absolute","top: -9999px"].join(";")),_.appendChild(t),e=t.offsetWidth-t.clientWidth,_.removeChild(t),_r_(e)}())},t.freeze=function(){if(_i_("269:75b603b9"),_.style.overflow="hidden",!n)return _r_();a()&&(_.style.paddingRight=n+"px"),s(!0),_r_()},t.unfreeze=function(){if(_i_("269:7093f204"),_.style.overflow="",!n)return _r_();_.style.paddingRight="",s(!1),_r_()},t.getScrollWidth=function(){return _i_("269:45604e79"),_r_(this.scrollWidth)},_r_()}),B.define("component/core/et-scroll-observer",function(e,t,i){_i_("269:d45b4d22");var n=B.eventEmitter;i.exports=e("component").extend({init:function(){_i_("269:e45e90af"),this.$el.on("mousewheel DOMMouseScroll scroll",this.handler),_r_()},handler:function(e){_i_("269:650662de"),n.trigger("et-scroll-observer:scroll",e),_r_()}}),_r_()}),B.define("sliding-panel-model",function(t,e,i){_i_("269:e110ec02");var n,r=t("event-emitter"),_={},o={show:"sliding-panel/show",hide:"sliding-panel/hide",dataLoadStart:"sliding-panel/dataLoad:start",dataLoadAborted:"sliding-panel/dataLoad:abort",dataShown:"sliding-panel/dataShown",dataLoaded:"sliding-panel/dataLoad:success",dataLoadFail:"sliding-panel/dataLoad:fail",dataShowStart:"sliding-panel/showData:start",dataShowEnd:"sliding-panel/showData:success",ajaxInited:"sliding-panel/ajaxInited"};function a(){_i_("269:365c1963"),this.isShown=0,this.ajaxLoader=null,this.ajaxEnabled=!1,this.ajaxLoaded=!1,this.ajaxLoading=!1,this.ajaxLoadedUrl="",this.dynamicData={},r.extend(this),_r_()}a.prototype.isPanelShown=function(){return _i_("269:0ec51808"),_r_(this.isShown)},a.prototype.hide=function(){_i_("269:03dad44b"),this.isShown&&(this.isShown=0,this.emit(o.hide)),_r_()},a.prototype.show=function(){if(_i_("269:0171d1fe"),this.isShown)return _r_();this.isShown=1,this.emit(o.show),_r_()},a.prototype.ajaxLoad=function(e){_i_("269:fee25bc1"),this.ajaxLoadedUrl&&this.ajaxLoadedUrl==e.url?this.dynamicDataAborted():this.ajaxLoader.load(e),_r_()},a.prototype.beginLoading=function(e){_i_("269:34bd95f1"),this.ajaxLoading=!0,this.emit(o.dataLoadStart,e),_r_()},a.prototype.dataLoaded=function(e,t){_i_("269:eecc4c28"),this.emit(o.dataLoaded,t),this.dynamicData={content:e,requestParams:t},this.setAjaxLoaded(t.url),this.showData(t),_r_()},a.prototype.dataFailed=function(e){_i_("269:09d36cba"),this.emit(o.dataLoadFail,e),this.setAjaxLoaded(""),_r_()},a.prototype.showData=function(){_i_("269:9d268fff"),this.emit(o.dataShowStart),_r_()},a.prototype.isAjaxYetLoading=function(){return _i_("269:251b3948"),_r_(this.ajaxLoading)},a.prototype.getDynamicLoadedUrl=function(){return _i_("269:076e7826"),_r_(this.ajaxLoadedUrl)},a.prototype.setAjaxLoaded=function(e){_i_("269:b8f8198e"),this.ajaxLoadedUrl=e,this.ajaxLoading=!1,_r_()},a.prototype.dynamicDataAborted=function(){_i_("269:801eb086"),this.emit(o.dataLoadAborted),_r_()},a.prototype.toggleAjaxEnabled=function(e){if(_i_("269:74a4aa73"),!e)return _r_();"on"==e&&(this.ajaxEnabled=!0,this.ajaxLoader||(n=t("sliding-panel-ajax"),this.ajaxLoader=n.get(this.id),this.setDataPreprocessor(),this.emit(o.ajaxInited))),"off"==e&&(this.ajaxEnabled=!1),_r_()},a.prototype.getDynamicData=function(){return _i_("269:43b92ff4"),_r_(this.dynamicData)},a.prototype.setDataPreprocessor=function(e){_i_("269:876300ce"),e&&(this.preprocessor=e),this.ajaxLoader&&this.preprocessor&&(this.ajaxLoader.preprocessData=this.preprocessor),_r_()},i.exports={EVENTS:o,get:function(e){if(_i_("269:55ad9802"),"string"!=typeof e||0===e.length)throw new Error("sliding-panel-model: invalid .get() argument!");return _.hasOwnProperty(e)||(_[e]=new a,_[e].id=e),_r_(_[e])},hideAll:function(){for(var e in _i_("269:41b07915"),_)_[e].hide();_r_()}},_r_()}),B.define("component/core/sliding-panel-core",function(e,t,i){_i_("269:17725059");var n=e("jquery"),r=e("events"),_=e("component"),o=e("sliding-panel-model"),a="is-hidden",s="is-shown",l=n(window),c=!0;i.exports=_.extend({init:function(){if(_i_("269:e9075e35"),this.id=this.$el.data("id"),"string"!=typeof this.id)throw new Error("core/sliding-panel: `data-id` is invalid or undefined!");void 0===this.useScrollBlocker&&(this.useScrollBlocker=!0),this.$close=this.$el.find("[data-close-button]"),this.model=o.get(this.id),this.initHandlers(),_r_()},initHandlers:function(){_i_("269:6297a5dd"),this.useScrollBlocker&&(this.scrollBlocker=e("page-scroll-block"),this.scrollBlocker.init()),this.model.on(o.EVENTS.show,this.show.bind(this)),this.model.on(o.EVENTS.hide,this.hide.bind(this)),this.model.on(o.EVENTS.dataShowStart,this.renderDynamicContent.bind(this)),this.model.on(o.EVENTS.dataLoadStart,this.showDynamicLoading.bind(this)),this.model.on(o.EVENTS.dataLoadFail,this.showDynamicFail.bind(this)),this.$el.on("click",this.onContainerClick.bind(this)),this.$el.on("click","[data-content]",this.onContentClick.bind(this)),this.model.isPanelShown()&&this.show(),_r_()},eventsOn:function(){_i_("269:65158b6e"),this.$close.on("click.slidingPanel",this.onCloseClick.bind(this)),l.on("keydown.slidingPanel",this.onKeyDown.bind(this)),_r_()},eventsOff:function(){_i_("269:68417ed2"),this.$close.off("click.slidingPanel"),l.off("keydown.slidingPanel"),_r_()},onKeyDown:function(e){_i_("269:611bcf83"),27===e.which&&this.beforeHide(function(){_i_("269:b05cc5e0"),this.model.hide(),this.onHideEvents("escape"),_r_()}.bind(this)),_r_()},onCloseClick:function(){_i_("269:cddafe42"),this.beforeHide(function(){_i_("269:566f4714"),this.model.hide(),this.onHideEvents("close-button"),_r_()}.bind(this)),_r_()},onOverlayClick:function(){_i_("269:070def41"),this.beforeHide(function(){_i_("269:fd9f3c21"),this.model.hide(),this.onHideEvents("overlay"),_r_()}.bind(this)),_r_()},onHideEvents:function(e){_i_("269:66f0d6c9"),r.emit("sliding-panel/on:hide",e),r.emit("sliding-panel/"+this.id+"/on:hide",e),_r_()},onShowEvents:function(){_i_("269:93d1f199"),r.emit("sliding-panel/on:show",this.id),r.emit("sliding-panel/"+this.id+"/on:show"),_r_()},onDataShowEvents:function(){_i_("269:c124c17a"),r.emit("sliding-panel/on:data_shown",this.id),r.emit("sliding-panel/"+this.id+"/on:data_shown"),_r_()},show:function(){_i_("269:ac12d080"),this.$el.removeClass(a).addClass(s).show(),this.useScrollBlocker&&this.scrollBlocker.freeze(),this.onShowEvents(),this.eventsOn(),_r_()},beforeHide:function(e){if(_i_("269:36b3b1cc"),"function"!=typeof e)throw new Error("core/sliding-panel: `next` must be a callback function");e(),_r_()},hide:function(){_i_("269:20bb6909");var e=this,t=this.$el;this.$el.removeClass(s).addClass(a),this.wait(400,function(){_i_("269:1af521c3"),t.css("display","none"),e.useScrollBlocker&&e.scrollBlocker.unfreeze(),_r_()}),r.emit("sliding-panel/is-hidden",this.id),this.eventsOff(),_r_()},showDynamicLoading:function(){_i_("269:c778d529"),this._setupDynamicElements(),this.$dynamicContainer.hide(),this.$dynamicLoadingBlock.show(),this.$dynamicFailBlock.hide(),_r_()},showDynamicFail:function(){_i_("269:28d90f5e"),this.$dynamicContainer.hide(),this.$dynamicLoadingBlock.hide(),this.$dynamicFailBlock.show(),_r_()},showDynamicContainer:function(){_i_("269:41e296c2"),this.$dynamicContainer.show(),this.$dynamicLoadingBlock.hide(),this.$dynamicFailBlock.hide(),this.onDataShowEvents(),_r_()},_setupDynamicElements:function(){_i_("269:e515b563"),this.$dynamicContainer&&!this.$dynamicContainer.length||(this.$dynamicContainer=this.$el.find(".sliding-panel__ajax-container"),this.$dynamicLoadingBlock=this.$el.find(".sliding_panel__ajax_loading"),this.$dynamicFailBlock=this.$el.find(".sliding_panel__ajax_fail")),_r_()},renderDynamicContent:function(){_i_("269:50e3d9fe"),this._setupDynamicElements();var e=this.model.getDynamicData().content;this.$dynamicContainer.html(e),this.showDynamicContainer(),_r_()},onContainerClick:function(){_i_("269:4c41b69e"),c&&this.beforeHide(function(){_i_("269:f43a13f1"),this.model.hide(),this.onHideEvents("overlay"),_r_()}.bind(this)),c=!0,_r_()},onContentClick:function(){_i_("269:fdd89693"),c=!1,_r_()},wait:function(e,t){_i_("269:7271f8cb"),window.setTimeout(t,e),_r_()}}),_r_()}),B.define("component/core/sliding-panel-core-a11y",function(e,t,i){_i_("269:7992c4da");var n=e("component/core/sliding-panel-core"),r=e("trap-focus");i.exports=n.extend({show:function(){_i_("269:aa8ead78"),n.prototype.show.apply(this,arguments);var t=this;t.$el.attr("tabindex","0").attr("aria-hidden","false"),n.prototype.wait.call(t,400,function(){_i_("269:a47db4b6");var e=$(window).scrollTop();r.trap(t.el),$(window).scrollTop(e),_r_()}),setTimeout(function(){_i_("269:1a5bdc85"),t.$el.find("*").blur(),_r_()},400),_r_()},hide:function(){_i_("269:fe3d6f6d"),n.prototype.hide.apply(this,arguments),this.$el.attr("tabindex","-1").attr("aria-hidden","true"),_r_()},eventsOn:function(){_i_("269:bf2b2aff"),n.prototype.eventsOn.apply(this),this.$close.on("keydown.slidingPanel",this.onEnterClose.bind(this)),_r_()},eventsOff:function(){_i_("269:fe7bc792"),n.prototype.eventsOff.apply(this,arguments),this.$close.off("keydown.slidingPanel"),_r_()},onEnterClose:function(e){_i_("269:a9afc024"),13==(e.which||e.keyCode)&&this.$close.trigger("click"),_r_()}}),_r_()}),B.define("component/core/sliding-panel-trigger",function(e,t,i){_i_("269:f3a2e858");var n=e("component"),r=e("sliding-panel-model"),_=e("et");i.exports=n.extend({init:function(){if(_i_("269:7e76da42"),this.target=this.$el.data("target"),this.panelTarget=this.$el.data("target"),this.a11yOpenOnKeyDown=_.track("OTfdASFZQfBJATNWXdBGHDDESWOGVO"),"string"!=typeof this.target)throw new Error("core/sliding-panel: `data-target` is invalid or undefined!");this.shouldToggle=this.$el.data("toggle")||!1,this.activeClass=this.$el.data("active-class")||"is-selected",this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=r.get(this.target),this._initAjaxOptions(),this._attachEvents(),_r_()},_attachEvents:function(){_i_("269:8ad4bd32"),this.shouldToggle?this.a11yOpenOnKeyDown?this.$el.on("click keydown",this.onClickToggle.bind(this)):this.$el.on("click",this.onClickToggle.bind(this)):this.a11yOpenOnKeyDown?this.$el.on("click keydown",this.onClick.bind(this)):this.$el.on("click",this.onClick.bind(this)),this.model.on(r.EVENTS.hide,this.onSlidingHide.bind(this)),this.model.on(r.EVENTS.show,this.onSlidingShow.bind(this)),_r_()},onSlidingHide:function(){_i_("269:2a5b13d7"),this.removeActiveClass(),_r_()},onSlidingShow:function(){_i_("269:b3283ee9"),this.addActiveClass(),_r_()},onClick:function(e){if(_i_("269:325219a5"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();this.preventDefault&&e.preventDefault(),this.model.show(),this.addActiveClass(),_.customGoal("OTfdASFZQfBJATNWXdBGHDDESWOGVO",1),this.ajaxURL&&this.model.ajaxLoad(this.ajaxOptions),_r_()},onClickToggle:function(e){if(_i_("269:2d8938c5"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();this.preventDefault&&e.preventDefault(),_.customGoal("OTfdASFZQfBJATNWXdBGHDDESWOGVO",2),this.model.isPanelShown()?(this.model.hide(),this.removeActiveClass()):(this.model.show(),this.addActiveClass(),this.ajaxURL&&this.model.ajaxLoad(this.ajaxOptions)),_r_()},removeActiveClass:function(){_i_("269:1c690259"),this.$el.removeClass(this.activeClass),_r_()},addActiveClass:function(){_i_("269:3a7bca4f"),this.$el.addClass(this.activeClass),_r_()},_initAjaxOptions:function(){_i_("269:ee21145b"),this.$el.data("ajaxUrl")&&(this.ajaxURL=this.$el.data("ajaxUrl"),this.ajaxOptions={url:this.$el.data("ajaxUrl")+"?"+this.$el.data("ajaxParams"),ajaxTmpl:this.$el.data("ajaxTmpl")},this.model.toggleAjaxEnabled("on")),_r_()}}),_r_()}),B.define("hotel/events",function(e,t,i){_i_("269:e8961d24");var n=new(e("event-emitter"));return n.UI_SCROLL_STARTED="ui_scroll_started",n.UI_SCROLL_COMPLETED="ui_scroll_completed",_r_(n)});var fmTimer=null,fmbg=!1,num=3,cnt=0,currentAnimaingElements=[];function fmToHex(e){_i_("269:38ef8df2");var t;if(0===e)return _r_("00");for(var i="";0!==e;)e=(e-(t=e%16))/16,i="0123456789ABCDEF".charAt(t)+i;return i.length<2&&(i="0"+i),_r_(i)}function fmFade(e,t,i,n,r,_){_i_("269:21302bd9");var o="#"+fmToHex(fmb1)+fmToHex(fmb2)+fmToHex(fmb3),a=$(e).length;if(0<a){if(1<a)$(e).each(function(){_i_("269:f206a63d"),this.style.backgroundColor=o,_r_()});else if(e.style)e.style.backgroundColor=o;else try{oUseElem=$(e).get(0),oUseElem.style.backgroundColor=o}catch(e){}if(1==a&&e.id&&"bookNow1"==e.id&&document.getElementById("bookNow2")&&(document.getElementById("bookNow2").style.backgroundColor=o),fmb1!=fmb4&&(fmb4>fmb1?fmb1++:fmb1--),fmb2!=fmb5&&(fmb5>fmb2?fmb2++:fmb2--),fmb3!=fmb6&&(fmb6>fmb3?fmb3++:fmb3--),fmb1==fmb4&&fmb2==fmb5&&fmb3==fmb6)window.clearTimeout(fmTimer),fminit(e,t,i,n,r,!0);else{var s=e,l=t,c=i,d=n,h=r,u=_;fmTimer=window.setTimeout(function(){_i_("269:999cb36d"),fmFade(s,l,c,d,h,u),_r_()},u)}}_r_()}function geniusRoomsTablePopover(e,t,i){_i_("269:82f36b42");var o=e("jquery"),n=e("component");i.exports=n.extend({init:function(){_i_("269:d100211f");var e=this.$el,t=this.$el.closest("tr").prev(),i=e.data("arrow-on-benefits"),n=i?" ge-pp-rt-benefits-popover__arrow--benefits":"",r=e.data("has-border")?" ge-pp-rt-benefits-popover__arrow--border":"",_=".hprt-table-cell-price";if(i)_=".hprt-table-cell-conditions";t.find(_).addClass("ge-pp-rt-benefits-popover__arrow"+n+r),t.find(".hprt-table-cell").not(o(".hprt-table-cell-roomtype")).addClass("hprt-remove-top-border"),t.hasClass("hprt-table-last-row")&&e.addClass("room-upgrade-block-promotion"),t.removeClass("hprt-table-cheapest-block").find(".hprt-table-cell-roomtype.-first").not(o(".-last")).removeClass("droom_seperator"),_r_()}}),_r_()}function isOnScreen(e){_i_("269:53fb1681");var t=window,i=e.getBoundingClientRect(),n=t.pageYOffset,r=i.y+n;return _r_(r<t.innerHeight+n&&r>n-i.height)}function validate(e){_i_("269:b54fd399");var t=document.getElementById("errorNoRoomSelected");2==e&&(t=document.getElementById("errorNoRoomSelected2"));var i=$("#maxotel_rooms");if(!i.find(".b_room_selectbox").filter(function(){return _i_("269:d1180830"),_r_(0!=$(this).val())}).length){B.events.emit(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT);var n=B.require("hotel/rooms_table/select_room_tooltip_alert");n.resetMessage(),n.showMessage(),i.hasClass("highlight_rooms")&&fminit($(".roomMultiRoomPrice"),!0,"#FFF",[255,255,255]),i.find("select").change(function(){_i_("269:39b498ff"),0!=this.value&&(t.style.display="none",$("p.nopad").remove()),_r_()});var r=B.require("ga-tracker");return r.trackEvent(r.errorTracker,"JavaScript","please_select_one_or_more_rooms"),_r_(!1)}return"msie"===B.env.b_browser&&B.env.b_browser_version<10||"zh-cn"!==B.env.b_selected_language||"cn"!==B.env.ip_country||($("#individualrooms").addClass("roomstable_usp_overlay"),$(".roomstable_usp_overlay__container").stick_in_parent({offset_top:100}),setTimeout(function(){_i_("269:032126b1"),$("#rooms_table").off("submit","#roomsForm"),$("#roomsForm").submit(),_r_()},0)),_r_(!0)}window.fminit=function(e,t,i,n,r,_){if(_i_("269:a5f90665"),$("#maxotel_rooms").removeClass("error"),$("#errorNoRoomSelected").hide(),"object"==typeof e)oElem=e;else{if(!e||!document.getElementById(e))return _r_(!1);oElem=document.getElementById(e)}if(-1!==currentAnimaingElements.indexOf(oElem)&&void 0===_&&(window.clearTimeout(fmTimer),cnt=0),-1===currentAnimaingElements.indexOf(oElem)&&currentAnimaingElements.push(oElem),i)var o=i;else o="#ffffff";if(cnt++>num){cnt=0;var a=currentAnimaingElements.indexOf(oElem);return-1!==a&&currentAnimaingElements.splice(a,1),t&&$(oElem).css("background-color",o),_r_()}r&&1<r.length?(fmb1=r[0],fmb2=r[1],fmb3=r[2]):(fmb1=230,fmb2=237,fmb3=246),n&&1<n.length?(fmb4=n[0],fmb5=n[1],fmb6=n[2]):(fmb4=197,fmb5=212,fmb6=233);var s=fmb1>fmb4?fmb1-fmb4:fmb4-fmb1,l=fmb2>fmb5?fmb2-fmb5:fmb5-fmb2,c=fmb3>fmb6?fmb3-fmb6:fmb6-fmb3,d=330/Math.max(s,l,c);fmbg||(fmtemp=fmb1,fmb1=fmb4,fmb4=fmtemp,fmtemp=fmb2,fmb2=fmb5,fmb5=fmtemp,fmtemp=fmb3,fmb3=fmb6,fmb6=fmtemp),fmbg=!fmbg,fmFade(oElem,t,i,n,r,d),_r_()},B.ensureNamespaceExists("hotel"),B.hotel.hashedTabs=function(e,n){_i_("269:cb7b6bd7");var a=e.require("jquery"),i=a("body"),r=e.events,_=n.location,o=i.find("[data-tab]"),t="[data-tab-link]",s=i.find(t),l=[],c={},d=function(e){var t,i;if(_i_("269:584a5a17"),y(e)?(i=parseInt(e,10),e=l[i]):i=a.inArray(e,l),(t=o.filter("[data-tab='"+e+"']")).length)return t.show(),m(e),k(e,i),r.trigger("tab-opened",{tab:e}),r.trigger(e+"-tab-opened",{tab:e}),a(n).resize(),-1<i&&r.trigger("BLOCKDISPLAY"+i+".OPEN"),_r_(!0);_r_()},h=function(e){_i_("269:a5d6d508");var t,i=a(e.currentTarget),n=i.attr("rel"),r=i.attr("href")?i.attr("href").slice(1):"",_=i.attr("data-scroll"),o=i.attr("data-scroll-offset");if(e.preventDefault(),""!==r&&E(r))return d(n),C(r,{offset:o}),_r_();b(n),_&&(t=a(_)).length&&a("html, body").animate({scrollTop:t.offset().top},500,"easeOutCubic"),_r_()},u=function(){_i_("269:830820b9");var e,t,i=g(),n=_.hash.slice(1);if(i)return d(i),_r_();if(e=E(n),""!==n&&e){if((t=e.closest("[data-tab]")).length){if(!d(t.data("tab")))return _r_(!0);return B(n),_r_()}}else""===n&&d("main");_r_()},f=function(e,t){_i_("269:f0a9ac69"),t=t||e.tab,b(t),_r_()},p=function(){_i_("269:4c572a54"),i.on("click",t,h),a(n).hashchange(u),r.on("open-tab",f),_r_()},b=function(e){_i_("269:bf75f7e3"),_.hash=y(e)?"hash-blockdisplay"+e:"tab-"+e,_r_()},m=function(e){_i_("269:1c802ca7"),s.each(function(){_i_("269:9c6e7bce"),v(a(this),e),_r_()}),_r_()},v=function(e,t){if(_i_("269:b33c67a4"),e.data("default-tab")===t)return e.data("return-tab")&&e.attr("rel",e.data("return-tab")),e.data("return-html")&&e.html(e.data("return-html")),_r_(e.addClass("selected"));e.attr("rel",e.data("default-tab")).removeClass("selected"),e.data("return-html")&&e.html(e.data("default-html")),_r_()},g=function(){_i_("269:ca370e41");var e=_.hash.match(/tab-(.+)/),t=_.hash.match(/hash-blockdisplay(\d)/);if(e)return _r_(e[e.length-1]);if(t)return _r_(t[t.length-1]);return _r_(!1)},M=function(){var e;_i_("269:3ad16bd5");for(var t=0;t<o.length;t++)e=parseInt(o[t].id.match(/\d/)[0],10),l[e]=a(o[t]).data("tab");return _r_(l)},w=function(){_i_("269:0bc1ed6b");var e=_.search.match(/[^_]tab=([^&;]*)/g);if(e)return _r_(e[e.length-1].split("=")[1]);return _r_(!1)},y=function(e){return _i_("269:ce73e276"),_r_(/^\d+$/.test(e+""))},k=function(e,t){_i_("269:d87f95e5"),i.removeClass((i[0].className.match(/blockdisplay\d-opened/)||[""])[0]).removeClass((i[0].className.match(/tab-.+-opened/)||[""])[0]).addClass("tab-"+e+"-opened"),t&&-1<t&&i.addClass("blockdisplay"+t+"-opened"),_r_()},B=function(e,t,i){_i_("269:c0bc3ce7");var n=E(e),r=t||function(){};if(!n)return _r_(!1);if(o.filter(n).length)return _r_(!1);i=i||{},a("html, body").animate({scrollTop:n.offset().top-0-(i.offset||0)},500,"easeOutCubic",r),_r_()},C=function(e,t){_i_("269:2bd1bf17"),B(e,function(){_i_("269:1e142aa1"),_.hash=e,_r_()},t),_r_()},E=function(e){_i_("269:8a40121b"),e=encodeURI(e);var t=c[e];if(""===e)return _r_(!1);if(t&&t.length)return _r_(t);try{t=(t=a("#"+e)).length?t:a("a[name='"+e+"']")}catch(e){return _r_(!1)}if(t.not("[data-tab]").length)return c[e]=t,_r_(t);return _r_(!1)};return _r_({init:function(){_i_("269:23045ef3");var e=w();p(),M(),s.each(function(){_i_("269:3d4ea0a7"),a(this).data("default-html",a(this).html()).data("default-tab",a(this).attr("rel")),_r_()}),o.not(":first").not("[data-keep-tab-block-visible]").hide(),e?(d(e),""!==_.hash.slice(1)&&a(n).hashchange()):a(n).hashchange(),_r_()},getVisibleTab:function(){return _i_("269:8215dbc0"),_r_(o.filter(":visible"))},showTab:d})}(B,window),B.define("utils/makeurl",function(e,r,t){_i_("269:37a9a4ee");var n=e("querystring");function a(e){return _i_("269:3a4ddb84"),_r_(e instanceof i?e:new i("string"==typeof e?n.parseUrl(e):e))}function i(e){_i_("269:81d337d1"),this.base=e.base||"",this.query=e.query,this.hash=e.hash;var t=this.base.match(/^(((https?)\:\/\/)[a-zA-Z0-9][a-zA-Z0-9\-\.\:]+[a-zA-Z0-9])(\/.*)/);t?(this.origin=t[1],this.scheme=t[3]):this.path=this.base,_r_()}(r=t.exports=function(e,t,i){_i_("269:b1c6469b");var n=r.parse(e);return $.extend(n.query,t),_r_(n.toString(i))}).parse=a,r.pick=function(e,t,i,n){_i_("269:0f81736e");var r=a(e),_=r.query,o={};i&&$.extend(_,i);return t.forEach(function(e){if(_i_("269:094899f0"),e instanceof RegExp)for(var t in _)_.hasOwnProperty(t)&&e.test(t)&&(o[t]=_[t]);else _.hasOwnProperty(e)&&(o[e]=_[e]);_r_()}),r.query=o,_r_(r.toString(n))},i.prototype.toString=function(e){_i_("269:134103fe"),e=e||{};var t=this.base||"",i=this.query?n.stringify(this.query,e):"";return i&&(t+="?"+i),this.hash&&e.keepHash&&(t+="#"+this.hash),_r_(t)},_r_()}),B.define("utils/uuid4",[],function(){return _i_("269:8fea0e4e"),_r_(function(){_i_("269:ee22a2af");var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){_i_("269:8aa95324");var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),_r_(("x"==e?t:3&t|8).toString(16))});return _r_(e)})}),B.define("persistent-view",function(e,t,i){_i_("269:ffe7da10");var n,_=B.debug("p-view"),r=e("querystring"),o=e("event-emitter"),a=e("utils/makeurl"),s={paramName:"activeTab",isomorphic:!1};function l(e){_i_("269:efd3126e"),o.extend(this),this.options=Object.assign({},s,e),this.views={},this._aliases={},this._baseUrl=location.href,n=document.title,this.init(),_r_()}l.prototype.enabled=!(!window.history||!window.history.pushState),l.prototype.getTitle=function(e){if(_i_("269:bcdf5631"),this.options.getTitle)return _r_(this.options.getTitle(e));return _r_("("+e+")"+n)},l.prototype.init=function(){_i_("269:c192049e");window.addEventListener("popstate",this._onPopState.bind(this)),_r_()},l.prototype._onPopState=function(e){if(_i_("269:4323b3c6"),this._popping)return _r_();if(!this.enabled)return _r_();var t=e.state;if(!t||!t.pview){if(_i_("269:366efdbe"),!_r_("complete"===document.readyState))return _r_();var i=this._getCurrent();if(i&&i!==this.defaultView&&location.hash)return _r_();return _r_(this.load(i))}this.load(t.pview),_r_()},l.prototype.aliases=function(e,t){_i_("269:147c6477"),this._aliases[e]=t,_r_()},l.prototype.register=function(e,t){_i_("269:048c938d"),t=Object.assign({name:e},t),(this.views[e]=t).isDefault&&(this.defaultView=e),this._isCurrent(e)&&this._loadCurrent(e),_r_()},l.prototype._isCurrent=function(e){_i_("269:2a6e2e85");var t=this._getCurrent();return _r_(t&&e===t)},l.prototype.pushState=l.prototype.push=function(e,t,i){if(_i_("269:b9ee70f3"),e=this._aliases[e]||e,this._loading||!this.enabled)return _r_();if(this.current===e&&!i)return _.log("pushing duplicate history item, drop"),_r_();var n=this.getStepNum()+1;_.log("push history",n+":",e,"extras:",t);var r={pview:e,prev:this.current,step:n,extras:t};this.emit("push",r),history.pushState(r,this.getTitle(e),this._getUrl(e,t)),this._baseUrl=location.href,this.previousView=this.current,this.current=e,_r_()},l.prototype.pop=function(e){if(_i_("269:005bec36"),this._loading||this._popping||!this.enabled)return _r_();var t=this;this._popping=!0,window.history.state&&(e&&history.state.pview!==e||(this.emit("pop",e),history.back())),setTimeout(function(){_i_("269:984c404e"),t._popping=!1;var e=window.history.state;t.previousView=t.current,t.current=e&&e.pview||t.defaultView,_r_()}),_r_()},l.prototype.go=l.prototype.back=function(e){_i_("269:364a00fe");history.go(e||-1-this.getStepNum()),this.previousView=this.current,this.current=this.getCurrent(),_r_()},l.prototype.getStepNum=function(){return _i_("269:f45cbb3c"),_r_(history.state&&history.state.step||0)},l.prototype.replaceState=l.prototype.replaceWith=function(e,t){if(_i_("269:41d7e408"),e=this._aliases[e]||e,this._loading||!this.enabled)return _r_();_.log("replace history:",e,"extras:",t),history.replaceState({pview:e,prev:history.state?history.state.prev:"",step:this.getStepNum(),extras:t},this.getTitle(e),this._getUrl(e,t)),this._baseUrl=location.href,this.previousView=this.current,this.current=e,_r_()},l.prototype._getUrl=function(e,t){_i_("269:77df1afa"),e=this._aliases[e]||e;var i={};return i[this.options.paramName]=e,i=Object.assign(i,t),_r_(a(this._baseUrl,i,{skipNull:!0}))},l.prototype._loadCurrent=function(){_i_("269:38c85cfd");var e=this._getCurrent(),t=e&&!1!==this.getConfig(e,"persistent"),i=e&&this.getConfig(e,"asap");e&&t&&this.defaultView!==e&&(_.log("initial view: ",e),i?this.load(e):this._loadAfterDomReady(e)),_r_()},l.prototype._loadAfterDomReady=function(e){_i_("269:1cca66e9");var t,i=this;t=function(){_i_("269:382b2cfb"),setTimeout(function(){_i_("269:6350b68c"),i.load(e),_r_()},20),_r_()},_i_("269:db986809"),(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t),_r_(),_r_()},l.prototype.load=function(e,t,i,n){if(_i_("269:474a1de4"),"ajax-action"!=(e=(e=this._aliases[e]||e)||this.getCurrent())){if(!e)return _.warn("can't find any persistent view to load."),this._loading=!0,this._destroyCurrent(),this._loading=!1,_r_(!1);if(!(e in this.views))return _.warn("can't load this nonexisitent view:",e),_r_(!1);if(e===this.current)return _.log('already at view "'+e+'". will not load.'),this.views[e].loadDuplicate&&this.views[e].loadDuplicate(t),_r_();this._loading=!0,this._destroyCurrent(e),_.log("load:",e),this.views[e].load(t),this._loading=!1,i&&this.push(e,t,n),this.current=e}return _r_(!0)},l.prototype._destroyCurrent=function(e){_i_("269:a5bd1073"),this.current&&(this.previousView=this.current,this.views[this.current]&&this.views[this.current].destroy&&(e=this.views[e],this.views[this.current].destroy(e)),this.current=null),_r_()},l.prototype.getConfig=function(e,t){return _i_("269:08e81b94"),_r_(this.views[e]&&this.views[e][t])},l.prototype._getCurrent=function(){return _i_("269:b32f4eb0"),_r_(function(e,t){_i_("269:f74c7609");var i=r.parseUrl(e).query;return _r_(i[t])}(location.href,this.options.paramName))},l.prototype.getCurrent=function(){return _i_("269:89162f34"),_r_(this._getCurrent()||this.defaultView)},l.prototype.setBaseUrl=function(e){_i_("269:6850a72c"),this._baseUrl=e,_r_()},l.prototype.isLoading=function(){return _i_("269:c93a11ff"),_r_(this._loading)},i.exports=new l,i.exports.Manager=l,_r_()}),B.define("tabbed-nav",function(e,t,i){_i_("269:3d701723");var n=B.require("persistent-view"),r="main",_=!1;i.exports={getDefaultTab:function(){return _i_("269:018343a6"),_r_(r)},registerDefaultTab:function(){_i_("269:6178d4b7"),_||(_=!0,n.register(r,{isDefault:!0,load:function(){_i_("269:24fbaa1f"),n.current=r,_r_()}}),n.current=r),_r_()}},_r_()}),function(t,i){_i_("269:7c7018b4"),"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return _i_("269:59bbbf931"),_r_(i(t,e))}):"object"==typeof module&&module.exports?module.exports=i(t,require("jquery")):t.jQueryBridget=i(t,t.jQuery),_r_()}(window,function(e,t){"use strict";function i(l,r,c){_i_("269:f3630f90"),(c=c||t||e.jQuery)&&(r.prototype.option||(r.prototype.option=function(e){_i_("269:2d1f00dd"),c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e)),_r_()}),c.fn[l]=function(e){if(_i_("269:03bacea1"),"string"==typeof e){var t=_.call(arguments,1);return _r_(function(e,_,o){_i_("269:579b8343");var a,s="$()."+l+'("'+_+'")';return _r_((e.each(function(e,t){_i_("269:64740adc");var i=c.data(t,l);if(!i)return _r_(void d(l+" not initialized. Cannot call methods, i.e. "+s));var n=i[_];if(!n||"_"==_.charAt(0))return _r_(void d(s+" is not a valid method"));var r=n.apply(i,o);a=void 0===a?r:a,_r_()}),void 0!==a?a:e))}(this,e,t))}return _r_((i=this,n=e,_i_("269:cab09de3"),i.each(function(e,t){_i_("269:84b4ff06");var i=c.data(t,l);i?(i.option(n),i._init()):(i=new r(t,n),c.data(t,l,i)),_r_()}),_r_(),this));var i,n},n(c)),_r_()}function n(e){_i_("269:164f8977"),!e||e&&e.bridget||(e.bridget=i),_r_()}_i_("269:8ef163e7");var _=Array.prototype.slice,r=e.console,d=void 0===r?function(){}:function(e){_i_("269:87a4c158"),r.error(e),_r_()};return _r_((n(t||e.jQuery),i))}),function(e,t){_i_("269:b1a64d7c"),"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t(),_r_()}("undefined"!=typeof window?window:this,function(){function e(){}_i_("269:7a68e3a7");var t=e.prototype;return _r_((t.on=function(e,t){if(_i_("269:b88f8b26"),e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return _r_((-1==n.indexOf(t)&&n.push(t),this))}_r_()},t.once=function(e,t){if(_i_("269:bdf9caaf"),e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return _r_((n[t]=!0,this))}_r_()},t.off=function(e,t){_i_("269:eb69be6a");var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return _r_((-1!=n&&i.splice(n,1),this))}_r_()},t.emitEvent=function(e,t){_i_("269:263c0591");var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],r=0;r<i.length;r++){var _=i[r];n&&n[_]&&(this.off(e,_),delete n[_]),_.apply(this,t)}return _r_(this)}_r_()},t.allOff=function(){_i_("269:40548372"),delete this._events,delete this._onceEvents,_r_()},e))}),function(e,t){_i_("269:e87d25db"),"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t(),_r_()}(window,function(){"use strict";function m(e){_i_("269:880bb8d0");var t=parseFloat(e),i=-1==e.indexOf("%")&&!isNaN(t);return _r_(i&&t)}function v(e){_i_("269:ae72ff16");var t=getComputedStyle(e);return _r_((t||i("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t))}function g(e){if(_i_("269:d792897c"),function(){if(_i_("269:6f5d556f"),!k){k=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var i=v(e);M=200==Math.round(m(i.width)),g.isBoxSizeOuter=M,t.removeChild(e)}_r_()}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=v(e);if("none"==t.display)return _r_(function(){_i_("269:674d7559");for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<y;t++)e[w[t]]=0;return _r_(e)}());var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var n=i.isBorderBox="border-box"==t.boxSizing,r=0;r<y;r++){var _=w[r],o=t[_],a=parseFloat(o);i[_]=isNaN(a)?0:a}var s=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,u=i.borderTopWidth+i.borderBottomWidth,f=n&&M,p=m(t.width);!1!==p&&(i.width=p+(f?0:s+h));var b=m(t.height);return _r_((!1!==b&&(i.height=b+(f?0:l+u)),i.innerWidth=i.width-(s+h),i.innerHeight=i.height-(l+u),i.outerWidth=i.width+c,i.outerHeight=i.height+d,i))}_r_()}_i_("269:e17f0d1a");var M,i="undefined"==typeof console?function(){}:function(e){_i_("269:b916a30f"),console.error(e),_r_()},w=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],y=w.length,k=!1;return _r_(g)}),function(e,t){"use strict";_i_("269:2b927bdb"),"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t(),_r_()}(window,function(){"use strict";_i_("269:3fbf5a20");var i=function(){_i_("269:25924a32");var e=window.Element.prototype;if(e.matches)return _r_("matches");if(e.matchesSelector)return _r_("matchesSelector");for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return _r_(n)}_r_()}();return _r_(function(e,t){return _i_("269:d1800ead"),_r_(e[i](t))})}),function(t,i){_i_("269:67402c05"),"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return _i_("269:59bbbf93"),_r_(i(t,e))}):"object"==typeof module&&module.exports?module.exports=i(t,require("desandro-matches-selector")):t.fizzyUIUtils=i(t,t.matchesSelector),_r_()}(window,function(l,_){_i_("269:8007e9dd");var c={extend:function(e,t){for(var i in _i_("269:663f66d4"),t)e[i]=t[i];return _r_(e)},modulo:function(e,t){return _i_("269:d0fddff2"),_r_((e%t+t)%t)}},i=Array.prototype.slice;c.makeArray=function(e){if(_i_("269:cd0f09ce"),Array.isArray(e))return _r_(e);if(null==e)return _r_([]);var t="object"==typeof e&&"number"==typeof e.length;return _r_(t?i.call(e):[e])},c.removeFrom=function(e,t){_i_("269:237ef748");var i=e.indexOf(t);-1!=i&&e.splice(i,1),_r_()},c.getParent=function(e,t){for(_i_("269:bd3da0c9");e.parentNode&&e!=document.body;)if(e=e.parentNode,_(e,t))return _r_(e);_r_()},c.getQueryElement=function(e){return _i_("269:c599badd"),_r_("string"==typeof e?document.querySelector(e):e)},c.handleEvent=function(e){_i_("269:59fde65a");var t="on"+e.type;this[t]&&this[t](e),_r_()},c.filterFindElements=function(e,n){_i_("269:292e86b4"),e=c.makeArray(e);var r=[];return _r_((e.forEach(function(e){if(_i_("269:df515162"),e instanceof HTMLElement){if(!n)return _r_(void r.push(e));_(e,n)&&r.push(e);for(var t=e.querySelectorAll(n),i=0;i<t.length;i++)r.push(t[i])}_r_()}),r))},c.debounceMethod=function(e,t,n){_i_("269:a0f5bca5"),n=n||100;var r=e.prototype[t],_=t+"Timeout";e.prototype[t]=function(){_i_("269:14a8aa66");var e=this[_];clearTimeout(e);var t=arguments,i=this;this[_]=setTimeout(function(){_i_("269:8f65979c"),r.apply(i,t),delete i[_],_r_()},n),_r_()},_r_()},c.docReady=function(e){_i_("269:f5339e70");var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e),_r_()},c.toDashed=function(e){return _i_("269:c40564fa"),_r_(e.replace(/(.)([A-Z])/g,function(e,t,i){return _i_("269:06d6aef3"),_r_(t+"-"+i)}).toLowerCase())};var d=l.console;return _r_((c.htmlInit=function(a,s){_i_("269:016660d6"),c.docReady(function(){_i_("269:09eba771");var e=c.toDashed(s),r="data-"+e,t=document.querySelectorAll("["+r+"]"),i=document.querySelectorAll(".js-"+e),n=c.makeArray(t).concat(c.makeArray(i)),_=r+"-options",o=l.jQuery;n.forEach(function(t){_i_("269:0718c6da");var e,i=t.getAttribute(r)||t.getAttribute(_);try{e=i&&JSON.parse(i)}catch(e){return _r_(void(d&&d.error("Error parsing "+r+" on "+t.className+": "+e)))}var n=new a(t,e);o&&o.data(t,s,n),_r_()}),_r_()}),_r_()},c))}),function(e,t){_i_("269:74d2c5ed"),"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize)),_r_()}(window,function(e,t){"use strict";function i(e,t){_i_("269:5214bbcb"),e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create()),_r_()}_i_("269:703fc276");var n=document.documentElement.style,r="string"==typeof n.transition?"transition":"WebkitTransition",_="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],a={transform:_,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},s=i.prototype=Object.create(e.prototype);s.constructor=i,s._create=function(){_i_("269:87313da8"),this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"}),_r_()},s.handleEvent=function(e){_i_("269:59fde65a1");var t="on"+e.type;this[t]&&this[t](e),_r_()},s.getSize=function(){_i_("269:bf482252"),this.size=t(this.element),_r_()},s.css=function(e){_i_("269:85abc128");var t=this.element.style;for(var i in e){t[a[i]||i]=e[i]}_r_()},s.getPosition=function(){_i_("269:d4af21e3");var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=e[t?"left":"right"],r=e[i?"top":"bottom"],_=parseFloat(n),o=parseFloat(r),a=this.layout.size;-1!=n.indexOf("%")&&(_=_/100*a.width),-1!=r.indexOf("%")&&(o=o/100*a.height),_=isNaN(_)?0:_,o=isNaN(o)?0:o,_-=t?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=_,this.position.y=o,_r_()},s.layoutPosition=function(){_i_("269:e2993d3a");var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=i?"paddingLeft":"paddingRight",_=i?"left":"right",o=i?"right":"left",a=this.position.x+e[r];t[_]=this.getXValue(a),t[o]="";var s=n?"paddingTop":"paddingBottom",l=n?"top":"bottom",c=n?"bottom":"top",d=this.position.y+e[s];t[l]=this.getYValue(d),t[c]="",this.css(t),this.emitEvent("layout",[this]),_r_()},s.getXValue=function(e){_i_("269:454a8add");var t=this.layout._getOption("horizontal");return _r_(this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px")},s.getYValue=function(e){_i_("269:4b915134");var t=this.layout._getOption("horizontal");return _r_(this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px")},s._transitionTo=function(e,t){_i_("269:6a7b8e98"),this.getPosition();var i=this.position.x,n=this.position.y,r=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),r&&!this.isTransitioning)return _r_(void this.layoutPosition());var _=e-i,o=t-n,a={};a.transform=this.getTranslate(_,o),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}),_r_()},s.getTranslate=function(e,t){_i_("269:ce0b1f49");var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return _r_("translate3d("+(e=i?e:-e)+"px, "+(t=n?t:-t)+"px, 0)")},s.goTo=function(e,t){_i_("269:412c4cc1"),this.setPosition(e,t),this.layoutPosition(),_r_()},s.moveTo=s._transitionTo,s.setPosition=function(e,t){_i_("269:56fd2a02"),this.position.x=parseFloat(e),this.position.y=parseFloat(t),_r_()},s._nonTransition=function(e){for(var t in _i_("269:58fa7cf0"),this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this);_r_()},s.transition=function(e){if(_i_("269:8aafbfb5"),!parseFloat(this.layout.options.transitionDuration))return _r_(void this._nonTransition(e));var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0,_r_()};var l,c="opacity,"+(l=_,_i_("269:277dcdfd"),_r_(l.replace(/([A-Z])/g,function(e){return _i_("269:3e86ea51"),_r_("-"+e.toLowerCase())})));s.enableTransition=function(){if(_i_("269:19cd8c15"),!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}_r_()},s.onwebkitTransitionEnd=function(e){_i_("269:75e6b6de"),this.ontransitionend(e),_r_()},s.onotransitionend=function(e){_i_("269:75e6b6de1"),this.ontransitionend(e),_r_()};var d={"-webkit-transform":"transform"};s.ontransitionend=function(e){if(_i_("269:e1c062a8"),e.target===this.element){var t=this._transn,i=d[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in _i_("269:c2041b84"),e)return _r_(!1);return _r_(!0)}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}_r_()},s.disableTransition=function(){_i_("269:7f5cea10"),this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1,_r_()},s._removeStyles=function(e){_i_("269:7f4ab867");var t={};for(var i in e)t[i]="";this.css(t),_r_()};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return _r_((s.removeTransitionStyles=function(){_i_("269:b2a9e447"),this.css(h),_r_()},s.stagger=function(e){_i_("269:e0195710"),e=isNaN(e)?0:e,this.staggerDelay=e+"ms",_r_()},s.removeElem=function(){_i_("269:24bf4b15"),this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]),_r_()},s.remove=function(){return _i_("269:dd223822"),_r_(r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){_i_("269:9cb4832f"),this.removeElem(),_r_()}),void this.hide()):void this.removeElem())},s.reveal=function(){_i_("269:c82e0d7b"),delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t}),_r_()},s.onRevealTransitionEnd=function(){_i_("269:420b9056"),this.isHidden||this.emitEvent("reveal"),_r_()},s.getHideRevealTransitionEndProperty=function(e){_i_("269:f947349a");var t=this.layout.options[e];if(t.opacity)return _r_("opacity");for(var i in t)return _r_(i);_r_()},s.hide=function(){_i_("269:deb6e351"),this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t}),_r_()},s.onHideTransitionEnd=function(){_i_("269:aecb6fb2"),this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide")),_r_()},s.destroy=function(){_i_("269:d06843dc"),this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""}),_r_()},i))}),function(r,_){"use strict";_i_("269:bdf14427"),"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,i,n){return _i_("269:51fcea7d"),_r_(_(r,e,t,i,n))}):"object"==typeof module&&module.exports?module.exports=_(r,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):r.Outlayer=_(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item),_r_()}(window,function(e,t,_,r,n){"use strict";function o(e,t){_i_("269:e6075c83");var i=r.getQueryElement(e);if(!i)return _r_(void(s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||e))));this.element=i,l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var n=++c;this.element.outlayerGUID=n,(d[n]=this)._create(),this._getOption("initLayout")&&this.layout(),_r_()}function a(e){function t(){_i_("269:8b84741d"),e.apply(this,arguments),_r_()}return _i_("269:3659994d"),_r_((t.prototype=Object.create(e.prototype)).constructor=t)}_i_("269:3a43adcb");var s=e.console,l=e.jQuery,i=function(){},c=0,d={};o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=o.prototype;r.extend(h,t.prototype),h.option=function(e){_i_("269:81fc8707"),r.extend(this.options,e),_r_()},h._getOption=function(e){_i_("269:ead89cfc");var t=this.constructor.compatOptions[e];return _r_(t&&void 0!==this.options[t]?this.options[t]:this.options[e])},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){_i_("269:1b974058"),this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize(),_r_()},h.reloadItems=function(){_i_("269:6ccce82c"),this.items=this._itemize(this.element.children),_r_()},h._itemize=function(e){_i_("269:3811c0cd");for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],r=0;r<t.length;r++){var _=new i(t[r],this);n.push(_)}return _r_(n)},h._filterFindItemElements=function(e){return _i_("269:22e0353c"),_r_(r.filterFindElements(e,this.options.itemSelector))},h.getItemElements=function(){return _i_("269:13343c59"),_r_(this.items.map(function(e){return _i_("269:73b708e6"),_r_(e.element)}))},h.layout=function(){_i_("269:de3cac14"),this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0,_r_()},h._init=h.layout,h._resetLayout=function(){_i_("269:4bcb2bb2"),this.getSize(),_r_()},h.getSize=function(){_i_("269:a721e5f1"),this.size=_(this.element),_r_()},h._getMeasurement=function(e,t){_i_("269:a6edd742");var i,n=this.options[e];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[e]=i?_(i)[t]:n):this[e]=0,_r_()},h.layoutItems=function(e,t){_i_("269:8bd0139c"),e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout(),_r_()},h._getItemsForLayout=function(e){return _i_("269:06308755"),_r_(e.filter(function(e){return _i_("269:3b6a9d60"),_r_(!e.isIgnored)}))},h._layoutItems=function(e,i){if(_i_("269:4962306a"),this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){_i_("269:be101b74");var t=this._getItemLayoutPosition(e);t.item=e,t.isInstant=i||e.isLayoutInstant,n.push(t),_r_()},this),this._processLayoutQueue(n)}_r_()},h._getItemLayoutPosition=function(){return _i_("269:088fdd93"),_r_({x:0,y:0})},h._processLayoutQueue=function(e){_i_("269:1bb71e87"),this.updateStagger(),e.forEach(function(e,t){_i_("269:78b6f26c"),this._positionItem(e.item,e.x,e.y,e.isInstant,t),_r_()},this),_r_()},h.updateStagger=function(){_i_("269:9416c197");var e=this.options.stagger;return _r_(null==e?void(this.stagger=0):(this.stagger=function(e){if(_i_("269:8550e966"),"number"==typeof e)return _r_(e);var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],n=t&&t[2];if(!i.length)return _r_(0);i=parseFloat(i);var r=u[n]||1;return _r_(i*r)}(e),this.stagger))},h._positionItem=function(e,t,i,n,r){_i_("269:85c92a64"),n?e.goTo(t,i):(e.stagger(r*this.stagger),e.moveTo(t,i)),_r_()},h._postLayout=function(){_i_("269:f6297eb7"),this.resizeContainer(),_r_()},h.resizeContainer=function(){if(_i_("269:d6a0fc09"),this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}_r_()},h._getContainerSize=i,h._setContainerMeasure=function(e,t){if(_i_("269:c7e6004c"),void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}_r_()},h._emitCompleteOnItems=function(t,e){function i(){_i_("269:fe380aef"),r.dispatchEvent(t+"Complete",null,[e]),_r_()}function n(){_i_("269:ae61397b"),++o==_&&i(),_r_()}_i_("269:fa03ea21");var r=this,_=e.length;if(!e||!_)return _r_(void i());var o=0;e.forEach(function(e){_i_("269:08001c73"),e.once(t,n),_r_()}),_r_()},h.dispatchEvent=function(e,t,i){_i_("269:0f05c383");var n=t?[t].concat(i):i;if(this.emitEvent(e,n),l)if(this.$element=this.$element||l(this.element),t){var r=l.Event(t);r.type=e,this.$element.trigger(r,i)}else this.$element.trigger(e,i);_r_()},h.ignore=function(e){_i_("269:c220662d");var t=this.getItem(e);t&&(t.isIgnored=!0),_r_()},h.unignore=function(e){_i_("269:348a6635");var t=this.getItem(e);t&&delete t.isIgnored,_r_()},h.stamp=function(e){_i_("269:383bc05a"),(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this)),_r_()},h.unstamp=function(e){_i_("269:d8cb64a1"),(e=this._find(e))&&e.forEach(function(e){_i_("269:a9d56c88"),r.removeFrom(this.stamps,e),this.unignore(e),_r_()},this),_r_()},h._find=function(e){return _i_("269:c028b85e"),_r_(e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)):void 0)},h._manageStamps=function(){_i_("269:91528f3f"),this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this)),_r_()},h._getBoundingRect=function(){_i_("269:60022245");var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)},_r_()},h._manageStamp=i,h._getElementOffset=function(e){_i_("269:7df95916");var t=e.getBoundingClientRect(),i=this._boundingRect,n=_(e),r={left:t.left-i.left-n.marginLeft,top:t.top-i.top-n.marginTop,right:i.right-t.right-n.marginRight,bottom:i.bottom-t.bottom-n.marginBottom};return _r_(r)},h.handleEvent=r.handleEvent,h.bindResize=function(){_i_("269:61c4db48"),e.addEventListener("resize",this),this.isResizeBound=!0,_r_()},h.unbindResize=function(){_i_("269:832919aa"),e.removeEventListener("resize",this),this.isResizeBound=!1,_r_()},h.onresize=function(){_i_("269:c430899b"),this.resize(),_r_()},r.debounceMethod(o,"onresize",100),h.resize=function(){_i_("269:f306e49f"),this.isResizeBound&&this.needsResizeLayout()&&this.layout(),_r_()},h.needsResizeLayout=function(){_i_("269:69607ef7");var e=_(this.element),t=this.size&&e;return _r_(t&&e.innerWidth!==this.size.innerWidth)},h.addItems=function(e){_i_("269:ecc04117");var t=this._itemize(e);return _r_((t.length&&(this.items=this.items.concat(t)),t))},h.appended=function(e){_i_("269:d3798a8e");var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t)),_r_()},h.prepended=function(e){_i_("269:9e5feed0");var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}_r_()},h.reveal=function(e){if(_i_("269:944ec204"),this._emitCompleteOnItems("reveal",e),e&&e.length){var i=this.updateStagger();e.forEach(function(e,t){_i_("269:f1a2b39c"),e.stagger(t*i),e.reveal(),_r_()})}_r_()},h.hide=function(e){if(_i_("269:da251981"),this._emitCompleteOnItems("hide",e),e&&e.length){var i=this.updateStagger();e.forEach(function(e,t){_i_("269:4331016a"),e.stagger(t*i),e.hide(),_r_()})}_r_()},h.revealItemElements=function(e){_i_("269:bd8d4120");var t=this.getItems(e);this.reveal(t),_r_()},h.hideItemElements=function(e){_i_("269:82bcb502");var t=this.getItems(e);this.hide(t),_r_()},h.getItem=function(e){_i_("269:001b7775");for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return _r_(i)}_r_()},h.getItems=function(e){_i_("269:a42dc02c"),e=r.makeArray(e);var i=[];return _r_((e.forEach(function(e){_i_("269:2918b54a");var t=this.getItem(e);t&&i.push(t),_r_()},this),i))},h.remove=function(e){_i_("269:38a9f1ac");var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){_i_("269:a13a5cc9"),e.remove(),r.removeFrom(this.items,e),_r_()},this),_r_()},h.destroy=function(){_i_("269:523fae6e");var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){_i_("269:684a3bc3"),e.destroy(),_r_()}),this.unbindResize();var t=this.element.outlayerGUID;delete d[t],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace),_r_()},o.data=function(e){_i_("269:a51e583c");var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return _r_(t&&d[t])},o.create=function(e,t){_i_("269:44d104ab");var i=a(o);return _r_((i.defaults=r.extend({},o.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},o.compatOptions),i.namespace=e,i.data=o.data,i.Item=a(n),r.htmlInit(i,e),l&&l.bridget&&l.bridget(e,i),i))};var u={ms:1,s:1e3};return _r_((o.Item=n,o))}),function(e,t){_i_("269:7e106ce5"),"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize),_r_()}(window,function(e,l){_i_("269:97cc27ff");var t=e.create("masonry");t.compatOptions.fitWidth="isFitWidth";var i=t.prototype;return _r_((i._resetLayout=function(){_i_("269:fd1df061"),this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0,_r_()},i.measureColumns=function(){if(_i_("269:3a7b6e89"),this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&l(t).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,r=n/i,_=i-n%i;r=Math[_&&_<1?"round":"floor"](r),this.cols=Math.max(r,1),_r_()},i.getContainerWidth=function(){_i_("269:a4ee1fde");var e=this._getOption("fitWidth")?this.element.parentNode:this.element,t=l(e);this.containerWidth=t&&t.innerWidth,_r_()},i._getItemLayoutPosition=function(e){_i_("269:879f6572"),e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),r={x:this.columnWidth*n.col,y:n.y},_=n.y+e.size.outerHeight,o=i+n.col,a=n.col;a<o;a++)this.colYs[a]=_;return _r_(r)},i._getTopColPosition=function(e){_i_("269:f3034a58");var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return _r_({col:t.indexOf(i),y:i})},i._getTopColGroup=function(e){if(_i_("269:f3d0583c"),e<2)return _r_(this.colYs);for(var t=[],i=this.cols+1-e,n=0;n<i;n++)t[n]=this._getColGroupY(n,e);return _r_(t)},i._getColGroupY=function(e,t){if(_i_("269:da99ef1d"),t<2)return _r_(this.colYs[e]);var i=this.colYs.slice(e,e+t);return _r_(Math.max.apply(Math,i))},i._getHorizontalColPosition=function(e,t){_i_("269:d0a94c73");var i=this.horizontalColIndex%this.cols;i=1<e&&i+e>this.cols?0:i;var n=t.size.outerWidth&&t.size.outerHeight;return _r_((this.horizontalColIndex=n?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}))},i._manageStamp=function(e){_i_("269:f5e5fef4");var t=l(e),i=this._getElementOffset(e),n=this._getOption("originLeft")?i.left:i.right,r=n+t.outerWidth,_=Math.floor(n/this.columnWidth);_=Math.max(0,_);var o=Math.floor(r/this.columnWidth);o-=r%this.columnWidth?0:1,o=Math.min(this.cols-1,o);for(var a=(this._getOption("originTop")?i.top:i.bottom)+t.outerHeight,s=_;s<=o;s++)this.colYs[s]=Math.max(a,this.colYs[s]);_r_()},i._getContainerSize=function(){_i_("269:11d929a7"),this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return _r_((this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e))},i._getContainerFitWidth=function(){_i_("269:a6be48e6");for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return _r_((this.cols-e)*this.columnWidth-this.gutter)},i.needsResizeLayout=function(){_i_("269:3a759b17");var e=this.containerWidth;return _r_((this.getContainerWidth(),e!=this.containerWidth))},t))}),function(e,t){_i_("269:1007fc5f"),"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t(),_r_()}("undefined"!=typeof window?window:this,function(){function e(){}_i_("269:60b0c46e");var t=e.prototype;return _r_((t.on=function(e,t){if(_i_("269:4751a6f3"),e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return _r_((-1==n.indexOf(t)&&n.push(t),this))}_r_()},t.once=function(e,t){if(_i_("269:ac16e306"),e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return _r_((n[t]=!0,this))}_r_()},t.off=function(e,t){_i_("269:eef01a20");var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return _r_((-1!=n&&i.splice(n,1),this))}_r_()},t.emitEvent=function(e,t){_i_("269:885568f0");var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],r=0;r<i.length;r++){var _=i[r];n&&n[_]&&(this.off(e,_),delete n[_]),_.apply(this,t)}return _r_(this)}_r_()},t.allOff=function(){_i_("269:405483721"),delete this._events,delete this._onceEvents,_r_()},e))}),function(t,i){"use strict";_i_("269:8b1fc4cc"),"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return _i_("269:6659d31f"),_r_(i(t,e))}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.imagesLoaded=i(t,t.EvEmitter),_r_()}("undefined"!=typeof window?window:this,function(t,e){function r(e,t){for(var i in _i_("269:b03f39ec"),t)e[i]=t[i];return _r_(e)}function _(e,t,i){if(_i_("269:b24e34d5"),!(this instanceof _))return _r_(new _(e,t,i));var n=e;return _r_(("string"==typeof e&&(n=document.querySelectorAll(e)),n?(this.elements=function(e){if(_i_("269:b85e2f44"),Array.isArray(e))return _r_(e);var t="object"==typeof e&&"number"==typeof e.length;return _r_(t?s.call(e):[e])}(n),this.options=r({},this.options),"function"==typeof t?i=t:r(this.options,t),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(n||e))))}function i(e){_i_("269:373c1abc"),this.img=e,_r_()}function n(e,t){_i_("269:6c9e1845"),this.url=e,this.element=t,this.img=new Image,_r_()}_i_("269:6de8909b");var o=t.jQuery,a=t.console,s=Array.prototype.slice;(_.prototype=Object.create(e.prototype)).options={},_.prototype.getImages=function(){_i_("269:97e6b9f7"),this.images=[],this.elements.forEach(this.addElementImages,this),_r_()},_.prototype.addElementImages=function(e){_i_("269:7757bb01"),"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&l[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var r=i[n];this.addImage(r)}if("string"==typeof this.options.background){var _=e.querySelectorAll(this.options.background);for(n=0;n<_.length;n++){var o=_[n];this.addElementBackgroundImages(o)}}}_r_()};var l={1:!0,9:!0,11:!0};return _r_((_.prototype.addElementBackgroundImages=function(e){_i_("269:74d54b54");var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var r=n&&n[2];r&&this.addBackground(r,e),n=i.exec(t.backgroundImage)}_r_()},_.prototype.addImage=function(e){_i_("269:1edf2f20");var t=new i(e);this.images.push(t),_r_()},_.prototype.addBackground=function(e,t){_i_("269:101acfd1");var i=new n(e,t);this.images.push(i),_r_()},_.prototype.check=function(){function t(e,t,i){_i_("269:92554416"),setTimeout(function(){_i_("269:47481096"),n.progress(e,t,i),_r_()}),_r_()}_i_("269:a0b6a887");var n=this;return _r_((this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){_i_("269:cf1a7139"),e.once("progress",t),e.check(),_r_()}):void this.complete()))},_.prototype.progress=function(e,t,i){_i_("269:b2d96cd7"),this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t),_r_()},_.prototype.complete=function(){_i_("269:11818d39");var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}_r_()},(i.prototype=Object.create(e.prototype)).check=function(){_i_("269:cc1fb4cb");var e=this.getIsImageComplete();return _r_(e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src)))},i.prototype.getIsImageComplete=function(){return _i_("269:59372573"),_r_(this.img.complete&&this.img.naturalWidth)},i.prototype.confirm=function(e,t){_i_("269:471aa025"),this.isLoaded=e,this.emitEvent("progress",[this,this.img,t]),_r_()},i.prototype.handleEvent=function(e){_i_("269:9c957f41");var t="on"+e.type;this[t]&&this[t](e),_r_()},i.prototype.onload=function(){_i_("269:1395c207"),this.confirm(!0,"onload"),this.unbindEvents(),_r_()},i.prototype.onerror=function(){_i_("269:e07a6c15"),this.confirm(!1,"onerror"),this.unbindEvents(),_r_()},i.prototype.unbindEvents=function(){_i_("269:0f1df3ea"),this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),_r_()},(n.prototype=Object.create(i.prototype)).check=function(){_i_("269:86fdf626"),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents()),_r_()},n.prototype.unbindEvents=function(){_i_("269:24f5a2d8"),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),_r_()},n.prototype.confirm=function(e,t){_i_("269:42f58737"),this.isLoaded=e,this.emitEvent("progress",[this,this.element,t]),_r_()},_.makeJQueryPlugin=function(e){_i_("269:e193543e"),(e=e||t.jQuery)&&((o=e).fn.imagesLoaded=function(e,t){_i_("269:d6fe3cc8");var i=new _(this,e,t);return _r_(i.jqDeferred.promise(o(this)))}),_r_()},_.makeJQueryPlugin(),_))}),B.hotel.hashedTabs.init(),B.define("utils/debounce",function(e,t,i){_i_("269:d27ec383"),i.exports=function(i,n,r){var _;return _i_("269:987315f9"),_r_(function(){_i_("269:d421fd91");var e=this,t=arguments;!0===r&&void 0===_&&i.apply(e,t),clearTimeout(_),_=setTimeout(function(){_i_("269:d43ea598"),i.apply(e,t),_r_()},n),_r_()})},_r_()}),B.define("hotel/track/goals_sort_hotel_history",function(t){_i_("269:f785f737");var e=t("utils/debounce"),i=t("jquery"),n=!1,r={},_={hp_featured_review_arrows_clicked:"g0",hp_gallery_arrows_clicked:"g1",hp_my_viewed_hotel_click:"g2",hp_room_select:"g3",hp_room_select_error:"g4",hp_rt_conditions_tooltip_viewed:"g5",hp_searched_in_browser:"g6",hp_sold_out_rooms_viewed:"g7",rt_onview:"g8",hp_facilities_block_seen:"g9",hp_surroundings_block_seen:"g10",hp_policies_block_seen:"g11",room_facilities:"g12",hp_rt_hovering_price:"g13",hp_rt_hovering_occupancy:"g14",hp_rt_hovering_mealplan:"g15",hp_rt_room_deselect:"g16",hp_lb_gallery_clicks_arrows:"g17",hp_lb_gallery_clicks_photo:"g18",hp_lb_gallery_used_thumbs:"g19",hp_gallery_thumbs_used:"g20",hp_gallery_photos_all_viewed:"g21",hp_rt_roomtype_lightbox_opened:"g22"},o=function(){if(_i_("269:95700411"),!n&&B.env){var e=i.extend({},r);r={},n=!0,e.hotelId=B.env.b_hotel_id,i.ajax({url:"/goals_sort_hotel_history",data:e,success:function(){_i_("269:6685e00c"),n=!1,_r_()},error:function(){_i_("269:c045d79d"),function(e){for(var t in _i_("269:5ed12bd2"),e)"hotelId"!==t&&(r[t]=r[t]||0,r[t]+=e[t]);_r_()}(e),n=!1,_r_()}})}_r_()};function a(e){_i_("269:a459b7f6");var t=_[e];t&&(r[t]=r[t]||0,r[t]++,o()),_r_()}return o=e(o,1e3),i(document).on("ready",function(){if(_i_("269:f4ca0916"),B.env.b_save_user_hotel_interactions){t("events").on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(){_i_("269:7855c3a8"),a(B.hotel.Events.RT.LIGHTBOX_OPEN),_r_()});var e=t("utils/debounce"),n=[{goal:"rt_onview",position:i(".roomstable").position()},{goal:"hp_facilities_block_seen",position:i(".t-hp-section--facilities").position()},{goal:"hp_surroundings_block_seen",position:i(".t-hp-section--nearby,.t-hp-section--area_info").position()},{goal:"hp_policies_block_seen",position:i(".t-hp-section--policies").position()}],r=i(window),_=r.height(),o=n.length;r.on("scroll",e(function(){_i_("269:a76d2c63");for(var e=r.scrollTop()+_,t=0;t<o;t++){var i=n[t];i.goal&&i.position&&i.position.top&&e>i.position.top&&a(i.goal)}_r_()},1e3))}_r_()}),_r_({track:a})}),B.define("reviews/reviews_core",function(e){_i_("269:9fb379ce");var t=e("jquery"),_=e("querystring"),o={encodeURIComponent:function(e){return _i_("269:dac2c21e"),_r_(e)}},i={currentRequest:null,cache:{},base:"/reviewlist",query:(B.env.fe_reviews_base_params||{}).query||"",state:{country:(B.env.fe_reviews_base_params||{}).country||"",dist:(B.env.fe_reviews_base_params||{}).dist||"",lang:(B.env.fe_reviews_base_params||{}).lang||[],offset:(B.env.fe_reviews_base_params||{}).offset||"",page:(B.env.fe_reviews_base_params||{}).page||"",rows:(B.env.fe_reviews_base_params||{}).rows||"",room_id:(B.env.fe_reviews_base_params||{}).room_id||[],rurl:(B.env.fe_reviews_base_params||{}).rurl||"",score:(B.env.fe_reviews_base_params||{}).score||[],sort:(B.env.fe_reviews_base_params||{}).sort||"",topics:(B.env.fe_reviews_base_params||{}).topics||[],type:(B.env.fe_reviews_base_params||{}).type||[],text:(B.env.fe_reviews_base_params||{}).text||"",translate:(B.env.fe_reviews_base_params||{}).translate||"",time_of_year:(B.env.fe_reviews_base_params||{}).time_of_year||""},getState:function(){return _i_("269:a74e410b"),_r_(this.merge({},this.state))},getURL:function(e){_i_("269:7f2e739b");var t=this.merge({},this.state,e||{}),i=this.mapStateToParams(t),n=this.base;return n+=this.query,_r_((n+=";")+_.stringify(i,o)+"")},mapStateToParams:function(e){_i_("269:f9373292");var t={},i=this.stringifyObjectValues(e||{});return null!=i.country&&(t.cc1=i.country),delete i.country,null!=i.page&&(t.pagename=i.page),delete i.page,null!=i.lang&&(t.r_lang=this.join(i.lang)),delete i.lang,null!=i.topics&&(t.review_topic_category_id=this.join(i.topics)),delete i.topics,null!=i.type&&(t.type=this.join(i.type)),delete i.type,null!=i.score&&(t.score=this.join(i.score)),delete i.score,null!=i.sort&&(t.sort=i.sort),delete i.sort,null!=i.room_id&&(t.room_id=this.join(i.room_id)),delete i.room_id,null!=i.time_of_year&&(t.time_of_year=i.time_of_year),delete i.time_of_year,_r_(this.merge({},t,i))},mapParamsToState:function(e){_i_("269:525357c1");var t={},i=this.stringifyObjectValues(e);return null!=i.cc1&&(t.country=i.cc1),delete i.cc1,null!=i.pagename&&(t.page=i.pagename),delete i.pagename,null!=i.r_lang&&(t.lang=this.split(i.r_lang)),delete i.r_lang,null!=i.review_topic_category_id&&(t.topics=this.split(i.review_topic_category_id)),delete i.review_topic_category_id,null!=i.type&&(t.type=this.split(i.type)),delete i.type,null!=i.score&&(t.score=this.split(i.score)),delete i.score,null!=i.sort&&(t.sort=i.sort),delete i.sort,null!=i.room_id&&(t.room_id=this.split(i.room_id)),delete i.room_id,null!=i.time_of_year&&(t.time_of_year=i.time_of_year),delete i.time_of_year,_r_(this.merge({},t,i))},stringifyObjectValues:function(e){_i_("269:5cdbdaad");var t=new Object;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]instanceof Array?e[i]:String(e[i]||""));return _r_(this.merge({},t))},split:function(e){_i_("269:b2c7674b");var t=new Array;return(e||"").split(",").map(function(e){_i_("269:7acace89"),e&&t.push(e),_r_()}),_r_(t)},join:function(e){_i_("269:e1e3eda8");var t=new Array;return(e||[]).map(function(e){_i_("269:125f2ac6"),e&&t.push(e),_r_()}),_r_(t.join(","))},load:function(e){_i_("269:57233b63");var t=this.getURL(e)+"";return _r_(this.AJAXLoad(t))},loadUrl:function(e){_i_("269:9181172f");var t=this.removeDuplicateAttrs(e)+"";return _r_(this.AJAXLoad(t))},removeDuplicateAttrs:function(e){_i_("269:3a2c3bab");var t=(e||"")+"",i=_.parseUrl(t),n=this.merge({},i.query);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]instanceof Array&&(n[r]=n[r][n[r].length-1]);return _r_(i.base+"?"+_.stringify(n,o))},AJAXLoad:function(e){return _i_("269:ace699d5"),this.currentRequest&&this.currentRequest.abort&&this.currentRequest.abort({duplicate:!0}),this.currentRequest=t.ajax({url:e,success:t.proxy(this.onLoadSuccess,this,e),error:t.proxy(this.onLoadError,this)}),_r_(this.currentRequest)},trimUrl:function(e){_i_("269:e446c435");var t=_.parseUrl(e||""),i=this.removeUnwantedParams(t.query);return _r_(_.stringify(i,o)+"")},onLoadSuccess:function(e,t){_i_("269:cb9648de"),this.cacheThis(e,t),this.setStateFromUrl(e),_r_()},onLoadError:function(){},cacheThis:function(e,t){_i_("269:1cf02a7d");var i=this.trimUrl(e)+"";i.length&&t.length&&!this.cache[i]&&(this.cache[i]=i),_r_()},merge:function(e){_i_("269:02d4f61e");e=Object(e);for(var t=1;t<arguments.length;t++){var i=Object(arguments[t]);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return _r_(e)},setState:function(e){_i_("269:df1a70f0");var t=this.removeUnwantedParams(e);this.state=this.merge({},this.state,t),_r_()},removeUnwantedParams:function(e){_i_("269:9345ca0b");var t=this.merge({},Object(e));return this.unwantedParams.map(function(e){_i_("269:e4c65278"),null!=t[e]&&delete t[e],_r_()}),_r_(this.merge({},t))},setStateFromUrl:function(e){_i_("269:e49df3c5");var t=this.trimUrl(e),i=_.parse(t),n=this.mapParamsToState(i);this.setState(n),_r_()},init:function(){_i_("269:3d5e42a8");var e=[this.base],t=_.parseUrl(this.base+this.query),i=this.merge({},t.query);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.push(n);this.unwantedParams=e,_r_()}};return i.init(),_r_(i)}),B.define("hotel/reviews",function(e,t,i){_i_("269:67cd23f0");var o,a=e("jquery"),n=e("reviews/reviews_core"),s=e("et"),l="mdot"==((B||{}).env||{}).b_site_type,c="www"==((B||{}).env||{}).b_site_type;function r(t,i){_i_("269:a95d9c7b");var n=this;return _r_(function(){_i_("269:e6bb168f");var e=Array.prototype.slice.call(arguments);e=e.concat(i),t.apply(n,e),_r_()}.bind(n))}c&&(o=e("events")),l&&(o=e("event-bus"));var _={core:n,$e:a({}),events:{LOAD_BEFORE:"load:before",LOAD_AFTER:"load:after",LOAD_SUCCESS:"load:success",LOAD_ERROR:"load:error",LOAD_CANCELED:"load:canceled"},loadError:function(e,t){_i_("269:caf78df4"),t&&t.duplicate?this.$e.trigger(this.events.LOAD_CANCELED):this.$e.trigger(this.events.LOAD_ERROR),this.loadAfter(),_r_()},loadSuccess:function(){_i_("269:9524a4c6");var e=Array.prototype.slice.call(arguments);e.splice(1,2);var t=e[0],i=e[1]||void 0;this.$e.trigger(this.events.LOAD_SUCCESS,[t,i]),this.loadAfter(i),s.goal("js_review_list"),c&&(o.trigger("hotel:reviewlist:success:tab",i),o.trigger("REVIEWS:fetched",i)),l&&o.trigger("REVIEWS:fetched",i);var n=(a("[data-reviewlist-req-info]").data("reviewlist-req-info")||"").split(","),r=a("#req_info"),_=r.html();n.map(function(e){_i_("269:66210960"),e.length&&_.indexOf(e)<0&&r.html(_+","+e),_r_()}),_r_()},loadAfter:function(e){_i_("269:68aa585d"),this.$e.trigger(this.events.LOAD_AFTER,e),_r_()},loadBefore:function(e){_i_("269:57d7b318"),this.$e.trigger(this.events.LOAD_BEFORE,e),c&&(o.trigger("hotel:reviewlist:request:tab"),o.trigger("REVIEWS:startfetch")),l&&o.trigger("REVIEWS:startfetch"),_r_()},on:function(e,t){if(_i_("269:8103c2ae"),!e||"string"!=typeof e||!t||"function"!=typeof t)return _r_(!1);this.$e.on(e,t),_r_()},load:function(e){_i_("269:b219c8b0");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.load(e).done(r.call(this,this.loadSuccess,t)).fail(r.call(this,this.loadError,t)),_r_()},loadUrl:function(e){_i_("269:ca99e96c");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.loadUrl(e).done(r.call(this,this.loadSuccess,t)).fail(r.call(this,this.loadError,t)),_r_()},getUrl:function(){return _i_("269:c8dc5a65"),_r_(this.core.getURL())},getState:function(){return _i_("269:18985e55"),_r_(this.core.getState())},setState:function(e){return _i_("269:35c6235c"),_r_(this.core.setState(e))}},d={events:_.events,load:_.load.bind(_),on:_.on.bind(_),getState:_.getState.bind(_),setState:_.setState.bind(_),loadUrl:_.loadUrl.bind(_),getUrl:_.getUrl.bind(_)};return B.Reviews=B.Reviews||d,_r_(B.Reviews)}),B.define("hotel/core/back_is_back",function(e){_i_("269:d06e4ae1");var t=e("jquery"),i=t(window),n=B.env.b_back_is_back_for_landers,r=window.history&&window.history.pushState,_=t(".js-back_to_searchresults_for_browser").attr("href")||B.env.b_back_is_back_url,o="hotel-origin",a="searchresults";if(r?i.bind("popstate",function(e){_i_("269:a2381f8e"),e.originalEvent.state&&e.originalEvent.state.action===o&&l(),_r_()}):i.bind("hashchange",function(e){_i_("269:f2d50bf2"),window.location.hash&&window.location.hash.match(o)&&e.originalEvent&&e.originalEvent.oldURL&&e.originalEvent.oldURL.match(/#hotel$/)&&l(),_r_()}),!B.env.b_run_hp_back_is_back)return _r_();if(!_)return _r_();function s(){_i_("269:0ce8ffe3"),r?(n||window.history.back(),window.location.reload()):window.location.replace(_),_r_()}function l(){_i_("269:872926a3"),setTimeout(s,300),_r_()}if(r){if(null===window.history.state&&(B.env.b_from_action===a||n)){var c;window.location.hash&&(c=window.location.hash);var d=_;-1<d.indexOf("#")&&(d+="-back"),window.history.replaceState({action:o,fakeBack:!0},"Search Results",d),window.history.pushState({action:"hotel",fakeBack:!0},"Hotel Page",booking.env.b_this_url),c&&(window.location.hash=c)}}else""!==window.location.hash||B.env.b_from_action!==a&&!n||(window.location.hash=o,setTimeout(function(){_i_("269:011c1f59"),window.location.hash="hotel",_r_()},1e3));_r_()}),B.define("hotel/core/fix_for_facilities_ie789",function(e){_i_("269:1a5ffac0");for(var t=e("jquery"),i=t("#hp_facilities_box"),n=i.children(":last-child"),r=i.find(".facilitiesChecklistSection"),_=r.length/3,o=null,a=0;a<3;a++)o=t("<div>",{style:"width: 30%; float: left; padding: 0 1.5%; clear: none;"}).addClass("facilitiesChecklist").addClass("facilities-ie-column").appendTo(i),r.slice(a*_,(a+1)*_).appendTo(o);n.appendTo(i),_r_()}),B.define("hotel/track/ga/ctrlf",function(e){_i_("269:f6e02007");var i=e("ga-tracker");window.onkeydown=function(e){_i_("269:c20371f1");var t=e.keyCode?e.keyCode:e.which;(e.ctrlKey||e.metaKey)&&70===t&&i.trackEvent("Hotel Page","Key presses","CTRL + F"),_r_()},_r_()}),B.define("hotel/track/ga/deals_label_content_icon",function(e){_i_("269:a08d83df");var t,i=e("jquery"),n=e("ga-tracker"),r=i(".deals_label_content_icon");r.length&&(t=i.trim(r.get(0).className.replace("deals_label_content_icon","")),n.trackEvent(n.viewTracker,"Deals",t+" "+B.env.b_hotel_id)),_r_()}),B.define("hotel/track/ga/hp_changedates_aborted_completed",function(e){_i_("269:1f914366");var t=e("jquery"),i=e("ga-tracker"),n=t(window),r=!1,_=!1,o=!1,a=!1,s=t("#hotelpage_availform"),l=t("#hp_availability_style_changes").find("a.b_change_dates");n.bind("beforeunload",function(){_i_("269:8cad40db"),!r&&_&&o&&!a&&(i.trackEvent("Submit","Hotel: Aborted change dates form","hp_changedates_aborted"),r=!0),!r&&_&&o&&a&&(i.trackEvent("Submit","Hotel: Aborted change dates form - completed","hp_changedates_compeleted"),r=!0),_r_()}),s.delegate("select","change",function(){_i_("269:5ac857d6"),o=!0,_r_()}).delegate("input.avail-date-submit","click",function(){_i_("269:d4f3536d"),a=!0,_r_()}),l.bind("click",function(){_i_("269:2d19340b"),_=!0,_r_()}),_r_()}),B.define("hotel/track/ga/hp_hotel_not_bookable",function(e){_i_("269:bed250cb");var t=e("ga-tracker");B.env.b_hp_hotel_not_bookable&&t.trackEvent("View","Hotel: Non-bookable | "+B.env.b_hotel_id+" | "+B.env.b_hotel_name,"b_hp_hotel_not_bookable"),_r_()}),B.define("hotel/track/ga/hp_max_number_room_booked_error",function(e){_i_("269:6d7e186b");var t=e("ga-tracker");B.env.b_hp_max_number_room_booked_error&&t.trackEvent("View","Hotel: Max number of rooms booked error","b_hp_max_number_room_booked_error"),_r_()}),B.define("hotel/track/ga/review_info_tag",function(e){_i_("269:7445fe05");var t=e("jquery"),i=e("ga-tracker");t(".review_list_wrapper").delegate(".review_info_tag","click",function(){_i_("269:40841675"),i.trackEvent(i.clickTracker,"Action: reviewlist","Review info tag"),_r_()}),_r_()}),B.define("hotel/track/ga/reviewer_type_filter",function(e){_i_("269:496d4178");var t=e("jquery"),i=e("ga-tracker"),n=t("#reviewer_type_filter"),r=function(){_i_("269:e723da84");var e=n.find(":selected").data("customer-type");i.trackEvent(i.clickTracker,"Action: reviewlist","Review list filter: "+e),_r_()};_i_("269:f6ddafb5"),n.bind("change",r),_r_(),_r_()}),B.define("hotel/track/ga/rt",function(e){_i_("269:1f8b3282");var t=e("jquery"),i=e("ga-tracker"),n=t("#rooms_table"),r=null;n.on("change",".bed_preference_select",function(){_i_("269:596882a9");var e=t(this).find("option:selected").attr("data-name-en");i.trackEvent(i.hotelPageTracker,"RT: Bed Preference","Changed: "+e),_r_()}),n.on("click",".bed_preference_select",function(){_i_("269:dc7293e7"),i.trackEvent(i.hotelPageTracker,"RT: Bed Preference","Toggled"),_r_()}),n.on("change",".b_room_selectbox",function(){_i_("269:57f3c842"),i.trackEvent(i.hotelPageTracker,"RT: Room Select","Changed: "+t(this).val()),_r_()}),n.on("click",".b_room_selectbox",function(){_i_("269:2188aa64"),i.trackEvent(i.hotelPageTracker,"RT: Room Select","Toggled"),_r_()}),function(){_i_("269:a94157c2");var e=t("#room_availability_container").data("ratr");if(!e)return _r_();i.trackEvent(i.viewTracker||"View","Rooms Table","["+e.nr+"]-"+e.nc),_r_()}(),n.on("mouseenter",".js-occupancy-tracker",function(e){_i_("269:21670611"),clearTimeout(r),r=setTimeout(function(){_i_("269:22efcd0d"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Occupancy","Hover: Occupancy"),_r_()},500),_r_()}).on("mouseleave",".js-occupancy-tracker",function(){_i_("269:ee9f2f68"),clearTimeout(r),_r_()}),n.on("mouseenter","ul.hp-rt__policy-list li.hp-rt__policy__item",function(e){_i_("269:6d801a07"),clearTimeout(r),r=setTimeout(function(){_i_("269:af659ec3"),void 0!==e.originalEvent&&t(e.currentTarget).data("policy-type")&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips",t(e.currentTarget).data("policy-type")),_r_()},500),_r_()}).on("mouseleave","ul.hp-rt__policy-list li.hp-rt__policy__item",function(){_i_("269:ee9f2f681"),clearTimeout(r),_r_()}),n.on("mouseenter",".room_table_conditions_tooltip",function(e){_i_("269:299aa58c"),clearTimeout(r),r=setTimeout(function(){_i_("269:1dc19632"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips","conditions_tooltip"),_r_()},500),_r_()}).on("mouseleave",".room_table_conditions_tooltip",function(){_i_("269:ee9f2f682"),clearTimeout(r),_r_()}),n.on("mouseenter",".hp-rt-room-deal-icons .d-deal--smart",function(e){_i_("269:50be3740"),clearTimeout(r),r=setTimeout(function(){_i_("269:5399e968"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips","Value Deal"),_r_()},500),_r_()}).on("mouseleave",".hp-rt-room-deal-icons .d-deal--smart",function(){_i_("269:ee9f2f683"),clearTimeout(r),_r_()}),n.on("change",".bed-types-wrapper input",function(e){_i_("269:2f1d3d2d"),void 0!==e.originalEvent&&t(e.currentTarget).data("bed-type")&&i.trackEvent(i.hotelPageTracker,"RT: Bed Type",t(e.currentTarget).data("bed-type")),_r_()}),t(".property_hightlights_wrapper .js-ph__cta").on("click",function(e){_i_("269:4c147c00"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Reserve","Click: highligthed facilities"),_r_()}),n.on("click",".js-express-booking-button",function(e){_i_("269:34f4dda8"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Express booking","Click: Room table"),_r_()}),t("#hotel_main_content").on("click",".js-group-recommendation-reserve-btn",function(e){_i_("269:c5b64344"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Reserve","Click: Group Recommendation"),_r_()}),_r_()}),B.define("hotel/track/ga/lightbox",function(e){_i_("269:1a04a097");var t=e("jquery"),i=e("events"),r=e("ga-tracker");function _(e){return _i_("269:e1468e5b"),_r_(t('a.togglelink.jqrt[href="#'+e+'"]'))}i.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:44105e8b");var i=_(e).data("room-name-en");i&&r.trackEvent(r.hotelPageTracker,"Lightbox Opened by Room Name",i),_r_()}),i.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i){var n;_i_("269:97667ed7"),i&&(n=_(e).data("room-name-en"))&&r.trackEvent(r.hotelPageTracker,"Lightbox Closed - "+i,n),_r_()}),_r_()}),B.define("hotel/track/ga/touch_device",function(e){_i_("269:c1b43adb");var t=e("ga-tracker");if("ontouchstart"in window)try{window.addEventListener("touchstart",function e(){_i_("269:4797637b"),t.trackEvent(t.hotelPageTracker,"Touch Device User","touch_device_user"),window.removeEventListener("touchstart",e),_r_()},!1)}catch(e){}_r_()}),B.define("hotel/track/ga/room_facilities",function(e){_i_("269:3498e36c");var t,i,a=e("jquery"),s=e("ga-tracker"),l=/bicon-(.*?)(\s|$)/,c=/highlighted_facilities_(.*?)(\s|$)/,d={},n=null;a("#rooms_table").on("mouseenter",".highlighted_facilities_reinforcement span",function(){_i_("269:0eb0a35a"),clearTimeout(n),n=setTimeout(function(){_i_("269:8ea36c44");var e=a(this),t=e.find("i");if(0<t.length){var i=t.get(0).className.match(l);if(i){var n=i[1];d.hasOwnProperty(n)||(d[n]=!0,s.trackEvent(s.hotelPageTracker,"Highlighted Facility",n))}else{var r=t.get(0).className.match(c);if(r){var _=r[1];d.hasOwnProperty(_)||(d[_]=!0,s.trackEvent(s.hotelPageTracker,"Legacy Facility",_))}}}else{var o=e.data("name-en");o&&(d.hasOwnProperty(o)||(d[o]=!0,s.trackEvent(s.hotelPageTracker,"Regular Facility",o)))}_r_()}.bind(this),600),_r_()}).on("mouseleave",".highlighted_facilities_reinforcement span",function(){_i_("269:7b2b4e7c4"),clearTimeout(n),_r_()}).on("click",".rt-show-more-facilities",function(){_i_("269:2cc87255"),s.trackEvent(s.hotelPageTracker,"Show More Facilities",a(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden")?"Expand":"Collapse"),_r_()}),a("#rooms_table").on("mouseenter",".hprt-facilities-facility",function(){_i_("269:2569ab94"),clearTimeout(n),n=setTimeout(function(){_i_("269:9ba82be6");var e=a(this),t=e.find("i"),i=e.data("name-en"),n="";if(0<t.length){var r=t.get(0).className.match(l);if(r)n=r[1];else{var _=t.get(0).className.match(c);_&&(n=_[1])}}if(n){var o=i||n;d.hasOwnProperty(o)||(d[o]=!0,s.trackEvent(s.hotelPageTracker,"Highlighted Facility",o))}else i&&(d.hasOwnProperty(i)||(d[i]=!0,s.trackEvent(s.hotelPageTracker,"Regular Facility",i)));_r_()}.bind(this),600),_r_()}).on("mouseleave",".hprt-facilities-facility",function(){_i_("269:7b2b4e7c"),clearTimeout(n),_r_()}),_i_("269:cc919f4c"),a(".js_hp_rt_lightbox_facilities").on("mouseover","[data-name-en]",function(){_i_("269:29362f94");var e=a(this).data("name-en");e&&(t=setTimeout(function(){_i_("269:60a7cfae"),s.trackEvent(s.hotelPageTracker,"Lightbox Facility",e),_r_()},300)),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:97c9766c"),clearTimeout(t),_r_()}),_r_(),_i_("269:13aa490b"),a(".js_hp_ph_common_rooms_facilities").on("mouseover","[data-name-en]",function(){_i_("269:59ba2e02");var e=a(this).data("name-en");i=setTimeout(function(){_i_("269:c6c748f7"),s.trackEvent(s.hotelPageTracker,"Common Facility",e),_r_()},300),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:97c9766c1"),clearTimeout(i),_r_()}),_r_(),_r_()}),B.define("hotel/track/ga/room_name_copy",function(e){_i_("269:cce5975a");var t=e("jquery"),i=e("ga-tracker");t("#hp_hotel_name").on("copy",function(){_i_("269:b2727b73"),i.trackEvent(i.hotelPageTracker,"User copied the room name","hp_room_name_oncopy"),_r_()}),_r_()}),B.define("hotel/track/ga/hotel_facilities",function(e){_i_("269:7b747034");var t=e("jquery"),i=e("ga-tracker"),n=null;t("#hp_facilities_box").on("mouseenter","[data-name-en]",function(){_i_("269:5c3fb028");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:2cc622d9"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Regular Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c1"),clearTimeout(n),_r_()}),t(".hp_desc_important_facilities").on("mouseenter","[data-name-en]",function(){_i_("269:2a2e8b0d");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:41d43085"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Important Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c2"),clearTimeout(n),_r_()}),t(".hp-facilities-sliding-wrapper").on("mouseenter",".hp_desc_important_facilities [data-name-en]",function(){_i_("269:2a2e8b0d1");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:41d430851"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Important Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c3"),clearTimeout(n),_r_()}),_r_()}),B.define("hotel/track/ga/bp_to_hp",function(e){_i_("269:b575229f");var t=e("ga-tracker");window.location.search&&-1!==window.location.search.indexOf(";from_bs2_modify=1")&&t.trackEvent(t.hotelPageTracker,"User clicked Change Info in Book Process","from_bs2_modify"),_r_()}),B.define("hotel/track/ga/faq_link",function(e){_i_("269:7bb3378e");var n=e("jquery"),r=e("ga-tracker"),_={};n("#faq_area").on("click","a",function(e){_i_("269:704875d1");var t=n(this),i=t.data("href");(i=i||t.attr("href"))&&(i=i.substr(1),_[i]||(r.trackEvent(r.hotelPageTracker,"FAQ clicked",i),_[i]=!0)),_r_()}),_r_()}),B.define("hotel/track/ga/header",function(e){_i_("269:1aa79bfb");var _=e("jquery"),i=e("ga-tracker"),n={},o="Hotel: Header Block";function a(e,t){_i_("269:0eb7ad2a"),t&&!n[t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[t]=!0),_r_()}_("#wrap-hotelpage-top").on("click mouseover",function(e){_i_("269:e48618fe");var t,i=_(e.target),n="click"===e.type,r=n?"Click":"Hover";n&&i.is("#hp_hotel_name")?t="Hotel name":i.is(".icon_deal_smart")?t="Thumb: "+r:n&&i.is(".share_center_url")?t="Share: Link":n&&(i.find(".bicon-bookingdotgenius,.ge-discount-rate").length||i.is(".bicon-bookingdotgenius,.ge-discount-rate"))?t="Genius Block: "+r:i.is(".bicon-bookingdotgenius,.ge-discount-rate")||i.closest(".bicon-bookingdotgenius,.ge-discount-rate").legth?t="Genius Block: "+r:n&&i.closest(".d-deal").length&&(t="Value deal: Click"),a(o,t),_r_()}),_("#hotel_share_center a").on("click",function(e){_i_("269:2d5465fd");var t,i=_(this);i.parent().is(".sc_facebook")?t="Share: FB":i.parent().is(".sc_twitter")?t="Share: Twitter":i.is(".close")&&(t="Share: Close"),a(o,t),_r_()}),_(".bicon-share").on("click",function(){_i_("269:40e2ed8f");a(o,"Share Button"),_r_()}),_r_()}),B.define("hotel/track/ga/reserve",function(e){_i_("269:e388f57c");var r=e("jquery"),i=e("ga-tracker"),n={},_="Reserve";function o(e,t){_i_("269:927c9e77"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0),_r_()}r(".book_now_button_handler").on("click mouseover",function(e){_i_("269:c92a4c9b");var t=r(e.target),i="click"===e.type,n=i?"Click":"Hover";t.closest("#wrap-hotelpage-top").length?i&&o(_,n+": Top Right"):t.closest(".hp-lists-reserve").length?i&&o(_,n+": Top left"):t.closest(".property-highlights")&&o(_,n+": Property Highlights"),_r_()}),r(".js-rt__summary__reserve-button").on("click",function(e){_i_("269:4b223d91");var t=r(e.target);t.closest(".lightbox-reserve-button").length&&o(_,"Click: RT: Lightbox"),t.closest("#room_availability_container").length&&o(_,"Click: Room table"),_r_()}),r("[id=rate_guarantee]").on("click mouseover",function(e){_i_("269:da8ca639");var t=r(e.target),i="click"===e.type?"Click":"Hover",n="We Price Match";t.closest(".hp-section-header").length&&o(n,i+": Availability Block"),t.closest(".rlt-left").length&&o(n,i+": Top Left"),_r_()}),_r_()}),B.define("hotel/track/ga/gallery",function(e){_i_("269:c54d420a");var t=e("jquery"),i=e("ga-tracker"),n={};t(".hp_review_score").on("click",function(e){_i_("269:24f2f929"),function(e,t){_i_("269:927c9e771"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0);_r_()}("Gallery","Click: Review: Score"),_r_()}),_r_()}),B.define("hotel/track/ga/description_block",function(e){_i_("269:935512b4");var t=e("jquery"),i=e("ga-tracker"),n={},r="Description block";function _(e,t){_i_("269:927c9e772"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0),_r_()}t(".hp-description--property-name-top-ranked").on("mouseover",function(){_i_("269:1d133860"),_(r,"Hover: USP"),_r_()}),t(".fe_banner").on("click",function(){_i_("269:5bd12834"),t(this).find(".bicon-openlock").length&&_(r,"Click: Close Lock in a great place for your upcoming stay"),_r_()}),_r_()}),function(e){"use strict";_i_("269:4bdcd41e"),e.define("hotel/track/ga/searchbox",["jquery","ga-tracker","et","server-data"],function(i,t,n,r){_i_("269:3a66c11e");var e=i("#left #frm");function _(e){_i_("269:c5e47f2f"),t.trackEvent(t.hotelPageTracker,"Search box",e),_r_()}function o(e){_i_("269:38c60b43"),"mywishlist"===r.b_referer_action&&"hotel"===r.b_action&&n.customGoal("aDMWRfDSdWUUHfLebbMPAFFLKZLXJOfAdIUFZZcO",e),_r_()}e.find(".sb-dates__col.--checkin-field .sb-searchbox__input").on("click",function(){_i_("269:0840039c"),_("Click: Checkin"),o(3),_r_()}),e.find(".sb-dates__col.--checkout-field .sb-searchbox__input").on("click",function(){_i_("269:57785dde"),_("Click: Checkout"),o(3),_r_()}),e.on("change",".b-booker-type__input",function(e){_i_("269:e2c70bf7");var t=i(e.target).val();"business"===t?_("Business: Yes"):"leisure"===t&&_("Business: No"),_r_()}),e.on("change","#no_rooms, .no_rooms",function(e){_i_("269:0a98645d"),_("Rooms: "+i(e.target).val()),o(4),_r_()}),e.on("change","#group_adults, .group_adults",function(e){_i_("269:38809f47"),_("Adults: "+i(e.target).val()),o(4),_r_()}),e.on("change","#group_children, .group_children",function(e){_i_("269:174c854c"),_("Children: "+i(e.target).val()),o(4),_r_()}),e.on("click",".sb-searchbox__button",function(){_i_("269:6fa0d248"),_("Click: Change search"),_r_()});var a="mywishlist"===r.b_referer_action;if("hotel"===r.b_action&&a){var s={};r.b_original_url.split(/[?;&]/).filter(function(e){if(_i_("269:6882baaa"),e.match(/(\=)/)){var t=e.split("=");s[t[0]]=t[1]}_r_()});var l=s.group_children,c=s.group_rooms,d=r.b_search_config.b_children_total,h=r.b_search_config.b_nr_rooms_needed;l==d&&c==h||o(5)}_r_()}),_r_()}(window.booking),function(o){"use strict";_i_("269:43c7ca6a"),o.define("hotel/track/ga/availability_block",["jquery","ga-tracker"],function(t,i){_i_("269:1df41717");var e=t(".av-summary"),n=t(".js-hp-availability-section");function r(e){_i_("269:c5e47f2f1"),i.trackEvent(i.hotelPageTracker,"Availability Block",e),_r_()}function _(e){_i_("269:5086d01d");var t,i=e&&e.instance;return i&&i.$element&&i.$element.closest(n).length&&i.options&&i.options.type&&(t=i.options.type),_r_(t)}e.on("click",".av-summary-checkin",function(){_i_("269:49b6dbb7"),r("Click: Checkin"),_r_()}).on("click",".av-summary-checkout",function(){_i_("269:373e0097"),r("Click: Checkout"),_r_()}).on("click",".av-summary-guests",function(){_i_("269:47195ddd"),r("Click: Guests"),_r_()}).on("click",".av-summary-button",function(){_i_("269:3f69f9fd"),r("Click: Change search"),_r_()}),o.eventEmitter.bind("CALENDAR:opened",function(e,t){_i_("269:77898f38");var i=_(t);"checkin"===i?r("Lightbox: Checkin: Click"):"checkout"===i&&r("Lightbox: Checkout: Click"),_r_()}),o.eventEmitter.bind("CALENDAR:dayclick",function(e,t){_i_("269:ef800308");var i=_(t);"checkin"===i?r("Lightbox: Checkin: Select"):"checkout"===i&&r("Lightbox: Checkout: Select"),_r_()}),n.on("click",'[name="no_rooms"]',function(){_i_("269:a8240d3f"),r("Lightbox: Room: Click"),_r_()}).on("change",'[name="no_rooms"]',function(){_i_("269:30f06c4f");var e=t(this).val();e&&r("Lightbox: Rooms:"+e),_r_()}).on("click",'[name="group_adults"]',function(){_i_("269:94f18b85"),r("Lightbox: Adults: Click"),_r_()}).on("change",'[name="group_adults"]',function(){_i_("269:b1ad4b61");var e=t(this).val();e&&r("Lightbox: Adults:"+e),_r_()}).on("click",'[name="group_children"]',function(){_i_("269:231ea3eb"),r("Lightbox: Children: Click"),_r_()}).on("change",'[name="group_children"]',function(){_i_("269:79e417a2");var e=t(this).val();e&&r("Lightbox: Children:"+e),_r_()}).on("click",'button[type="submit"]',function(){_i_("269:fc48a3dc"),r("Lightbox: Check Avalilability"),_r_()}),_r_()}),_r_()}(window.booking),B.when({condition:B.env&&B.env.fe_show_fam_web_hp_theme_park_benefits}).run(function(e){_i_("269:9b5006ea");var t=e("jquery"),i=e("ga-tracker"),n="Theme Park Benefits";t(".c-theme-park-benefits-block").on("click",".bui-carousel__button",function(){_i_("269:18fab35b"),i.trackEvent(i.hotelPageTracker,n,"Click carousel arrow"),_r_()}),t(".c-theme-park-benefits-block").on("click",".bui-button",function(){_i_("269:b751c1f5"),i.trackEvent(i.hotelPageTracker,n,"Open panel with button click"),_r_()}),t(".c-theme-park-benefits-panel").on("click",".sliding-view__close",function(){_i_("269:d828860c"),i.trackEvent(i.hotelPageTracker,n,"Close panel with cross click"),_r_()}),_r_()}),B.define("hotel/track/ga",function(e){_i_("269:26a90bd2"),e("hotel/track/ga/ctrlf"),e("hotel/track/ga/deals_label_content_icon"),e("hotel/track/ga/hp_changedates_aborted_completed"),e("hotel/track/ga/hp_hotel_not_bookable"),e("hotel/track/ga/hp_max_number_room_booked_error"),e("hotel/track/ga/review_info_tag"),e("hotel/track/ga/reviewer_type_filter"),e("hotel/track/ga/rt"),e("hotel/track/ga/searchbox"),e("hotel/track/ga/availability_block"),e("hotel/track/ga/room_name_copy"),e("hotel/track/ga/bp_to_hp"),e("hotel/track/ga/touch_device"),e("hotel/track/ga/room_facilities"),e("hotel/track/ga/hotel_facilities"),e("hotel/track/ga/faq_link"),e("hotel/track/ga/header"),e("hotel/track/ga/reserve"),e("hotel/track/ga/gallery"),e("hotel/track/ga/description_block"),_r_()}),B.define("hotel/track/navbar",function(e){_i_("269:9b9c3584");var t=e("jquery"),i=e("ga-tracker"),n=e("et"),r=t(".hp_nav_bar");r.length&&[{cssClass:".hp_nav_availability_link",title:"Availability",gaEvent:"hp_nav_bar_availability"},{cssClass:".hp_nav_location_link",title:"Location",gaEvent:"hp_nav_bar_location"},{cssClass:".hp_nav_facilities_link",title:"Facilities",gaEvent:"hp_nav_bar_facilities"},{cssClass:".hp_nav_policies_link",title:"Policies",gaEvent:"hp_nav_bar_policies"},{cssClass:".hp_nav_important_link",title:"The Fine Print",gaEvent:"hp_nav_bar_fine_print"},{cssClass:'.hp_nav_reviews_link[rel="reviews"]',title:"Reviews",gaEvent:"hp_nav_bar_reviews",excludeFromEt:!0},{cssClass:'.hp_nav_reviews_link[rel="main"]',title:"Reviews: Back To Description",gaEvent:"hp_nav_bar_reviews"}].forEach(function(e){_i_("269:1962177e"),r.on("click",e.cssClass,function(){_i_("269:e5c52043"),i.trackEvent(i.hotelPageTracker,"Nav Bar",e.title+" Clicked"),e.excludeFromEt||e.tracked||(e.tracked=!0,n.goal(e.gaEvent)),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_clicked_save_to_list_button",function(e){_i_("269:b5cf832b");var t=e("jquery"),i=e("events");t(".whishlist_trigger_rounded_larger_button").bind("mousedown",function(){_i_("269:23699d1a"),i.trigger("hp:clicked_save_to_list_button"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_clicked_save_to_list_icon",function(e){_i_("269:aa7c1ca3");var t=e("jquery"),i=e("events");t(".whishlist_trigger_rounded_smaller_button").bind("mousedown",function(){_i_("269:74911595"),i.trigger("hp:clicked_save_to_list_icon"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_featured_review_arrows_clicked",function(i){_i_("269:978cdc77");var e=i("jquery"),n=i("events"),r=!1;e(document).ready(function(){_i_("269:5c7ebd81");var t=e("._goalTracker_hp_featured_review_arrows_clicked");t.bind("click",function e(){_i_("269:b6c48842"),r||(n.trigger("hp:featured_review_arrows_clicked"),r=!0),B.env.b_save_user_hotel_interactions?i("hotel/track/goals_sort_hotel_history").track("hp_featured_review_arrows_clicked"):t.unbind("click",e),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_gallery_arrows_clicked",function(e){_i_("269:07d56bcf");var i=e("jquery"),n=e("events");i(document).ready(function(){_i_("269:dec4d68a");var t=i("a.large_image_slider");t.bind("click",function e(){_i_("269:e5f6db20"),n.trigger("hp:gallery_arrows_clicked"),t.unbind("click",e),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_hostel_gallery_arrows_clicked",function(e){_i_("269:82927a1d");var t=e("jquery"),i=e("events"),n=e("server-data"),r="hp:gallery_arrows_clicked";203==+n.b_acc_type&&t(function(){_i_("269:43c44862");var e=function(){_i_("269:2d198ca5"),i.off(r,e),i.trigger("hp:hostel_gallery_arrows_clicked"),_r_()};i.on(r,e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_hostel_gallery_photos_all_viewed",function(e){_i_("269:cff1d62b");var t=e("jquery"),i=e("events"),n=e("server-data"),r="hp:gallery_photos_all_viewed";203==+n.b_acc_type&&t(function(){_i_("269:43c448621");var e=function(){_i_("269:2d198ca51"),i.off(r,e),i.trigger("hp:hostel_gallery_photos_all_viewed"),_r_()};i.on(r,e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_my_viewed_hotel_click",function(e){_i_("269:14b3ec5d");var t=e("jquery"),i=e("events");t(".thumbLink, .hotel_history_lnk","#LastViewedHotels").bind("mousedown",function(){_i_("269:9cc1c971"),i.trigger("hp:my_viewed_hotel_click"),B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_my_viewed_hotel_click"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_room_select",function(e){_i_("269:26017106");var t=e("events");t.on(B.hotel.Events.RT.ROOM_SELECTED,function(){_i_("269:c13f4cba"),t.trigger("hp:room_select"),B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_room_select"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_room_select_error",function(e){_i_("269:82d4881e");var t=e("events");t.on(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT,function(){_i_("269:bb76f458"),t.trigger("hp:room_select_error"),B.env&&B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_room_select_error"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_conditions_tooltip_viewed",function(e){_i_("269:efa74901");var t=e("jquery"),i=e("events"),n=!1,r=t("#rooms_table"),_=null,o=!1;r.on("mouseenter.js-goal-tracking","div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li",function(){_i_("269:50b8d9c4"),n=!0,_=setTimeout(function(){_i_("269:5888b3ae"),n&&(o||(i.trigger("hp:conditions_tooltip_viewed"),o=!0),B.env&&B.env.b_save_user_hotel_interactions?e("hotel/track/goals_sort_hotel_history").track("hp_rt_conditions_tooltip_viewed"):(r.off("mouseenter.js-goal-tracking"),r.off("mouseleave.js-goal-tracking"))),_r_()},300),_r_()}),r.on("mouseleave.js-goal-tracking","div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li",function(){_i_("269:4bd49b95"),n=!1,clearTimeout(_),_r_()}),_r_()}),B.define("hotel/track/goals/hp_searched_in_browser",function(n){_i_("269:ea9e7f3b");var e=n("jquery"),r=n("events"),_=e(window),o=!1;_.on("keydown",function e(t){_i_("269:3974b14d");var i=t.keyCode?t.keyCode:t.which;(t.ctrlKey||t.metaKey)&&70===i&&(o||(r.trigger("hp:hp_searched_in_browser"),o=!0),B.env.b_save_user_hotel_interactions?n("hotel/track/goals_sort_hotel_history").track("hp_searched_in_browser"):_.off("keydown",e));_r_()}),_r_()}),B.define("hotel/track/goals/hp_sold_out_rooms_viewed",function(i){_i_("269:22d60845");var o=i("jquery"),a=i("events"),s=!1,l=!1,c=o("._goalTracker_hpSoldOutRoomsView"),n=i("utils/debounce");o(document).ready(function(){_i_("269:801cbef9");var e=o(window);function t(){_i_("269:7f5fad6f");var n=e.scrollTop(),r=n+e.height(),_=!1;c.each(function(e,t){var i;if(_i_("269:09959255"),(i=(t=o(t)).offset().top)+t.height()<=r&&n<=i)return _r_(!(_=!0));_r_()}),_?(s||(a.trigger("hp:sold_out_rooms_viewed"),s=!0),B.env.b_save_user_hotel_interactions?l||(i("hotel/track/goals_sort_hotel_history").track("hp_sold_out_rooms_viewed"),l=!0):e.unbind("scroll resize",t)):l=!1,_r_()}c.length&&(e.bind("scroll resize",n(t,1e3)),t()),_r_()}),_r_()}),B.define("hotel/track/goals/rt_onview",function(e){_i_("269:8e77accf"),e("et").on("view",".roomstable").goal("rt_onview"),_r_()}),B.define("hotel/track/goals/hp_facilities_block_seen",function(e){_i_("269:cf81c3b4");var t=e("et"),i=e("server-data"),n="#hp_facilities_box";t.on("view",n).goal("hp_facilities_block_seen"),203==+i.b_acc_type&&t.on("view",n).goal("hp_hostel_facilities_block_seen"),_r_()}),B.define("hotel/track/goals/hp_surroundings_block_seen",function(e){_i_("269:3275fbd1"),e("et").on("view",".property_page_surroundings_block").goal("hp_surroundings_block_seen"),_r_()}),B.define("hotel/track/goals/hp_policies_block_seen",function(e){_i_("269:1b831b1c"),e("et").on("view","#hp_policies_box").goal("hp_policies_block_seen"),_r_()}),B.define("hotel/track/goals/room_facilities",function(t){_i_("269:61d7b21c");var i=t("jquery"),n=t("et");i("#rooms_table").on("click",".rt-show-more-facilities",function(){_i_("269:b7072fb8");var e=i(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden")?"hp_room_facilities_more":"hp_room_facilities_less";n.goal(e),t("hotel/track/goals_sort_hotel_history").track(e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_lightbox_opened_more_than_once",function(e){_i_("269:6904d8f5");var n=e("et"),t=e("events"),r={},_=0,o=!1,a=!1,s=!1;t.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){var i;_i_("269:59733698"),i=e,_i_("269:41b7bf8a"),o&&a&&s||!i||(r[i]?r[i]+=1:(r[i]=1,_+=1,o||(n.goal("hp_rt_roomtype_lightbox_opened"),o=!0)),!a&&1<r[i]&&(n.goal("hp_lightbox_opened_more_than_once"),a=!0),!s&&1<_&&(n.goal("hp_lightbox_opened_for_different_rooms"),s=!0)),_r_(),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_price",function(e){_i_("269:905bcd47"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-room-price",function(){_i_("269:cc841790"),B.et.goal("hp_rt_hovering_price"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_price"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_occupancy",function(e){_i_("269:aac9b7b0"),B.require("jquery")("#rooms_table").one("mouseenter","._goalTracker_hpOccupancyHover, .js-track-hp-rt-unav-occupancy",function(){_i_("269:3fe0f326"),B.et.goal("hp_rt_hovering_occupancy"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_occupancy"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_mealplan",function(e){_i_("269:6683fbfe"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-meal-plan",function(){_i_("269:abaabfac"),B.et.goal("hp_rt_hovering_mealplan"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_mealplan"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_policies",function(e){_i_("269:888fe390");var t=B.require("jquery");t("#rooms_table").one("mouseenter",".js-track-hp-rt-nr",function(){_i_("269:fef64fa5"),B.et.goal("hp_rt_hovering_non_refundable"),_r_()}),t("#rooms_table").one("mouseenter",".js-track-hp-rt-fc",function(){_i_("269:2916d97c"),B.et.goal("hp_rt_hovering_free_cancellation"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_room_deselect",function(t){_i_("269:15ec1e13");var i=B.require("jquery");i("#rooms_table").on("change.track_room_deselect",".b_room_selectbox",function(){_i_("269:1f289c3b");var e=i(this).find(":selected");e.length&&"0"===e[0].value&&(B.et.goal("hp_rt_room_deselect"),t("hotel/track/goals_sort_hotel_history").track("hp_rt_room_deselect"),i("#rooms_table").off("change.track_room_deselect",".b_room_selectbox")),_r_()}),_r_()}),B.define("hotel/track/goals/hp_lb_gallery_goals",function(_){_i_("269:e4659e44");var o="hp_lb_gallery_clicks_photo",a="hp_lb_gallery_clicks_arrows",s="hp_lb_gallery_used_thumbs",l={};B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:dbbc91d9");var i=t.find(".hprt-lightbox-gallery-container");l[o]||i.find('[data-gallery=""]').one("click.tracking",function(){_i_("269:41b04862"),B.et.goal(o),_("hotel/track/goals_sort_hotel_history").track(o),l[o]=1,_r_()});if(!l[a]){var n=i.find("a.hp-gallery-control");n.on("click.tracking",function(e){_i_("269:649dde58"),e.hasOwnProperty("originalEvent")&&(B.et.goal(a),_("hotel/track/goals_sort_hotel_history").track(a),l[a]=1,n.off("click.tracking")),_r_()})}if(!l[s]){var r=i.find("a.js-hotel-thumb");r.on("mouseenter.tracking click.tracking",function(){_i_("269:458e8e49"),B.et.goal(s),_("hotel/track/goals_sort_hotel_history").track(s),l[s]=1,r.off("mouseenter.tracking click.tracking"),_r_()})}_r_()}),B.events.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t){_i_("269:fbf557e1");var i=t.find(".hprt-lightbox-gallery-container");l[o]||i.find('[data-gallery=""]').off("click.tracking");l[a]||i.find("a.hp-gallery-control").off("click.tracking");l[s]||i.find("a.js-hotel-thumb").off("mouseenter.tracking click.tracking");_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_room_name",function(e){_i_("269:eeb9e346"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-room-name",function(){_i_("269:fa4d107e"),B.et.goal("hp_rt_hovering_room_name"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_books_x_room",function(e){_i_("269:319312a2");var _=B.require("jquery"),t=_("#roomsForm").find("input[name=rt_pos_selected]"),i=function(){_i_("269:618c4f2a");var r=[];_(".b_room_selectbox").each(function(){_i_("269:a332b5a9");var e=_(this);if("0"!==e.val()){var t=e.parents("tr").attr("class").split(/\s+/);_.each(t,function(e,t){_i_("269:cd53201e");var i=t.match(/room_loop_counter(\d+)/);if(i){var n=i[1];-1===_.inArray(n,r)&&r.push(n)}_r_()})}_r_()}),t.val(r.join("_")),_r_()};B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,i),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,i),_r_()}),B.define("hotel/track/goals",function(e){_i_("269:082fc707");var t,i=e("et"),n=e("events"),r={"BLOCKDISPLAY4.OPEN":"review_list","rt-lightbox-open":"hp_rt_roomtype_lightbox_opened","hp:my_viewed_hotel_click":"hp_my_viewed_hotel_click","hp:clicked_save_to_list_button":"hp_clicked_save_to_list_button","hp:clicked_save_to_list_icon":"hp_clicked_save_to_list_icon","hp:conditions_viewed":"hp_rt_conditions_viewed","hp:sold_out_rooms_viewed":"hp_sold_out_rooms_viewed","hp:featured_review_arrows_clicked":"hp_featured_review_arrows_clicked","hp:gallery_arrows_clicked":"hp_gallery_arrows_clicked","hp:hostel_gallery_arrows_clicked":"hp_hostel_gallery_arrows_clicked","hp:gallery_thumbs_used":"hp_gallery_thumbs_used","hp:gallery_photos_all_viewed":"hp_gallery_photos_all_viewed","hp:hostel_gallery_photos_all_viewed":"hp_hostel_gallery_photos_all_viewed","hp:room_select":"hp_room_select","hp:room_select_error":"hp_room_select_error","hp:conditions_tooltip_viewed":"hp_rt_conditions_tooltip_viewed","hp:hp_searched_in_browser":"hp_searched_in_browser"};for(t in r)r.hasOwnProperty(t)&&n.one(t,function(e){return _i_("269:0824ee76"),_r_(function(){_i_("269:5040bac2"),i.goal(e),_r_()})}(r[t]));e("hotel/track/goals/hp_clicked_save_to_list_button"),e("hotel/track/goals/hp_clicked_save_to_list_icon"),e("hotel/track/goals/hp_featured_review_arrows_clicked"),e("hotel/track/goals/hp_gallery_arrows_clicked"),e("hotel/track/goals/hp_hostel_gallery_arrows_clicked"),e("hotel/track/goals/hp_hostel_gallery_photos_all_viewed"),e("hotel/track/goals/hp_my_viewed_hotel_click"),e("hotel/track/goals/hp_room_select"),e("hotel/track/goals/hp_room_select_error"),e("hotel/track/goals/hp_rt_conditions_tooltip_viewed"),e("hotel/track/goals/hp_searched_in_browser"),e("hotel/track/goals/hp_sold_out_rooms_viewed"),e("hotel/track/goals/rt_onview"),e("hotel/track/goals/hp_facilities_block_seen"),e("hotel/track/goals/hp_surroundings_block_seen"),e("hotel/track/goals/hp_policies_block_seen"),e("hotel/track/goals/room_facilities"),e("hotel/track/goals/hp_lightbox_opened_more_than_once"),e("hotel/track/goals/hp_rt_hovering_price"),e("hotel/track/goals/hp_rt_hovering_occupancy"),e("hotel/track/goals/hp_rt_hovering_mealplan"),e("hotel/track/goals/hp_rt_hovering_policies"),e("hotel/track/goals/hp_rt_room_deselect"),e("hotel/track/goals/hp_lb_gallery_goals"),e("hotel/track/goals/hp_rt_hovering_room_name"),e("hotel/track/goals/hp_rt_books_x_room"),_r_()}),B.define("hotel/track/print",function(e){_i_("269:4bcf6d65");var t=e("ga-tracker"),i=function(){_i_("269:fdf8aae3"),t.trackEvent(t.hotelPageTracker,"Print","Printed the page"),_r_()};window.matchMedia&&window.matchMedia("print").addListener(function(e){_i_("269:38f6371a"),e.matches&&i(),_r_()});window.onbeforeprint=i,_r_()}),B.define("hotel/track",function(e){_i_("269:f41ce314"),e("hotel/track/ga"),e("hotel/track/navbar"),e("hotel/track/goals"),e("hotel/track/print"),e("hotel/track/goals_sort_hotel_history"),_r_()}),B.define("hotel/core/no_dates_prefetch_sr_assets",function(e){_i_("269:799ee450");var i=e("jquery"),t=i("link[rel=_prefetch][data-hash=sr_assets]");0<t.length&&i(window).bind("load",function(){_i_("269:ffbf13f0"),setTimeout(function(){_i_("269:92d34033"),t.each(function(e,t){_i_("269:580ae5b9"),i(t).attr("rel","prefetch"),_r_()}),_r_()},3e4),_r_()}),_r_()}),B.define("hotel/av_calendar/get_dates_form",function(t){_i_("269:78bc9214");var a=t("jquery");a(document).ready(function(){_i_("269:04e9647b");var e=a("#form-wrapper");e.length&&a(window).scroll(function(){_i_("269:0bb6d126"),e.length&&e.css("top",a(window).scrollTop()+200+"px"),_r_()}),a("#maxotel_rooms .js_price_button").on("click keydown",function(e){if(_i_("269:d8242524"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();var t=a("#availability_target"),i=a("#av-calendar-tracking-position");e.preventDefault();var n=t.length?t.offset().top:i.offset().top;return n-=B.env.b_hp_sticky_offset||0,!function(){_i_("269:4b68acd2");var e,t,i,n,r,_,o=a("#hotelpage_availform");if(!o.find("select[name=checkin_year_month]").length)return _r_(!1);return e=o.find("select[name=checkin_monthday]").val(),t=o.find("select[name=checkin_year_month]").val().split("-"),i=o.find("select[name=checkout_monthday]").val(),n=o.find("select[name=checkout_year_month]").val().split("-"),r=new Date(t[0],t[1]-1,e),_=new Date(n[0],n[1]-1,i),_r_(r<_)}()?setTimeout(function(){_i_("269:08f36c5a"),alert(booking.env.valdateDates_msg),_r_()},200):a("#hotelpage_availform").submit(),a("html, body").scrollTop(n),_r_(!1)}),a("#hcta_simple, #hcta").click(function(){_i_("269:e3743ba0");var e=a(this),t=a("#availability_target").length?"#availability_target":"#av-calendar-tracking-position",i=e.data("will-submit-form"),n=a(this).data("url");return i||(window.location=n||t),_r_(!1)}),a("#roomsForm .bookNow1_top button, #bookNow1 input, #booknow_beneath input").click(function(){if(_i_("269:eec4ba7e"),booking.env.no_rooms_selected=0,a("#maxotel_rooms select").each(function(){_i_("269:5ae24928"),a(this).hasClass("bed_preference_select")||(booking.env.no_rooms_selected+=parseInt(this.value,10)),_r_()}),booking.env.no_rooms_selected<1){var e=t("ga-tracker");e.trackEvent(e.errorTracker,"JavaScript","please_select_one_or_more_rooms_RT")}_r_()}),a("#blockdisplay1 .top_link, #blockdisplay4 .top_link, #rm_cond_link_enter_dates").click(function(){return _i_("269:4cbc5e74"),window.location.href="#availability_target",_r_(!1)}),a(document).keyup(function(e){_i_("269:be16b0b3"),27===e.keyCode&&a("#close").click(),_r_()}),a(".b_change_dates").click(function(){_i_("269:b124d1c9");var e={customWrapperClassName:"modal-edit-dates",bOverflowVisible:!0};booking.lightbox.show(a("#editDates"),e),_r_()}),_r_()}),_r_()}),booking.jstmpl("select_availability_tooltip",function(){_i_("269:aa1afa69");var n=['\n    <div class="select_availability_tooltip_message">\n        <p>','</p>\n        <span class="select_availability_tooltip__arrow"></span>\n    </div>\n'],r=["fe_dates_message"];return _r_(function(e){_i_("269:2a96cd0a");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1]].join(""),_r_(t)})}()),B.define("hotel/av_calendar/disable_availability_button",function(e){_i_("269:ed4491d6"),B.when({events:"ready"}).run(function(e){_i_("269:27a4094e");var t=e("jquery");B.eventEmitter.bind("SEARCH:date_changed",function(){_i_("269:8732bab1"),t("input.js-avail-date-submit").removeAttr("disabled").removeClass("b-button_disabled"),_r_()}),_r_()}),_r_()}),B.define("hotel/av_calendar/labels",function(e){_i_("269:f5af4c38");var t=e("jquery")(".lp_bold_date_picker_wrapper"),i=t.find(".lp_bold_date_picker_checkin"),n=t.find(".lp_bold_date_picker_checkout");t.find(".rt-av-input-label-checkin").on("click",function(e){_i_("269:9b04b97a"),e.stopPropagation(),i.trigger("click"),_r_()}),t.find(".rt-av-input-label-checkout").on("click",function(e){_i_("269:c51592a6"),e.stopPropagation(),n.trigger("click"),_r_()}),_r_()}),B.define("hotel/av_calendar/availability_block_bui",function(u){_i_("269:9e508dda");var r,f,_,o,n,a="date_with_year";function p(e,t,i,n){_i_("269:df0c5e3e"),("checkin"===e?_:o).removeClass("placeholder").find("span").text(r.compat(n+"-"+i+"-"+t,a)),_r_()}$(function(){_i_("269:36f88840");var a=u("jquery"),s=u("events"),e=u("search/searchbox/model"),l=u("server-data");r=u("formatting/date");var t,c=a("#hotelpage_availform"),d=a("<div></div>");f=a(".js-hp-availability-section"),d.appendTo(c.find(".hiddenInputSection")),_=f.find(".lp_bold_date_picker_checkin"),o=f.find(".lp_bold_date_picker_checkout"),n=a(".lp_bold_date_picker_btn");var h=e.getInstance("main");h.use("dates"),h.on("change",t=function(e){if(_i_("269:d25cea44"),e.checkin||e.checkout){var t=h.dates.get().checkin,i=h.dates.get().checkout;t&&p("checkin",t.day,t.month+1,t.year),i&&p("checkout",i.day,i.month+1,i.year),t&&i&&n.removeClass("b-button_disabled").removeAttr("disabled")}_r_()}),t({checkin:!0,checkout:!0}),c.submit(function(e){_i_("269:43d53658"),f.find(".js-lp_bold_date_picker_error").hide();var t=h.dates.get().checkin,i=h.dates.get().checkout,n=864e5*h.dates.getOption("maxLos"),r=u("searchbox/dynamic-los-per-dest-tracking-batches"),_=l.b_max_los_data_for_prefilled_dest||{};if(_.has_extended_los&&t&&i&&+i-t>864e5*_.default_los&&r.trackAttemptSearchingForExtendedLos((+i-t)/864e5,r.SITE_TYPES.DESKTOP,_.experiment),t&&i&&n<+i-t)return f.find(".lp_bold_date_picker_error").fadeIn(300),e.preventDefault(),_r_();if(!t)return f.find(".lp_bold_date_picker_error--checkin").fadeIn(300),e.preventDefault(),_r_();if(!i)return a(".lp_bold_date_picker_error--checkin").fadeIn(300),e.preventDefault(),_r_();var o='<input name="checkin_monthday" type="hidden" value="'+t.day+'" /><input name="checkin_year_month" type="hidden" value="'+t.year+"-"+(t.month+1)+'" /><input name="checkout_monthday" type="hidden" value="'+i.day+'" /><input name="checkout_year_month" type="hidden" value="'+i.year+"-"+(i.month+1)+'" />';d.html(o),s.trigger(B.hotel.Events.Other.AVAIL_FORM_SUBMIT_SUCCESS,{$form:c}),_r_()}),_r_()}),_r_()}),B.define("hotel/av_calendar/change_action_for_group",function(){_i_("269:09e58cc8"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:8dfb96c7");var t=e("jquery"),i=e("search/searchbox/model").getInstance("main");i.use("group");var n=t("#hotelpage_availform"),r=n.attr("data-action-for-group");if(!r)return _r_();n.on("submit",function(e){_i_("269:c72fa6af"),i.group&&"function"==typeof i.group.isGroupSearch&&i.group.isGroupSearch()&&n.attr("action",r),_r_()}),_r_()}),_r_()}),B.define("hotel/av_calendar/show_loader_after_search",function(){_i_("269:182cbfdf"),B.when({action:"hotel",events:"ready",condition:function(e){return _i_("269:cde94b2c"),_r_(!e.fe_redirect_to_sr)}}).run(function(e){_i_("269:15b635f3");var t=e("jstmpl"),i=e("browser-storage-handler"),n=e("generic-loading-overlay"),r=e("lightbox"),_=e("events"),o=e("search/searchbox/events");if(i.getSessionValue("is_land_on_pp_after_search_on_pp",!1)){i.deleteSessionValue("is_land_on_pp_after_search_on_pp",!1);var a=t.translations("sr_calendar_dates_changed_conf"),s=window.BUI.createInstance("Toast");s.mount(),s.show({text:a,duration:3e3})}function l(){_i_("269:0d54fab5");var e=t.translations("sr_calendar_loading_dates_loader");n.open(e),i.addSessionValue("is_land_on_pp_after_search_on_pp",!0,!1),_r_()}_.on(B.hotel.Events.Other.AVAIL_FORM_SUBMIT_SUCCESS,function(){_i_("269:27293b40"),r.hide(),l(),_r_()}),o.on(o.SEARCHBOX_SUBMIT_SUCCESS,function(e){_i_("269:a7dcd57c"),e&&e.options&&e.options.showOverlayOnSubmit&&l(),_r_()}),_r_()}),_r_()}),B.define("hotel/av_calendar",function(e){_i_("269:98265ae0"),e("hotel/av_calendar/get_dates_form"),e("hotel/av_calendar/disable_availability_button"),e("hotel/av_calendar/labels"),e("hotel/av_calendar/availability_block_bui"),e("hotel/av_calendar/show_loader_after_search"),e("hotel/av_calendar/change_action_for_group"),_r_()}),B.define("hotel/faq",function(e){_i_("269:bacaab43");var _,o,a=e("jquery"),s=B.require("trap-focus"),t=0,i=a("body"),l=!1,c={hideCallBack:function(){_i_("269:6a569391"),l&&(s.release(),_.focus()),_r_()}};a(".faq_link a").click(function(e){_i_("269:4840b5b3"),e.preventDefault();var t=this;if(o=a(".faq_detail"),!booking.env.b_faq_questions_standalone_loaded){var i="/general"+booking.env.b_query_params_with_lang+booking.env.b_query_params_delimiter+"tmpl=faq_questions_standalone";a("#faq_detail").load(i+" #faq_questions_standalone",function(){_i_("269:00f51a4e"),a("#faq_questions_standalone").replaceWith(a("#faq_questions_standalone").contents()),booking.env.b_faq_questions_standalone_loaded=1,a(this).append(a(".faq-inline-data")),l=!0,t.click(),_r_()})}if(booking.lightbox.show(a(".faq_detail"),c),a("#topten").addClass("hidden"),a(".faqA").removeClass("active"),!1===l)return _r_(!1);var n,r=a(this).attr("data-href").match(/(#.*)$/)[1];r&&((n=a(r)).addClass("active"),_=a(document.activeElement),s.trap(o.parent(".modal-wrapper")[0]),o.find(".active h3").attr("tabindex",0).focus()),B.events.trigger("faq-lightbox-open",e,n),_r_()}),booking.eventEmitter.bind("modal:open",function(){_i_("269:a88dfdc7");var e=a("div.modal-wrapper");t=parseInt(e.css("top"),10),e.find("#faq_detail").length&&(i.addClass("faq-modal-open"),e.css({top:a(window).scrollTop()+t})),_r_()}).bind("modal:close",function(){_i_("269:8fb4637f"),i.removeClass("faq-modal-open"),_r_()}),_r_()}),B.define("hotel/ryokan",function(e){_i_("269:106ed887");var t,i,n=e("jquery"),r=0,_=n("body"),o="lightbox-absolute-opened";n(".ryokan_info_open").bind("click",function(e){_i_("269:317447f4"),e.preventDefault(),t=n(".ryokan_info_details"),i||t.find(".block_toggler").bind("click",function(){_i_("269:bd257932"),t.find(n(this).attr("data-block-toggle")).toggle(),_r_()}),booking.lightbox.show(t),i=!0,_r_()}),booking.eventEmitter.bind("modal:open",function(){_i_("269:3c84b425");var e=n("div.modal-wrapper");e.find(".lightbox_absolute").length&&(r=parseInt(e.css("top"),10),_.addClass(o),e.css({top:n(window).scrollTop()+r})),_r_()}).bind("modal:close",function(){_i_("269:c9414445"),_.removeClass(o),_r_()}),_r_()}),B.define("hotel/explorer",function(e){_i_("269:ffb3eb8e");var n=e("jquery");n(function(){_i_("269:b9454300");var e,t,i=n("#hp_explorer_entry_point");if(!i.length)return _r_();B.lightbox.show(i,{customWrapperClassName:"hp_explorer_entry_point"}),e=i.find(".available_languages--list"),t=i.find(".expep-btn"),e.bind("change",function(){_i_("269:01572c0e"),t.attr("href",e.val()),_r_()}),t.bind("click",function(){_i_("269:542aaf09"),B.et.customGoal("HWAFNeOYJeaILYDMFFUKGZIUONSFTUQODWe",1),_r_()}),_r_()}),_r_()}),B.define("hotel/banners",function(e){_i_("269:76fe3084");var t=e("jquery"),i=e("booking-sticker");t(".fe_banner__dismiss").click(function(e){_i_("269:fa7bd824"),e.preventDefault(),t(this).parents(".fe_banner").fadeOut("fast",function(){_i_("269:f8da7e78"),i.update(),_r_()}),_r_()}),_r_()}),B.define("hotel/usp",function(e){_i_("269:7669cc28");var t=e("jquery");t("#uspbox_review_link").click(function(){_i_("269:5203b6c6");var e=setTimeout(function(){_i_("269:273c5eda"),t(window).scrollTop(0),clearTimeout(e),_r_()},10);_r_()}),_r_()}),B.define("hotel/ph",function(e){_i_("269:c87d62c0");var n=e("jquery");n(".js-ph__cta").on("click",function(e){_i_("269:5c435c12");var t=B.env.b_has_valid_dates,i=n(t?"#available_rooms":"a[name=availability]");if(!i.length)return _r_();n("html, body").animate({scrollTop:i.offset().top},500),e.preventDefault(),_r_()}),_r_()}),booking.jstmpl("wishlist_entry_point",function(){_i_("269:17691675");var f,p=["\n        ","\n    ",'\n    <button\n        id="wl--','"\n        data-bui-component="','"\n        data-popover-content-id="','"\n        data-wl-hotel-saved="','"\n        data-popover-position="bottom end"\n        data-popover-trigger="click"\n        data-component="wishlist/entrypoint"\n        type="button"\n        data-hotel-id="','"\n        data-list-id="','"\n        data-key="','"\n        data-popover-z-index="modal"\n        data-corner-icon="','"\n        data-bui-button="','"\n        data-bui-button-type="','"\n        data-bui-button-size="','"\n        data-wl-icon-size="','"\n        data-expand-list="','"\n        data-show-text="','"\n        data-placement="hp_title"\n        data-position="','"\n        data-disable-tooltip="','"\n        ','\n        data-title="','\n        data-single-selection="','"\n\n        class="',"wl-entrypoint ","bui-button bui-button--"," ","bui-button--","corner ","saved_in_wl",'"\n\n        aria-label="',"/private/a11y_hp_bookmarks_button_saved/name","","/private/a11y_hp_bookmarks_add_to/name",'"\n\n        role="button"\n        aria-live="assertive"\n        data-loadingtext="',"/private/a11y_hp_bookmarks_loading/name",'"\n    >\n        ','\n            <div aria-label="loading" class="bui-spinner'," bui-spinner--size-small",'" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ',"\n            ","\n                ","true","sr-wl-entry-heart-svg","false","iconset/heart","presentation","medium","\n                    ","saved","iconset/heart_outline",'\n            <span class="wl-entrypoint__btn-text">\n                ',"/private/sr_lists_saved_notification/name","/private/lists_add_to_list/name","\n            </span>\n        ",'\n    <div\n        id="','"\n        class="bui-card bui-u-hidden"\n    >\n        <div class="bui-card__content">\n            ',"\n\n    ",'\n        <div class="bui-inline-container bui-inline-container--align">\n            <div class="list-manager__title bui-inline-container__start">\n                ',"/private/wl_removed_from/name",'\n            </div>\n            <div class="bui-inline-container__main">\n                ','\n        <a\n            class="bui-link bui-link--primary bui_font_body js-open-list"\n            target="_blank"\n            href="','"\n        >\n            ','\n            <span aria-label="','"></span>\n        </a>\n    ',"\n            </div>\n        </div>\n    ",'\n        <span class="list-manager__title">\n            ','\n        </span>\n        <ul class="bui-list bui-list--unordered list-manager__removed-list">\n            ','\n                <li class="bui-list__item list-manager__removed-item">\n                    ',"\n                </li>\n            ","\n        </ul>\n    ","\n",'\n    <div class="list-manager__loading'," list-manager__loading-mask",'">\n        <div aria-label="Loading" class="bui-spinner" role="alert" aria-busy="true">\n            <div class="bui-spinner__inner"></div>\n        </div>\n    </div>\n','<div class="list-manager__title" aria-hidden="true">\n    ',"/private/wl_select_a_list/name",'\n                    <a href="','" class="js-open-list list-manager__title--saved" target="_blank">\n                ',"/private/wl_saved_to/name","</a>","        \n    ","\n</div>\n",'\n    <div class="list-manager__title" aria-hidden="true">\n        ',"        \n    </div>\n",'\n                    <div class="bui-link bui-link--secondary list-manager__expand-link js-list-manager__expand-link">\n                        <div class="bui-inline-container bui-inline-container--align">\n                            <div class="bui-inline-container__main">\n                                ',"/private/wl_lists_funnel_edit/name",'\n                            </div>\n                            <div class="bui-inline-container__end">\n                                ',"iconset/navarrow_down_bold","small","\n                            </div>\n                        </div>\n                    </div>\n                ","\n                        ",'\n                            <div class="',"bui-form__group list-manager__lists",'"\n                                role="group"\n                            >\n                                <div class="bui-group">\n                                    ',"\n                                        ",'<label\n    class="bui-radio js-wl-radio"\n    aria-label="','"\n    data-list-id="','"\n>\n    <input\n        type="radio"\n        class="bui-radio__input"\n        ','checked="checked"','\n    />\n\n    <span class="bui-radio__label">\n        <span class="list-manager__list-name">\n            ',"\n        </span>\n        ",'\n            <span class="list-manager_view-link-wrapper">\n                <a\n                    class="js-open-list"\n                    target="_blank"\n                    href="','"\n                    aria-describedby="wl_checkbox_label_','"\n                >\n                    ',"/private/wl_view_list/name",'\n                    <span aria-label="','"></span>\n                </a>\n            </span>\n        ',"\n    </span>\n</label>\n","\n                                    ","\n\n",'\n\n<div class="list-manager__input-wrapper'," bui-has-error",'">\n    ','\n    <label class="bui-radio list-manager__input-create js-list-manager__input-create">\n        <input\n            type="radio"\n            name="radio"\n            ','disabled=""','\n            class="bui-radio__input"\n            aria-hidden="true"\n        />\n        <span class="bui-radio__label">\n            ',"/private/wl_new_list/name","\n        </span>\n    </label>\n",'\n    <div class="bui-input-text__content"\n        data-bui-tooltip\n        data-bui-component="',"Tooltip",'"\n        data-tooltip-position="bottom"\n        data-tooltip-z-index="modal"\n        title="',"/private/wl_lists_max_tooltip/name",'"\n        aria-label="','"\n    >\n        <div class="bui-input-text__field">\n            <input\n                type="text"\n                ',"disabled",'\n                class="bui-input-text__control js-wl-create-input"\n                value="','"\n                placeholder="','"\n                aria-label="',"/private/a11y_hp_bookmarks_name_new/name",'"\n            />\n            <div class="bui-input-text__decorator"></div>\n            ','\n                <div class="bui-input-text__side">\n                    <span class="bui-icon bui-icon--medium bui-icon--color-destructive">\n                        <svg viewBox="0 0 24 24" width="1em" height="1em" iconset="streamline" name="Warning" focusable="false" aria-hidden="true">\n                            <path d="M12 15.75A1.125 1.125 0 1 0 12 18a1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm.75-2.25V5.25a.75.75 0 0 0-1.5 0v8.25a.75.75 0 0 0 1.5 0zM22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zm1.5 0c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12z"></path>\n                        </svg>\n                    </span>\n                </div>\n            ',"\n        </div>\n    </div>\n",'\n    <label class="bui-checkbox js-wl-checkbox list-manager__input-create js-list-manager__input-create'," bui-checkout__loading",'">\n        <input\n            type="checkbox"\n            name="create"\n            ','\n            class="bui-checkbox__input"\n            aria-hidden="true"\n        />\n        <span class="bui-checkbox__label">\n            ','\n                <div aria-label="Label" class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                    <div class="bui-spinner__inner"></div>\n                </div>\n            ',"\n    \n    ",'\n        <div class="bui-form__error">\n            ',"/private/wl_lists_create_failed/name","\n        </div>\n    ","\n</div>","\n                                </div>\n                            </div>\n                            ","\n                                ","\n                            ",'\n                        <div class="','"\n                            role="group"\n                        >\n                            <div class="bui-group">\n                                ','<label\n    class="bui-checkbox js-wl-checkbox','"\n    aria-label="','"\n>\n    <input\n        type="checkbox"\n        class="bui-checkbox__input"\n        ','\n    />\n    <span class="bui-checkbox__label">\n        ','\n            <div aria-label="Label" class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ','\n        <span class="list-manager__list-name">\n            ',"\n    </span>\n</label>","\n                            </div>\n                        </div>\n                        ","\n    </button>\n"],b=["wl_popover_content_id","component_id","wl_hotel_saved","hotel_id","wl_list_id","wl_popover_key","wl_corner_icon","bui_button","bui_button_type","bui_button_size","wl_icon_size","wl_expand_list","show_text","b_lang_is_rtl","wl_disable_tooltip","wl_entrypoint_title","wl_single_selection","fe_hotel_wishlists_count","listsCount","wl_entrypoint_loading","wl_lists","url","list_name","name","wl_expand_before_save","wl_list_toggled","wl_submitting","wl_loading_list","b_user_auth_level_is_low_or_high","wl_list_expanded","fe_wl_list_start_link","fe_wl_list_link","id","selected","wl_error_when_creating","wl_new_list_input_disabled","wl_remaining","wl_new_list_name","input_placeholder","wl_new_list_hint","wl_list_loading_status","wishlist_create_new","b_reg_user_wishlist_remaining","b_action","b_site_type"];return _r_(function(l){_i_("269:ba843692");var e,t,i="",c=this.fn;function d(e){return _i_("269:3dfb2d67"),e+=p[108],e+=p[108],e+=p[109],c.MD(b[34])&&(e+=p[110]),e+=p[111],c.MD(b[16])?(e=function(e){_i_("269:df8cbcc1"),e+=p[112],c.MD(b[35])&&(e+=p[113]);return e+=[p[114],c.ME(p[115],c.MB,c.MN,null),p[116]].join(""),_r_(e)}(e+=p[0]),e+=p[0],l.unshift({input_placeholder:c.MB(b[39])}),e=n(e),l.shift()):e=function(e){_i_("269:76c3854e"),e+=p[131],c.MJ(c.MG((c.MC(b[40])||{}).newList))&&(e+=p[132]);e+=p[133],c.MD(b[35])&&(e+=p[113]);e+=p[134],c.MJ(c.MG((c.MC(b[40])||{}).newList))&&(e+=p[135]);return e+=p[38],l.unshift({input_placeholder:c.MB(b[41])}),e=n(e),l.shift(),e+=p[116],_r_(e)}(e+=p[0]),e+=p[1],e+=p[136],c.MD(b[34])&&(e+=[p[137],c.ME(p[138],c.MB,c.MN,null),p[139]].join("")),e+=p[140],_r_(e)}function h(e){return _i_("269:5e086ca1"),e+=p[108],e+=p[108],e+=p[109],c.MD(b[34])&&(e+=p[110]),e+=p[111],c.MD(b[16])?(e=function(e){_i_("269:1c4c31cb"),e+=p[112],c.MD(b[35])&&(e+=p[113]);return e+=[p[114],c.ME(p[115],c.MB,c.MN,null),p[116]].join(""),_r_(e)}(e+=p[0]),e+=p[0],l.unshift({input_placeholder:c.MB(b[39])}),e=r(e),l.shift()):e=function(e){_i_("269:72de7d95"),e+=p[131],c.MJ(c.MG((c.MC(b[40])||{}).newList))&&(e+=p[132]);e+=p[133],c.MD(b[35])&&(e+=p[113]);e+=p[134],c.MJ(c.MG((c.MC(b[40])||{}).newList))&&(e+=p[135]);return e+=p[38],l.unshift({input_placeholder:c.MB(b[41])}),e=r(e),l.shift(),e+=p[116],_r_(e)}(e+=p[0]),e+=p[1],e+=p[136],c.MD(b[34])&&(e+=[p[137],c.ME(p[138],c.MB,c.MN,null),p[139]].join("")),e+=p[140],_r_(e)}function n(e){return _i_("269:55f2ffa7"),e+=p[117],c.MJ(c.MB(b[36])<=0)&&(e+=p[118]),e+=p[119],c.MJ(c.MB(b[36])<=0)&&(e+=c.ME(p[120],c.MB,c.MN,null)),e+=p[121],c.MJ(c.MB(b[36])<=0)&&(e+=c.ME(p[120],c.MB,c.MN,null)),e+=p[122],(c.MJ(c.MB(b[36])<=0)||c.MJ(c.MB(b[26])))&&(e+=p[123]),e+=[p[124],c.F.entities(c.MC(b[37])),p[125],c.F.entities(c.MC(b[38])),p[126],c.ME(p[127],c.MB,c.MN,null),p[128]].join(""),c.MD(b[34])&&(e+=p[129]),e+=p[130],_r_(e)}function r(e){return _i_("269:3cdadbd8"),e+=p[117],c.MJ(c.MB(b[36])<=0)&&(e+=p[118]),e+=p[119],c.MJ(c.MB(b[36])<=0)&&(e+=c.ME(p[120],c.MB,c.MN,null)),e+=p[121],c.MJ(c.MB(b[36])<=0)&&(e+=c.ME(p[120],c.MB,c.MN,null)),e+=p[122],(c.MJ(c.MB(b[36])<=0)||c.MJ(c.MB(b[26])))&&(e+=p[123]),e+=[p[124],c.F.entities(c.MC(b[37])),p[125],c.F.entities(c.MC(b[38])),p[126],c.ME(p[127],c.MB,c.MN,null),p[128]].join(""),c.MD(b[34])&&(e+=p[129]),e+=p[130],_r_(e)}function u(e){return _i_("269:766e82b6"),e+=[p[59],c.F.html(c.MB(b[21])),p[60],c.F.js(c.F.html(c.MC(b[22]))),p[61],c.F.js(c.F.html(c.MB(b[22]))),p[62]].join(""),_r_(e)}return i+=p[0],e=i,_i_("269:514c8363"),t=e+=["",p[1]].join(""),_i_("269:e5c4211d"),t+=["",p[2],c.F.entities(c.MC(b[0])),p[3],c.F.entities(c.MC(b[1])),p[4],c.F.entities(c.MC(b[0])),p[5],c.F.entities(c.MC(b[2])),p[6],c.F.entities(c.MC(b[3])),p[7],c.F.entities(c.MC(b[4])),p[8],c.F.entities(c.MC(b[5])),p[9],c.F.entities(c.MC(b[6])),p[10],c.F.entities(c.MC(b[7])),p[11],c.F.entities(c.MC(b[8])),p[12],c.F.entities(c.MC(b[9])),p[13],c.F.entities(c.MC(b[10])),p[14],c.F.entities(c.MC(b[11])),p[15],c.F.entities(c.MC(b[12])),p[16],c.F.entities(c.MC(b[13])?"bottom left":"bottom right"),p[17],c.F.entities(c.MC(b[14])),p[18]].join(""),c.MK(c.MB(b[14]))&&(t+=[p[19],c.F.entities(c.MC(b[15])),p[18]].join("")),t+=[p[20],c.F.entities(c.MC(b[16])),p[21]].join(""),t+=p[22],c.MD(b[7])&&(t+=[p[23],c.F.entities(c.MC(b[8])),p[24]].join(""),c.MD(b[9])&&(t+=[p[25],c.F.entities(c.MC(b[9])),p[24]].join(""))),c.MJ(1<c.MB(b[6]))&&(t+=p[26]),c.MD(b[10])&&(t+=[c.F.entities(c.MC(b[10])),p[24]].join("")),c.MD(b[2])&&(t+=p[27]),t+=p[28],c.MJ(0<c.MB(b[18]))?t+=[(l.unshift({num_lists:c.MB(b[17])}),f=c.ME(p[29],c.MB,c.MN,null),l.shift(),f),p[30]].join(""):t+=[c.ME(p[31],c.MB,c.MN,null),p[24]].join(""),t+=[p[32],c.ME(p[33],c.MB,c.MN,null),p[34]].join(""),c.MD(b[19])?(t+=p[35],c.MD(b[10])&&(t+=p[36]),t+=p[37]):(t+=p[38],c.MD(b[6])?t+=[p[39],(l.unshift({"aria-hidden":p[40],class:p[41],focusable:p[42],name:p[43],role:p[44],size:p[45]}),f=c.HELPER("icon",l[0]),l.shift(),f),p[38]].join(""):(t+=p[39],c.MD(b[2])?t+=[p[46],(l.unshift({class:p[47],name:p[43],size:p[45]}),f=c.HELPER("icon",l[0]),l.shift(),f),p[39]].join(""):t+=[p[46],(l.unshift({color:"#0071C2",name:p[48],size:p[45]}),f=c.HELPER("icon",l[0]),l.shift(),f),p[39]].join(""),t+=p[38]),t+=p[0]),t+=p[0],c.MD(b[12])&&(t+=p[49],c.MD(b[2])?t+=[p[46],c.ME(p[50],c.MB,c.MN,null),p[39]].join(""):t+=[p[46],c.ME(p[51],c.MB,c.MN,null),p[39]].join(""),t+=p[52]),t+=p[0],c.MJ(c.MC(b[44])+""=="www")&&(t=function(e){if(_i_("269:f654b2c5"),e+=["",p[53],c.F.entities(c.MC(b[0])),p[54]].join(""),c.MK(c.MB(b[2])||c.MB(b[24])||c.MB(b[25])))e=function(e){if(_i_("269:8ea24128"),e+=["",p[1]].join(""),e+=p[55],c.MJ(1==c.array_length(c.MB(b[20])))){e+=[p[56],c.ME(p[57],c.MB,c.MN,null),p[58]].join("");var t=c.MC(b[20])||[];l.unshift(null);for(var i=1,n=t.length;i<=n;i++)l[0]=t[i-1],e+=p[46],l.unshift({list_name:c.MB(b[23]),url:c.MB(b[21])}),e=u(e),l.shift(),e+=p[39];l.shift(),e+=p[63]}else{for(e+=[p[64],c.ME(p[57],c.MB,c.MN,null),p[65]].join(""),t=c.MC(b[20])||[],l.unshift(null),i=1,n=t.length;i<=n;i++)l[0]=t[i-1],e+=p[66],l.unshift({list_name:c.MB(b[23]),url:c.MB(b[21])}),e=u(e),l.shift(),e+=p[67];l.shift(),e+=p[68]}return e+=[p[69],""].join(""),_r_(e)}(e+=p[39]),e+=p[38];else if(c.MD(b[27]))a=e+=p[39],_i_("269:bda3c773"),a+=["",p[70]].join(""),c.MD(b[26])&&(a+=p[71]),a+=[p[72],""].join(""),e=_r_(a),e+=p[38];else{if(e+=p[39],e=c.MD(b[16])?function(e){if(_i_("269:302e8ecc"),e+=p[73],c.MJ(c.MC(b[28]))&&c.MJ(c.MB(b[29])))e+=[p[0],c.ME(p[74],c.MB,c.MN,null),p[1]].join("");else{e+=p[0];var t=c.MC(b[20])||[];l.unshift({list:null});for(var i,n=1,r=t.length;n<=r;n++)l[0].list=i=t[n-1],e+=p[38],c.MJ(c.MG((i||{}).selected))&&(e+=p[39],c.MN(b[30],[p[75],c.F.html((i||{}).url),p[76]].join("")),e+=p[39],c.MN("fe_wl_list_link",c.MG((i||{}).name)),e+=p[38]),e+=p[0];l.shift(),e+=[p[0],(l.unshift({end_link:p[78],list_name:c.MB(b[31]),start_link:c.MB(b[30])}),f=c.ME(p[77],c.MB,c.MN,null),l.shift(),f),p[79]].join("")}return e+=p[80],_r_(e)}(e+=p[46]):function(e){if(_i_("269:6b9762d8"),c.MK(c.MB(b[24])||c.MB(b[25]))){e+=p[81];var t=c.MC(b[20])||[];l.unshift({list:null});for(var i,n=1,r=t.length;n<=r;n++)l[0].list=i=t[n-1],e+=p[38],c.MJ(c.MG((i||{}).selected))&&(e+=p[39],c.MN(b[30],[p[75],c.F.html((i||{}).url),p[76]].join("")),e+=p[39],c.MN(b[31],[p[46],c.F.js(c.F.html((i||{}).name)),p[39]].join("")),e+=p[38]),e+=p[0];l.shift(),e+=[p[0],(l.unshift({end_link:p[78],list_name:c.MB(b[31]),start_link:c.MB(b[30])}),f=c.ME(p[77],c.MB,c.MN,null),l.shift(),f),p[82]].join("")}return e+=p[69],_r_(e)}(e+=p[46]),e+=p[39],e+=p[39],c.MJ(c.MC(b[28]))&&c.MK(c.MB(b[29])))e+=[p[83],c.ME(p[84],c.MB,c.MN,null),p[85],(l.unshift({color:"#000000",name:p[86],size:p[87]}),f=c.HELPER("icon",l[0]),l.shift(),f),p[88]].join("");else{if(e+=p[46],c.MD(b[16])){if(e+=p[89],c.MD(b[28])){e+=p[90],e+=p[91],e+=p[92];var t=c.MC(b[20])||[];l.unshift(null);for(var i=1,n=t.length;i<=n;i++)l[0]=t[i-1],o=e+=p[93],_i_("269:1b6c551e"),o+=[p[94],c.F.js(c.F.html(c.MC(b[23]))),p[95],c.F.js(c.F.html(c.MC(b[32]))),p[96]].join(""),c.MD(b[33])&&(o+=p[97]),o+=[p[98],c.F.js(c.F.html(c.MC(b[23]))),p[99]].join(""),c.MD(b[33])&&(o+=[p[100],c.F.html(c.MC(b[21])),p[101],c.F.js(c.F.html(c.MB(b[32]))),p[102],c.ME(p[103],c.MB,c.MN,null),p[104],c.F.js(c.F.html(c.MC(b[23]))),p[105]].join("")),o+=p[106],e=_r_(o),e+=p[107];l.shift(),e+=p[107],c.MJ(0<c.MC(b[42]))&&(e=d(e+=p[93]),e+=p[107]),e+=p[141],c.MD(b[26])&&(_=e+=p[142],_i_("269:9d07d1eb"),_+=["",p[70]].join(""),c.MD(b[26])&&(_+=p[71]),_+=[p[72],""].join(""),e=_r_(_),e+=p[143]),e+=p[89]}e+=p[46]}else{e+=p[144],e+=p[91],e+=p[145];var t=c.MC(b[20])||[];l.unshift(null);for(var i=1,n=t.length;i<=n;i++)l[0]=t[i-1],e+=p[107],s=e,_i_("269:0bc144df"),s+=p[146],c.MJ(c.MC(b[40])[c.MB(b[32])])&&(s+=p[132]),s+=[p[147],c.F.js(c.F.html(c.MC(b[23]))),p[95],c.F.js(c.F.html(c.MC(b[32]))),p[148]].join(""),c.MD(b[33])&&(s+=p[97]),s+=p[149],c.MJ(c.MC(b[40])[c.MB(b[32])])&&(s+=p[150]),s+=[p[151],c.F.js(c.F.html(c.MC(b[23]))),p[99]].join(""),c.MJ(c.MB(b[33]))&&c.MJ(c.MC(b[43])+""=="hotel")&&(s+=[p[100],c.F.html(c.MC(b[21])),p[101],c.F.js(c.F.html(c.MB(b[32]))),p[102],c.ME(p[103],c.MB,c.MN,null),p[104],c.F.js(c.F.html(c.MC(b[23]))),p[105]].join("")),s+=p[152],e=_r_(s),e+=p[142];l.shift(),e+=p[142],c.MJ(c.MC(b[28]))&&c.MJ(0<c.MC(b[42]))&&(e=h(e+=p[107]),e+=p[142]),e+=p[153],c.MD(b[26])&&(r=e+=p[143],_i_("269:3512dfe7"),r+=["",p[70]].join(""),c.MD(b[26])&&(r+=p[71]),r+=[p[72],""].join(""),e=_r_(r),e+=p[89]),e+=p[46]}e+=p[39]}e+=p[38]}var r,_,o,a,s;return e+=[p[130],"",p[69]].join(""),_r_(e)}(t+=p[38]),t+=p[0]),t+=[p[154],""].join(""),e=_r_(t),e+=[p[69],""].join(""),i=_r_(e),i+=p[1],_r_(i)})}()),booking.jstmpl("wishlist_savers",function(){_i_("269:2be2ecc5");var r,_=["\n        ",'\n    <p\n        class="hp-lists-counter wishlist-social-count'," g-hidden",'"\n        data-component="wishlist/savers"\n        data-wl-hotel-saved="','"\n        data-hotel-id="','"\n        data-hotel-count="','"\n    >\n        ',"\n            ","\n                ","/private/wish_lists_be_first/name","/private/lists_added_to_x_lists/name","/private/wish_lists_be_almost_first/name","\n    </p>\n","\n    "],o=["wl_hotel_saved","hotel_id","b_wishlists_hotel_count"];return _r_(function(e){_i_("269:9be4e43d");var t,i="",n=this.fn;return i+=_[0],t=i,_i_("269:247adc96"),t+=["",_[1]].join(""),n.MD(o[0])&&(t+=_[2]),t+=[_[3],n.F.entities(n.MC(o[0])),_[4],n.F.entities(n.MC(o[1])),_[5],n.F.entities(n.MC(o[2])),_[6]].join(""),n.MD(o[0])||(t+=_[7],n.MJ(0==n.MC(o[2]))?t+=[_[8],n.ME(_[9],n.MB,n.MN,null),_[7]].join(""):n.MJ(10<=n.MC(o[2]))?t+=[_[8],(e.unshift({num_wishlists_16:n.MC(o[2])}),r=n.ME(_[10],n.MB,n.MN,null),e.shift(),r),_[7]].join(""):t+=[_[8],n.ME(_[11],n.MB,n.MN,null),_[7]].join(""),t+=_[0]),t+=[_[12],""].join(""),i=_r_(t),i+=_[13],_r_(i)})}()),B.define("lists/lists-api-legacy",function(e,t,i){_i_("269:edf74453");var a=e("jquery"),s=e("promise"),l={},c={EDIT:"wl:edit",FETCH:"wl:fetch",CREATE:"wl:create",REMOVE:"wl:remove",EDITHOTEL:"wl:edithotel",EDITHOTELSTART:"wl:edithotelstart",EDITHOTELS:"wl:edithotels",EDITHOTELSSTART:"wl:edithotelsstart",LOADINGSTART:"wl:loadingstart",LOADINGEND:"wl:loadingend"},d={hotel:"hp_header",searchresults:"sr_list",mywishlist:"wishlist"};function n(e,n,t){_i_("269:fcaf146b"),n=function(e){_i_("269:da99af35");var t=B.env.b_action,i="www"===B.env.b_site_type,n=d[t]||"";return _r_(a.extend(e||{},{source:i?n:"",aid:booking.env.b_aid,lang:booking.env.b_lang_for_url,sid:booking.env.b_sid,stype:booking.env.b_site_type_id,stid:booking.env.b_stid,label:booking.env.b_label,currency:B.env.b_selected_currency}))}(n);var i=(t=t||{}).noCache,r=t.noErrorCode;if(!i){var _=e+a.param(n);if(_ in l)return _r_(l[_])}h(c.LOADINGSTART,{params:n});var o=new s(function(t,i){_i_("269:88ba6750"),a.ajax({type:"POST",url:e,data:n,success:function(e){if(_i_("269:a6f00409"),!(e&&e.success||r))return delete l[_],_r_(i("server error"));return _r_(t({params:n,result:e}))},error:function(e){return _i_("269:bc9f0fc3"),delete l[_],_r_(i(e))},complete:function(){_i_("269:449827e7"),h(c.LOADINGEND,{params:n}),_r_()}}),_r_()});return i||(l[_]=o),_r_(o)}function h(e,t){return _i_("269:14982cfe"),B.eventEmitter.trigger(e,t),_r_(t)}function r(e){_i_("269:e5d0874b");var t="creation_timestamp",n=["is_collaborated","privacy","selected"];a.each(e,function(e,i){_i_("269:fe6dfd1e"),a.each(n,function(e,t){_i_("269:001bb250"),t in i&&(i[t]=Boolean(Number(i[t]))),_r_()}),t in i&&(i.is_new=1e3*i[t]>new Date-864e5),_r_()}),_r_()}i.exports={init:function(){},EVENTS:c,TYPE:{RECENTLY_VIEWED:3},edit:function(){},lists:{},getHotelLists:function(e){return _i_("269:8504519f"),_r_(this.lists[e]||[])},getListById:function(e,t){_i_("269:55506ce2");for(var i=this.getHotelLists(e),n=0;n<i.length;n++){var r=i[n];if(r.id==t)return _r_(r)}return _r_(null)},updateLists:function(i,n){if(_i_("269:2a18ecee"),!i||!i.params)return _r_();var r=this;i.params.lists.split(",").forEach(function(e){_i_("269:2d1f76ed");var t=r.getListById(n,e);t&&(t.selected=1==i.params.new_state),_r_()}),_r_()},addList:function(e,t){if(_i_("269:d480fad7"),!e||!e.id)return _r_();for(var i in this.lists){if(this.lists.hasOwnProperty(i))this.lists[i].push(a.extend({hotels_count:1,selected:i===t},e))}_r_()},fetch:function(t){return _i_("269:2bdb7d4f"),_r_(n("/wishlist/get",t).then(function(e){return _i_("269:56665902"),r(e.result.lists),this.lists[t.hotel_id]=e.result.lists,_r_(h(c.FETCH,e))}.bind(this)))},createList:function(e){_i_("269:9b77871c");var t=this;return this.clearCache(),_r_(n("/wishlist/create",e).then(function(e){return _i_("269:36ad0e89"),r([e.result]),t.addList(e.result),_r_(e)}))},create:function(t){return _i_("269:866f206f"),this.clearCache(),_r_(n("/wishlist/create",t).then(function(i){if(_i_("269:422ac807"),r([i.result]),this.addList(i.result,t.hotel_id),"string"==typeof t.hotel_ids){var e=t.hotel_ids.split(",");a.each(e,function(e,t){_i_("269:28416e12"),h(c.EDITHOTEL,{params:a.extend({hotel_id:t,lists:i.result.id},i.params),result:i.result}),_r_()})}return _r_(h(c.CREATE,i))}.bind(this)))},renameList:function(e){return _i_("269:853caa31"),this.clearCache(),_r_(n("/wishlist/update",e))},removeList:function(e){return _i_("269:9164debb"),this.clearCache(),_r_(n("/wishlist/delete",e))},editHotels:function(e){_i_("269:bc8f37fb"),this.clearCache(),h(c.EDITHOTELSSTART,e);var t=e.hotel_ids,i=new Array(t.length+1).join("1").split("");return a.isArray(t)&&(e.hotel_ids=t.join(",")),_r_(n("/wishlist/save_hotels",a.extend({new_states:i.join(",")},e)).then(function(i){return _i_("269:ee3861a2"),a.each(t,function(e,t){_i_("269:9ee2b61a"),h(c.EDITHOTELS,{params:a.extend({hotel_id:t},i.params),result:i.result}),_r_()}),_r_(i)}))},switchList:function(i){return _i_("269:c7bf69b8"),this.clearCache(),_r_(n("/wishlist/save_hotel",i).then(function(e){if(_i_("269:735314eb"),!e||!e.params)return _r_();var r=this,_=i.hotel_id,t=i.new_state.split(","),o=i.lists.split(",");return t.forEach(function(e,t){_i_("269:c9034521");var i=o[t],n=r.getListById(_,i);n&&(n.selected=!!+e),_r_()}),_r_(this.getHotelLists(_))}.bind(this)))},editHotel:function(t){return _i_("269:06fa8621"),this.clearCache(),h(c.EDITHOTELSTART,t),_r_(n("/wishlist/save_hotel",t).then(function(e){return _i_("269:7f0e2ac5"),this.updateLists(e,t.hotel_id),_r_(h(c.EDITHOTEL,e))}.bind(this)))},getAvailability:function(e){return _i_("269:bb6d284c"),_r_(n("/wishlist/get_or_update_wishlist_hotels_dates",e,{noCache:!0,noErrorCode:!0}).then(function(e){return _i_("269:d3b76cd6"),_r_(e.result)}.bind(this)))},clearCache:function(){_i_("269:2766d5f5"),l={},_r_()},bind:function(e,t,i){_i_("269:a092e0ae"),B.eventEmitter.bind(e,function(){_i_("269:4dc0d951"),t.apply(i,arguments),_r_()}),_r_()}},_r_()}),B.define("component/wishlist/tracking",function(e,t,i){"use strict";_i_("269:1b687771");var r,n=e("server-data"),a=n.b_site_type,_=n.b_action,s={www:[{name:"desktop_wishlist_entry_point_refactoring",hash:"EUXPNMHfLebbMHSWedNDeQfYUXVaKBIecO",condition:function(){return _i_("269:711f77ba"),_r_(!B.env.b_sr_replatforming_holdout&&("hotel"===_||"searchresults"===_))},customGoals:{saveHotel:1,removeHotel:2,toggleList:3,createList:4,receiveResError:5},stages:{loggedInUser:1,nonLoggedInUser:2,searchresults:3,hotel:4,entrypointClicked:5,popoverMouseEnter:6}}],mdot:[]},o={listPage:{name:"wl_list_page_interaction",condition:function(){return _i_("269:d3f72d59"),_r_("mdot"===a&&("mywishlist"===_||"show_wishlists"===_))}},detailPage:{name:"wl_detail_page_interaction",condition:function(){return _i_("269:3fb650e2"),_r_("mywishlist"===_||"show_wishlists"===_)}},updateSearchConfig:{name:"wl_update_search_config",condition:function(){return _i_("269:d1596889"),_r_("www"===a&&"mywishlist"===_)}}},l=function(t){_i_("269:59e55152");var e=s[a];if(e&&e.length){var i=function(e,t){if(_i_("269:9a652f88"),e instanceof Array&&"function"==typeof t)for(var i=e.length,n=0;n<i;){var r=e[n];if(t(r,n,e))return _r_(r);n++}return _r_(void 0)}(e,function(e){return _i_("269:7367d36f"),_r_(e.name===t)});if(i){var n=i.hash,r=i.customGoals,_=i.condition,o=i.stages;return _r_({getHash:function(){return _i_("269:0d692c1c"),_r_(n)},customGoal:function(e){if(_i_("269:342f0364"),_&&!_())return _r_();r&&r[e]&&B.et.customGoal(n,r[e]),_r_()},track:function(){if(_i_("269:2e814938"),_&&!_())return _r_();return _r_(B.et.track(n))},isAllowed:function(){return _i_("269:ab7507a3"),_r_(!_||_&&_())},stage:function(e){if(_i_("269:b8aa967e"),_&&!_())return _r_();if(o&&e&&o[e]){var t=o[e];B.et.stage(n,t)}_r_()}})}}return _r_({getHash:function(){return _i_("269:29517791"),_r_(null)},customGoal:function(){return _i_("269:dcc2d86f"),_r_(null)},track:function(){return _i_("269:37aed5b7"),_r_(null)},isAllowed:function(){return _i_("269:98a47ccb"),_r_(!1)},stage:function(){return _i_("269:fef99b7b"),_r_(null)}})}("desktop_wishlist_entry_point_refactoring"),c=(r=o,_i_("269:a9de068e"),_r_({customGoal:function(e){_i_("269:e5d8d220");var t=r[e];if(t){var i=t.condition,n=t.name;if(!i||i&&i())return _r_(B.et.goal(n))}_r_()}}));i.exports={expDesktopEntryPointRefactoring:l,expPageInteraction:c},_r_()}),B.define("component/wishlist/utils",function(e,t,i){"use strict";_i_("269:86a26b60");var n=e("server-data"),h=e("jquery"),u=n.b_query_params_delimiter,r={hotel:{openLink:"ZQafLebbMTSDSC",createList:"bYDXYFdKMDNdEPUUBYT"},searchresults:{openLink:"ZQafLebbMTSWYO",createList:"bYDXYFdKMDNdEPUUORe"},mywishlist:{viewSharedList:"IBZfWUFOJFIdOccPDNYPYKDcdC",register:"bESVCHAHNfUUIEC",signIn:"bEDcVDDNYVHO",updateDates:"BMRDfUFFdJfNWOOFBfC",updateGroup:"BMRDfUFFdJbRSdSSZRe",switchList:"YRCOMIIdOccPDbVT",renameList:"XMCDbMTSRDXe",deleteList:"EHMeGdEPUUIEC",createList:"bYDXYFdKMDNdEPUUIEC",shareList:"OcHeKMDNdEWe",searchFromEmptyList:"bESBbQAFfTFfFFdEWe"}},f=function(e,t,i){_i_("269:dd035804"),t=t||"&",i=i||"=";var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r+i+e[r]);return _r_(n.join(t))};i.exports={sendSqueak:function(e,t){if(_i_("269:44147f46"),!r[e]||!r[e][t])return _r_();return _r_(B.squeak(r[e][t]))},getActiveWishlist:function(e){_i_("269:b4e9b620");var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.selected&&t.push(n)}return _r_(t)},getWishlistNames:function(e){return _i_("269:11e0a57a"),_r_(e.map(function(e){return _i_("269:b41b3979"),_r_(e.name)}))},getLastUsedId:function(){_i_("269:5770ab34");var e=n.b_reg_user_last_used_wishlist;if(e&&e[0])return _r_(e[0].b_reg_user_detail_list_id);return _r_(null)},genEntryPointTooltipTitle:function(e){return _i_("269:c2a9678c"),_r_(e?B.jstmpl.translations("a11y_hp_bookmarks_button_saved",e,{num_lists:e}):B.jstmpl.translations("cdm_hp_quick_share_save"))},insertCSS:function(e){_i_("269:940884e4");var t="#".concat(e," {\n            -webkit-animation-name: wl-popover-enter-bottom;\n            animation-name: wl-popover-enter-bottom;\n            -webkit-animation-fill-mode: forwards;\n            animation-fill-mode: forwards;\n        }"),i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");i.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),_r_()},stringifyUrl:f,genSearchConfigQuery:function(e,t){_i_("269:f679dc87");var i=e.url,n=t.checkin,r=t.checkout,_=t.adults,o=t.rooms,a=t.children,s=t.childrenAges,l=[],c=i.split("#");return t&&!h.isEmptyObject(t)&&(n&&r&&l.push(f({checkin:n,checkout:r},u)),s&&(l=(l=l.concat(s.map(function(e){return _i_("269:4d32269c"),_r_(f({age:e},u))}))).concat(s.map(function(e){return _i_("269:072ea98b"),_r_(f({req_age:e},u))}))),l=l.concat(f({group_rooms:o,group_adults:_,group_children:a,no_rooms:o,req_adults:_,req_children:a},u))),_r_(c[0]+u+l.join(u)+(c[1]?"#"+c[1]:""))},genSearchConfigQueryDeprecated:function(e,t){_i_("269:f0a70766");var i=e.url,n=e.availability||{},r=[],_=i.split("#"),o=n.checkin,a=n.checkout;if(o=o||B.search.dates("checkin").toString(),a=a||B.search.dates("checkout").toString(),o&&a&&r.push(f({checkin:o,checkout:a},u)),t&&!h.isEmptyObject(t)){var s=t.childrenAges,l=t.rooms,c=t.adults,d=t.children;s&&(r=(r=r.concat(s.map(function(e){return _i_("269:4d32269c1"),_r_(f({age:e},u))}))).concat(s.map(function(e){return _i_("269:072ea98b1"),_r_(f({req_age:e},u))}))),r=r.concat(f({group_rooms:l,group_adults:c,group_children:d,no_rooms:l,req_adults:c,req_children:d},u))}return _r_(_[0]+u+r.join(u)+(_[1]?"#"+_[1]:""))},find:function(e,t){if(_i_("269:9a652f881"),e instanceof Array&&"function"==typeof t)for(var i=e.length,n=0;n<i;){var r=e[n];if(t(r,n,e))return _r_(r);n++}return _r_(void 0)},findIndex:function(e,t){if(_i_("269:efdd28ca"),e instanceof Array&&"function"==typeof t)for(var i=e.length,n=0;n<i;){if(t(e[n],n,e))return _r_(n);n++}return _r_(-1)},fill:function(e,t){_i_("269:802eefd9");for(var i=[],n=0;n<e;n++)i.push(t);return _r_(i)}},_r_()}),B.define("component/wishlist/service",function(e,t,i){_i_("269:f9398739");var _=e("server-data"),o=e("formatting/date"),a=e("lists/lists-api-legacy"),n=e("component/wishlist/utils"),r=n.fill,s=n.find,l=e("component/wishlist/tracking").expDesktopEntryPointRefactoring,c=e("jquery"),d=e("promise"),h=function(e){return _i_("269:e4d1d798"),_r_(c.extend({},function(e){if(_i_("269:bd1968aa"),e&&e.length)return _r_({childrenAges:(e[0].children_ages||e[0].ages).map(function(e){return _i_("269:3bb51209"),_r_(void 0!==e.age?e.age:e)}).join(","),children:e[0].ages.length});return _r_({children:null,childrenAges:""})}(e.b_group),{rooms:e.b_nr_rooms_wanted||null,adults:e.b_occupancy&&e.b_occupancy.adults||null}))},u=function(e){_i_("269:fc1d42f7");var t=e.b_checkin_date,i=e.b_checkout_date;if(t||i)return _r_({checkin:t,checkout:i});return _r_({})},f=function(e,t){return _i_("269:784e75fc"),t&&t(),_r_(e)},p=function(e,t){_i_("269:40d2f03c");var i=t.hotel_id;switch(e){case"get":case"update":case"delete":return _r_(t);case"save":return _r_(f(c.extend(t,h(_),u(_),{new_state:1}),function(){_i_("269:31def660"),l.customGoal("saveHotel"),_r_()}));case"remove":return _r_(f(c.extend(t,{new_state:0}),function(){_i_("269:5ddcf727"),l.customGoal("removeHotel"),_r_()}));case"switch":return _r_(c.extend(t,h(_),u(_)));case"create":return _r_(f(c.extend(t,h(_),{use_list_details:1}),function(){_i_("269:e81e5ca5"),l.customGoal("createList"),_r_()}));case"toggle":return _r_(f(c.extend(t,h(_),u(_)),function(){_i_("269:af1ca61c"),l.customGoal("toggleList"),_r_()}));case"getHotels":return _r_(c.extend(t,{with_hotels:1,include_availability:1,include_list_search_config:1}));case"getLists":return _r_({with_hotels:0,include_availability:0});case"availability":return t.childrenAges&&t.childrenAges instanceof Array&&(t.childrenAges=t.childrenAges.join(" ")),_r_(t);case"availabilityDeprecated":var n=_.fe_current_date,r=c.extend({rooms:B.search.group("rooms"),adults:B.search.group("adults"),children:B.search.group("children"),childrenAges:B.search.group("childrenAges")},t,{checkin:B.search.dates("checkin").toString()||n,checkout:B.search.dates("checkout").toString()||o.add_days(n,1)});return r.childrenAges&&r.childrenAges instanceof Array&&(r.childrenAges=r.childrenAges.join(" ")),_r_(r)}return _r_({hotel_id:i,new_state:1})};i.exports={createList:function(e,t){return _i_("269:89b48bc4"),_r_(a.createList(p("create",{name:e,hotel_id:t})).then(function(e){return _i_("269:547b8aad"),_r_(e.result)}))},getList:function(e){return _i_("269:144d6410"),_r_(a.fetch(p("get",{hotel_id:e})))},getHotelLists:function(e){return _i_("269:a9f71a1b"),_r_(a.getHotelLists(e))},getCachedList:function(e){_i_("269:e472f6a4");var t=a.getHotelLists(e);if(t.length)return _r_(d.resolve({lists:t}));return _r_(a.fetch(p("get",{hotel_id:e})).then(function(e){return _i_("269:547b8aad1"),_r_(e.result)}))},toggleList:function(t,e){_i_("269:4b1e5028");var i=s(a.getHotelLists(e),function(e){return _i_("269:fa6938c6"),_r_(t==e.id&&e.selected)});return _r_(a.switchList(p("toggle",{hotel_id:e,new_state:String(+!i),lists:String(t)})))},switchList:function(e,t){_i_("269:38093b43");var i=a.getHotelLists(t).filter(function(e){return _i_("269:d420c2cb"),_r_(e.selected)}).map(function(e){return _i_("269:27b13853"),_r_(e.id)});if(i.length){var n=r(i.length,0);return n.push(1),i.push(e),_r_(a.switchList(p("switch",{hotel_id:t,new_state:n.join(","),lists:i.join(",")})))}return _r_(a.editHotel(p("switch",{hotel_id:t,new_state:1,lists:String(i)})))},save:function(e,t){if(_i_("269:6c8a3b83"),null!==e)return _r_(a.editHotel(p("save",{lists:String(e),hotel_id:t})));return _r_(a.fetch(p("get",{hotel_id:t})).then(function(){_i_("269:06224181");var e=a.getHotelLists(t)[0];if(e)return _r_(a.editHotel(p("save",{lists:String(e.id),hotel_id:t})));return _r_(d.reject())}))},remove:function(e,t){return _i_("269:2719f0c2"),_r_(a.editHotel(p("remove",{hotel_id:e,lists:t})).then(function(){return _i_("269:3bb64ad0"),_r_(t)}))},removeAll:function(r){return _i_("269:3f7a7a7b"),_r_(a.fetch(p("get",{hotel_id:r})).then(function(e){_i_("269:e9d5ab42");var t=e.result.remaining,i=a.getHotelLists(r).filter(function(e){return _i_("269:203b363b"),_r_(e.selected)}),n=i.map(function(e){return _i_("269:3308c8f7"),_r_(String(e.id))}).join(",");return _r_(a.editHotel(p("remove",{hotel_id:r,lists:n})).then(function(){return _i_("269:b82dad21"),_r_({removed:i,remaining:t})}))}))},getHotels:function(e){return _i_("269:57cf0202"),_r_(a.fetch(p("getHotels",{id:e})).then(function(e){_i_("269:c00a47aa");var t=e.result;if(!t.success)return _r_(d.reject(t));var i=t.lists[0];return _r_(i)},function(e){return _i_("269:7f5de410"),_r_(d.reject(e))}))},getLists:function(){return _i_("269:6c3a7c85"),_r_(a.fetch(p("getLists",{})).then(function(e){_i_("269:d95981e9");var t=e.result;if(!t.success)return _r_(d.reject(t));return _r_(t)}))},getAvailability:function(e){return _i_("269:2b678d48"),_r_(a.getAvailability(p("availability",e)))},getAvailabilityDeprecated:function(e){return _i_("269:044379bc"),_r_(a.getAvailability(p("availabilityDeprecated",e)))},renameList:function(e){return _i_("269:7058fe0e"),_r_(a.renameList(p("update",e)))},removeList:function(e){return _i_("269:583075a7"),_r_(a.removeList(p("delete",e)))},clearCache:function(){return _i_("269:b94e1033"),_r_(a.clearCache())}},_r_()}),B.define("component/wishlist/entrypoint",function(e,t,i){_i_("269:97197ec2");var n=e("component/reactive"),r=e("server-data"),d=e("jquery"),s=r.b_action,_=r.b_is_tdot_traffic,h=r.b_site_type,o=e("component/wishlist/utils"),l=o.sendSqueak,u=o.getActiveWishlist,f=o.getWishlistNames,a=o.getLastUsedId,p=o.genEntryPointTooltipTitle,c=o.insertCSS,b=e("component/wishlist/service"),m=b.createList,v=b.getList,g=b.getHotelLists,M=b.getCachedList,w=b.switchList,y=b.toggleList,k=b.save,C=b.remove,E=b.removeAll,T=e("component/wishlist/tracking").expDesktopEntryPointRefactoring,x=e("morphdom"),S=n.extend({template:"wishlist_entry_point",initialState:{last_used_id:a(),b_action:s,b_site_type:h,b_is_tdot_traffic:_,wl_entrypoint_title:0,wl_saved_count:r.b_user_wishlisted_hotels_count,wl_hotel_saved:!1,wl_expand_before_save:!1,wl_list_toggled:!1,wl_entrypoint_loading:!1,wl_loading_list:!1,wl_submitting:!1,wl_error_when_creating:!1,wl_new_list_input_disabled:!0,wl_new_list_name:"",wl_disable_tooltip:!1,b_user_auth_level_is_low_or_high:r.b_user_auth_level_is_low_or_high,b_reg_user_wishlist_remaining:r.b_reg_user_wishlist_remaining},initialize:function(){_i_("269:92b6d4d1");var e=this.getAttr("data-hotel-id"),t=this.getAttr("data-key"),i="wl_entrypoint_".concat(t),n=+this.getAttr("data-wl-hotel-saved"),r=+this.getAttr("data-expand-list"),_=this.getAttr("data-disable-tooltip");this.setState({instances:{},wl_lists:[],wl_list_loading_status:{},wl_popover_content_id:i,wl_corner_icon:this.getAttr("data-corner-icon"),wl_single_selection:this.getAttr("data-single-selection"),wl_disable_tooltip:_,wl_entrypoint_title:!_&&p(n),hotel_id:e,wl_list_id:this.getAttr("data-list-id"),wl_popover_key:t,bui_button:this.getAttr("data-bui-button"),bui_button_type:this.getAttr("data-bui-button-type"),bui_button_size:this.getAttr("data-bui-button-size"),wl_icon_size:this.getAttr("data-wl-icon-size"),show_text:+this.getAttr("data-show-text"),wl_expand_list:r,wl_list_expanded:r,wl_hotel_saved:n}),this.$el.on("click",this.toggle.bind(this)),B.eventEmitter.bind("wl:updateLastUsedId",this.updateLastUsedId.bind(this)),B.eventEmitter.bind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),B.eventEmitter.bind("wl:reset",this.destroy.bind(this)),r||d(document).on("click.wl","#".concat(i," .js-list-manager__expand-link"),this.expand.bind(this)),d(document).on("keyup.wl","#".concat(i," .js-wl-create-input"),this.handleNameUpdate.bind(this)),d(document).on("focus.wl","#".concat(i," .js-wl-create-input"),this.handleFocus.bind(this)),d(document).on("change.wl","#".concat(i," .list-manager__lists .js-wl-radio"),this.handleSwitch.bind(this)),d(document).on("change.wl","#".concat(i," .list-manager__lists .js-wl-checkbox"),this.handleToggle.bind(this)),d(document).on("click.wl","#".concat(i," .js-list-manager__input-create"),this.handleClickOnCreate.bind(this)),d(document).on("click.wl","#".concat(i," .js-open-list"),function(){return _i_("269:918c986d"),_r_(l(s,"openLink"))}),_r_()},destroy:function(){_i_("269:1415fdfd");var e=this.getState().instances,t=!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]){var n=e[i];t=!0,n.close(),n.unmount()}t&&this.setState({instances:{}}),this.$el.off("click"),d(document).off("click.wl keyup.wl focus.wl change.wl"),B.eventEmitter.unbind("wl:updateLastUsedId",this.updateLastUsedId.bind(this)),B.eventEmitter.unbind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),B.eventEmitter.unbind("wl:reset",this.destroy.bind(this)),_r_()},getAttr:function(e){return _i_("269:01195e2a"),_r_(this.$el.attr(e)||this.$el.parent().attr(e)||"")},initToast:function(){_i_("269:f2881453");var l=this,c=window.BUI.createInstance("Toast",null,{duration:5e3});return c.update=function(){_i_("269:7a1210e0");var e=l.getState(),t=e.wl_lists,i=e.wl_hotel_saved,n=e.wl_loading_list;if(!t.length)return _r_();if(i){if(n)return _r_();var r=u(t);if(r.length){var _=r[0],o=_.name,a=_.url;c.show.call(this,{actionText:"",onActionClick:function(){_i_("269:1dd500ee"),a&&window.open(a),_r_()},text:B.jstmpl.translations("m_wl_saved_to",1,{list_name:o})})}return _r_()}var s=f(t);c.show.call(this,{text:B.jstmpl.translations("m_wl_removed_from",s.length,{list_name:s.join(", ")})}),_r_()},c.close=c.hide,_r_(c)},getInstance:function(){_i_("269:d68c63f3");var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"popover",i=this,n=this.getState().instances;if(n&&n[t])return _r_(n[t]);if("toast"===t)e=this.initToast.call(this);else{if(this.setState({component_id:"Popover"}),!(e=window.BUI.createInstance("Popover",this.el,{onAfterOpen:function(){_i_("269:e97a705c");var e=this;d(this.container).on("mouseenter.hide",function(){_i_("269:60d35f96"),T.stage("popoverMouseEnter"),window.clearTimeout(i.timer),_r_()}),d(this.container).on("mouseleave.hide",function(){_i_("269:cb124133"),window.clearTimeout(i.timer),i.timer=window.setTimeout(function(){_i_("269:1fba8e12"),e.close(),_r_()},3e3),_r_()}),_r_()},onAfterClose:function(){_i_("269:6b113070"),window.clearTimeout(i.timer),d(this.container).off("mouseenter.hide"),d(this.container).off("mouseleave.hide"),i.setState({wl_list_expanded:!1,wl_list_loading_status:{}}),this.unmount(),_r_()}})))return _r_();e.update=function(){if(_i_("269:ddceb877"),!this.state.active)return _r_();var e=(this.props||{}).contentId,t=e&&document.getElementById(e);this.content=t&&t.cloneNode(!0),this.content.classList.remove(this.modifiers.hidden);var i=this.container.querySelector("#"+e);return x(i,this.content),_r_(i)},"searchresults"===s&&c(e.id),this.setState({component_id:""})}return n[t]=e,this.setState({instances:n}),_r_(e)},updateLastUsedId:function(e,t){_i_("269:275be486"),this.setState({last_used_id:t}),_r_()},updateListLoadingStatus:function(e,t){_i_("269:0a9d35f1");var i=this.getState().wl_list_loading_status;i[e]=t,this.setState({wl_list_loading_status:i}),_r_()},toggleHotelSavedStatus:function(e,t){_i_("269:935fe6aa");var i=this.getState().hotel_id;for(var n in t)t.hasOwnProperty(n)&&n===i&&(this.setState(t[n]),this.$el.data("materialized-id",null));_r_()},expand:function(e){_i_("269:645a1351");var t=this.getInstance();this.setState({wl_list_expanded:!0});var i=t.update(),n=i&&i.querySelector('[data-bui-component="Tooltip"]');n&&window.BUI.createInstance("Tooltip",n).mount();_r_()},handleSwitch:function(e){_i_("269:2248dc8d");var t=this,i=d(e.currentTarget),n=this.getState(),r=n.wl_submitting,_=n.hotel_id,o=n.wl_new_list_name,a=this.getInstance();if(r)return _r_();if(i.hasClass("js-list-manager__input-create"))return this.handleSubmit(o.trim()),_r_();var s=i.attr("data-list-id");return this.setState({wl_submitting:!0}),a.update(),_r_(w(s,_).then(function(e){_i_("269:ef77c6f7"),t.setState({wl_submitting:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",t.genEventParams(_,{wl_lists:e})),B.eventEmitter.trigger("wl:updateLastUsedId",s),a.update(),_r_()},function(){_i_("269:15fd4ced"),t.setState({wl_submitting:!1}),a.update(),_r_()}))},handleToggle:function(e){_i_("269:297fe559");var i=this,t=d(e.currentTarget),n=this.getState(),r=n.wl_submitting,_=n.hotel_id,o=n.wl_new_list_name,a=n.wl_list_loading_status,s=this.getInstance();if(r)return _r_();if(t.hasClass("js-list-manager__input-create"))return this.handleSubmit(o.trim()),_r_();var l=t.attr("data-list-id");if(a[l])return _r_();var c=t.find("input").is(":checked");return this.setState({wl_entrypoint_loading:!0}),this.updateListLoadingStatus(l,!0),s.update(),_r_(y(l,_).then(function(e){_i_("269:6d63e33b"),i.updateListLoadingStatus(l,!1);var t=g(_).filter(function(e){return _i_("269:62716560"),_r_(e.selected)}).length;i.setState({wl_lists:e,wl_entrypoint_loading:!1,wl_hotel_saved:!!t,wl_list_toggled:!0}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",i.genEventParams(_,{wl_lists:e,wl_entrypoint_title:p(t),wl_hotel_saved:!!t})),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:!!t,hotel_id:_,lists:e}),c&&B.eventEmitter.trigger("wl:updateLastUsedId",l),s.update(),_r_()},function(){_i_("269:b3df9728"),T.customGoal("receiveResError"),i.setState({wl_entrypoint_loading:!1,wl_submitting:!1}),s.update(),_r_()}))},genEventParams:function(e,t){_i_("269:09f2cc8a");var i={};return i[e]=t,_r_(i)},toggle:function(e){_i_("269:b617be1a");var r=this;e.preventDefault();var t=this.getState(),i=t.wl_lists,n=t.wl_list_id,_=t.wl_hotel_saved,o=t.wl_entrypoint_loading,a=t.hotel_id,s=t.last_used_id,l=t.wl_expand_list,c=this.getInstance("mdot"===h?"toast":"popover");if(!c)return _r_();if(c.close(),c.unmount(),o)return _r_();T.stage("entrypointClicked");var d=i.length?!!g(a).filter(function(e){return _i_("269:2279050c"),_r_(e.selected)}).length:_;if(this.setState({wl_entrypoint_loading:!0,wl_error_when_creating:!1,wl_hotel_saved:d,wl_list_toggled:!1}),d){if(n)return _r_(C(a,n).then(function(e){_i_("269:e6d4f8b8"),r.setState({wl_entrypoint_loading:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(a,{wl_hotel_saved:0,wl_list_id:e})),_r_()},function(){_i_("269:1c20eb77"),r.setState({wl_entrypoint_loading:!1}),_r_()}));return _r_(E(a).then(function(e){_i_("269:9f92a6aa");var t=e.removed,i=e.remaining;r.setState({wl_entrypoint_loading:!1,wl_expand_before_save:!1,wl_remaining:i}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(a,{wl_lists:t,wl_entrypoint_title:p(0),wl_hotel_saved:0,wl_remaining:i})),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:0,hotel_id:a}),r.$el.data("materialized-id",null),c.mount(),c.open&&c.open(),c.update(),_r_()},function(e){return _i_("269:0558f907"),_r_(r.reset.call(r,e,{wl_hotel_saved:d}))}))}if(1<l)return _r_(M(a).then(function(e){_i_("269:e59dfb4a");var t=e.lists,i=e.remaining;r.setState({wl_entrypoint_loading:!1,wl_lists:t,wl_list_expanded:!0,wl_expand_before_save:!0}),void 0!==i&&(r.setState({wl_remaining:i}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(a,{wl_remaining:i}))),c.mount(),c.open&&c.open(),c.update(),_r_()},this.reset.bind(this)));if(n)return _r_();return _r_(k(s,a).then(function(){return _i_("269:1b9b22f0"),r.setState({wl_entrypoint_loading:!1,wl_loading_list:!0}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(a,{wl_entrypoint_title:p(1),wl_hotel_saved:1})),r.$el.data("materialized-id",null),c.mount(),c.open&&c.open(),c.update(),_r_(v(a).then(function(e){_i_("269:8a809148");var t=e.result,i=t.lists,n=t.remaining;r.setState({wl_remaining:n,wl_lists:i,wl_loading_list:!1}),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:1,hotel_id:a,lists:i}),l?r.expand.call(r):c.update(),_r_()},function(e){return _i_("269:700be127"),_r_(r.reset.call(r,e,{wl_hotel_saved:d}))}))},this.reset.bind(this)))},handleClickOnCreate:function(e){_i_("269:77268e77"),this.getState().wl_new_list_input_disabled&&d(e.currentTarget).next().find("input").trigger("focus"),_r_()},reset:function(e,t){_i_("269:eecb98fa"),T.customGoal("receiveResError"),t=d.extend(t,{wl_loading_list:!1,wl_entrypoint_loading:!1}),this.setState(t),_r_()},handleNameUpdate:function(e){_i_("269:90e55509");var t=d(e.target).val(),i=this.getState().wl_new_list_name;if(13===e.which)this.handleSubmit(i.trim());else{var n=this.getInstance();this.setState({wl_new_list_name:t,wl_new_list_input_disabled:!t}),n.update()}_r_()},handleSubmit:function(e){_i_("269:ba1e568a");var r=this;if(!e)return _r_();var t=this.getState(),_=t.hotel_id,o=t.wl_single_selection,i=t.wl_list_loading_status,a=this.getInstance();if(!o&&i.newList)return _r_();return o?this.setState({wl_submitting:!0}):this.updateListLoadingStatus("newList",!0),a.update(),l(s,"createList"),_r_(m(e,_).then(function(e){_i_("269:dc1e028a");var t=e.id,i=e.remaining;r.setState({wl_remaining:i});var n=a.update();i||window.BUI.createInstance("Tooltip",n.querySelector('[data-bui-component="Tooltip"]')).mount();if(B.eventEmitter.trigger("wl:updateLastUsedId",t),!o)return _r_(v(_).then(function(e){_i_("269:b03adc71");var t=e.result,i=t.lists,n=t.remaining;r.setState({wl_remaining:n,wl_lists:i,wl_hotel_saved:!0,wl_new_list_name:"",wl_new_list_input_disabled:!0}),r.updateListLoadingStatus("newList",!1),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(_,{wl_lists:i,wl_hotel_saved:!0})),a.update(),_r_()},function(){_i_("269:d0936117"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),a.update(),_r_()},function(){_i_("269:1d5049a7"),T.customGoal("receiveResError"),_r_()}));return _r_(w(t,_).then(function(e){_i_("269:0279a5cf"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(_,{wl_lists:e})),a.update(),_r_()},function(){_i_("269:025d23f0"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),a.update(),_r_()}))},function(){_i_("269:ebb6b246"),T.customGoal("receiveResError"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1,wl_error_when_creating:!0}),a.update(),_r_()}))},handleFocus:function(){_i_("269:170157bc");var e=this.getInstance();this.setState({wl_error_when_creating:!1}),e.update(),_r_()}});i.exports=S,_r_()}),B.define("component/wishlist/savers",function(e,t,i){_i_("269:a7d5de94");var n=e("component/reactive").extend({template:"wishlist_savers",initialState:{wl_hotel_saved:!0},initialize:function(){_i_("269:0c310e0e"),this.setState({hotel_id:this.getAttr("data-hotel-id"),wl_hotel_saved:this.getAttr("data-wl-hotel-saved"),b_wishlists_hotel_count:this.getAttr("data-hotel-count")}),B.eventEmitter.bind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),_r_()},getAttr:function(e){return _i_("269:7a8bd84a"),_r_(this.$el.attr(e))},toggleHotelSavedStatus:function(e,t){_i_("269:796bf69d");var i=this.getState().hotel_id;for(var n in t)t.hasOwnProperty(n)&&n===i&&this.setState(t[n]);_r_()}});i.exports=n,_r_()}),B.define("wishlists/hotel-page-ga-tracking",function(e,t,i){_i_("269:139f06c8");var n=e("ga-tracker");function r(e,t){_i_("269:b3bbd27f");t=t||"";var i=e.trim()+":"+t.toString();n.trackEvent("wishlist","submit",i),_r_()}i.exports={trackSaveToWishlist:function(e){_i_("269:834494c9"),r("add-to-list",e),_r_()},trackRemoveFromWishlist:function(e){_i_("269:fada10de"),r("remove-from-list",e),_r_()},trackCreateList:function(e){_i_("269:43404069"),r("create-list",e),_r_()},trackGoToWishlist:function(e){_i_("269:3883e521"),r("go-to-list",e),_r_()}},_r_()}),B.when({action:"hotel"}).load({js:"async_lists_js"}).run(function(){}),B.define("hotel/compset",function(e){_i_("269:18e9b567");var t=e("jquery");t(".js-toggle-fp").click(function(){_i_("269:4094f1bc");var e=t(this).parents(".js-hpFpItem");t(e).toggleClass("hpFpItem"),t(".hpFpShowmore",e).remove(),_r_()}),_r_()}),B.define("hotel/bb",function(e){_i_("269:c24352a4");var t=e("jquery"),i=e("et");B.env.hotelAction.has_business_reviews&&(t(".js-big_review_score_detailed").bind("click",function(){_i_("269:72b192f5"),"total"!==t("#reviewer_type_filter option:selected").data("customer-type")&&t('#reviewer_type_filter option[data-customer-type="total"]').prop("selected",!0).trigger("change"),i.customGoal("OOFHFfZHRNbaPWTcVAfSWe",1),i.customGoal("OOFHFfZHRNbaPWTcVAfSZXCePeCHC",1),_r_()}),t(".js-score_from_business_travellers").bind("click",function(){_i_("269:a9056b98"),"business_traveller"!==t("#reviewer_type_filter option:selected").data("customer-type")&&t('#reviewer_type_filter option[data-customer-type="business_traveller"]').prop("selected",!0).trigger("change"),i.customGoal("OOFHFfZHRNbaPWTcVAfSWe",2),i.customGoal("OOFHFfZHRNbaPWTcVAfSZXCePeCHC",2),_r_()}),_i_("269:28375fad"),-1<window.location.hash.indexOf("tab-reviews-business_traveller")&&t(".js-score_from_business_travellers").trigger("click"),_r_()),_r_()}),B.define("hotel/genius/ge_recommended_blocks",function(e){_i_("269:b0e73b5a");var i=e("jquery");i(".genius-recommended-rooms .gr-room-link").click(function(e){_i_("269:c9e76090"),e.preventDefault();var t=i(this).data("id");B.hotel.rtLightbox.show.call(i("#"+t).parent().find(".togglelink")),_r_()}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius}).run(function(e){_i_("269:857e33fb");var a=e("jquery")(".book-now-genius-first-booking-block");if(!a.length)return _r_();var s=null;s=a[0].hasAttribute("data-ge-everyone")?a[0].getAttribute("data-ge-everyone"):2;var l=a.find("p"),c=a.data("username"),d={};B.events.on(B.hotel.Events.RT.ROOM_SELECTED,function(e){_i_("269:e9800983");var t=e.$el.find(":selected"),i=function(e){if(_i_("269:d7568e8a"),e.has_genius_rate)if(0<e.no_rooms&&e.genius_discount){var t=0;t=e.rackrate_shown&&e.rackrate_discount?e.rackrate_discount:e.genius_discount,d[e.block_id]={no_rooms:e.no_rooms,calculated_discount:t}}else d[e.block_id]&&delete d[e.block_id];return _r_(Object.keys(d).length)}({block_id:e.block_id,no_rooms:+e.no_rooms,rackrate_shown:!!e.$el.parents("tr").find(".toggle_price_per_night_or_stay:not(.deal-public-price-rackrate)").length,has_genius_rate:e.has_genius_rate,genius_discount:+t.data("genius-discount"),rackrate_discount:+t.data("rackrate-discount")}),n=0;for(var r in d){var _=d[r];n+=_.no_rooms*_.calculated_discount}if(0<i&&0<n){if(2==s){var o=B.jstmpl.translations(c?"ge_deepen_hp_first_genius_message_known":"ge_deepen_hp_first_genius_message_unknown",null,{amount_with_currency:B.utils.accounting.formatMoney(n),user_name:c});l.html(o),a.show()}}else a.hide();_r_()},this),_r_()}),B.when({action:"hotel",condition:function(e){return _i_("269:5c9d2fd5"),_r_(e.b_hotel_has_genius_free_room_upgrade)}}).run(function(e){_i_("269:e1fc5fd7");var n=e("jstmpl"),r=e("genius/free-room-upgrade-service"),t=e("hotel/store"),_=e("genius/room-upgrade/hotel/dom-elements"),o=e("window-scroller"),a=300,s="786px",l=e("et");function c(e,t){_i_("269:e7f42dd6");var i=_.selectDropdown(e),n=new Event("change");i.selectedIndex=t,i.dispatchEvent(n),_r_()}function i(e){_i_("269:3c97c06a"),e.preventDefault(),function(e){var t;_i_("269:c9ce2eb7");var i=r.getRoomUpgradeModalData(e);(t=window.BUI.createInstance("Modal",null,{onAfterOpen:function(){_i_("269:0ab8e36f"),l.stage("cQZJALOdeEEBFfZLMYWbMRAOAcEUFRURURHe",1);var e=_.dontUpgradeButton();t.modalEl.style.width=s,_.elementsHavingReadMore(t.modalEl).loadComponents(),_.elementsWhoseHeightsShouldMatch(t.modalEl).loadComponents(),_.selectUpgradeButton().addEventListener("click",function(){_i_("269:b3a102f0"),e?(c(i.base_room.block_id,0),c(i.upgraded_room.block_id,i.selectedNrStays),o.scrollToBlock(_.getDropdownSelector(i.upgraded_room.block_id),!0,a,_.roomsTableHeader().height()),l.customGoal("cQZJALOdeEEBFfZLMYWbMRAOAcEUFRURURHe",2)):l.customGoal("cQZJALOdeEEBFfZLMYWbMRAOAcEUFRURURHe",1),d(),_r_()}),e&&e.addEventListener("click",function(){_i_("269:b284d9a1"),l.customGoal("cQZJALOdeEEBFfZLMYWbMRAOAcEUFRURURHe",3),d(),_r_()}),_r_()},template:n("room_comparision_modal").render(i)})).mount(),t.open(),_r_()}(),_r_()}function d(){_i_("269:0b2bb1c9"),jQuery(_.roomsTableForm()).submit(),_r_()}booking.jstmpl("room_comparision_modal",function(){_i_("269:04c4d874");var c,d=["\n        ","\n    ","\n","\n\n",'\n\n<article class="genius-fru-comparision-modal">\n    <header class="genius-fru-comparision-modal__header genius-fru-comparision-modal__header--no-border genius-fru-comparision-modal__header--no-bottom-padding">\n        <h1 class="genius-fru-comparision-modal__heading">\n            ',"\n                ","/private/ge_fru_comp_table_header_not_upgraded/name","\n            ","/private/ge_fru_comp_table_header_upgraded/name",'\n        </h1>\n        <h2 class="genius-fru-comparision-modal__sub-heading">\n            <span>\n                ',"\n                    ","/private/desktop_ge_fru_disclaimer_post_booking/name","/private/ge_fru_comp_table_subheader_all/name",'\n            </span>\n        </h2>\n    </header>\n    <section class="genius-fru-comparision-modal__body--vertical genius-fru-comparision-modal__body--no-border">\n\n        ',"\n\n        ",'\n    <section class="genius-fru-comparision-modal__room">\n        <div class="\n            genius-fru-comparision-modal__room-details\n            ',"\n                genius-fru-comparision-modal__room-details--less-min-height\n            ",'\n        ">\n            <header>\n                <h3 class="genius-fru-room-info__room-type">\n                    ',"\n                        ","/private/desktop_ge_fru_hp_to/name","/private/desktop_ge_fru_hp_from/name",'\n                </h3>\n                <h4 class="genius-fru-room-info__room-name">\n                    ',"\n                </h4>\n            </header>\n\n            ",'\n                <div class="genius-fru-upgrade-indicator-icon">\n                    ',"streamline/arrow_down","medium","\n                </div>\n            ","\n\n            ",'\n                <div class="genius-fru-room__image-container\n                    ',"\n                        genius-fru-room__image-container--less-top\n                    ",'\n                ">\n                    <img\n                        class="genius-fru-room__image"\n                        alt="','"\n                        src="','"\n                    >\n                </div>\n            ','\n                <ul class="genius-fru-facilities">\n                    ','<li class="',"genius-fru-facility genius-fru-facility--inline-list ","genius-fru-facility--better",'">',",&nbsp;","</li>","\n                </ul>\n            ",'\n                <section class="genius-fru-room-description"\n                    data-component="core/read-more"\n                    ','\n                        data-char-limit="120"\n                    ','\n                        data-char-limit="60"\n                    ','\n                    data-read-more-copy="',"/private/desktop_ge_fru_hp_read_more/name",'"\n                >\n                    ',"","\n                </section>\n            ","\n\n        </div>\n\n        ",'\n            <section\n                class="genius-fru-price--highlighted"\n            >\n                <p class="genius-fru-price__pay-only">',"/private/ge_fru_comp_table_pay_only/name",'</p>\n                <p class="genius-fru-price__before-upgrade">',"/private/ge_fru_comp_table_price_before_upgrade/name","</p>\n            </section>\n        ","\n\n    </section>\n","1",'\n        <div class="genius-fru-comparision-modal__reaffirmation">\n            ',"streamline/checkmark_fill","large","bold","\n            <span>\n                ","/private/desktop_ge_fru_hp_disclaimer/name",'\n            </span>\n        </div>\n    </section>\n    <footer class="genius-fru-comparision-modal__footer genius-fru-comparision-modal__footer--with-cta">\n        ','\n            <div class="bui-button-group bui-group bui-group--inline">\n                <div class="bui-button-group__item genius-fru-comparision-modal__cta-container">\n                    <button class="\n                            bui-button\n                            bui-button--primary\n                            genius-fru-comparision-modal__cta\n                            js-select-upgrade\n                        "\n                        type="button"\n                        data-bui-ref="modal-close"\n                    >\n                        <span class="bui-button__text">\n                            ',"\n                                ","\n                                    ","/private/ge_fru_comp_table_desktop_cta/name","/private/ge_fru_comp_table_continue_cta/name","\n                            ","/private/ge_fru_comp_table_upgrade_yes_cta/name","\n                        </span>\n                    </button>\n                </div>\n                ",'\n                    <div class="bui-button-group__item genius-fru-comparision-modal__cta-container">\n                        <button\n                            class="\n                                bui-button\n                                bui-button--secondary\n                                genius-fru-comparision-modal__cta\n                                js-dont-select-upgrade\n                            "\n                            data-bui-ref="modal-close"\n                            type="button"\n                        >\n                            <span class="bui-button__text">',"/private/ge_fru_comp_table_upgrade_no_cta/name","</span>\n                        </button>\n                    </div>\n                ","\n            </div>\n        ","\n    </footer>\n</article>\n\n",'<article class="genius-fru-comparision-modal">\n    <header class="genius-fru-comparision-modal__header">\n        <h1 class="genius-fru-comparision-modal__heading">\n            ',"/private/desktop_ge_fru_hp_do_you_want_upgrade/name","/private/desktop_ge_fru_hp_what_you_get_header/name",'\n        </h1>\n        <h2 class="genius-fru-comparision-modal__sub-heading">\n            ','\n            </span>\n        </h2>\n    </header>\n    <section class="genius-fru-comparision-modal__body">\n        ','\n    <section class="genius-fru-room-info\n        ',"\n            genius-fru-room-info--upgraded-room\n        ",'\n    ">\n        ','\n            <div class="genius-fru-room-info__gift-icon">\n                ',"streamline/gift","larger",'\n        <header class="genius-fru-room-info__heading\n            ',"\n                genius-fru-room-info__heading--with-icon\n            ",'"\n            data-component="core/match-height"\n            data-match-height-element="genius-fru-room-info-heading"\n        >\n            <h3 class="genius-fru-room-info__room-type">\n                ','\n            </h3>\n            <h4 class="genius-fru-room-info__room-name">\n                ','\n            </h4>\n        </header>\n\n        <section class="genius-fru-room-info__facilities"\n            data-component="core/match-height"\n            data-match-height-element="genius-fru-room-facilities"\n        >\n            <h3 class="genius-fru-room-info__facilities-heading">\n                ',"/private/desktop_ge_fru_hp_what_you_get/name","/private/desktop_ge_fru_hp_what_you_pay_for/name",'\n            </h3>\n            <ul class="genius-fru-facilities-list">\n                ','\n                    <li class="genius-fru-facility\n                        ',"\n                            genius-fru-facility--better\n                        ",'\n                    ">\n                        <div class="genius-fru-facility__icon" role="presentation">\n                            ','\n                        </div>\n                        <span class="genius-fru-facility__name">\n                            ',"\n                        </span>\n                    </li>\n                ",'\n            </ul>\n        </section>\n\n        <section class="genius-fru-room-description"\n            data-component="core/read-more"\n            data-char-limit="100"\n            data-read-more-copy="','"\n        >\n            ','\n        </section>\n\n        <section class="genius-fru-price"\n            data-component="core/match-height"\n            data-match-height-element="genius-fru-room-price"\n        >\n            <div class="genius-fru-price__title">\n                <h3 class="genius-fru-price__heading">',"/private/desktop_ge_fru_hp_price/name",'</h3>\n                <div class="genius-fru-price__max-occupancy">',"/private/desktop_ge_fru_hp_max_occ/name",'</div>\n            </div>\n            <div class="genius-fru-price__amount-container">\n                ','\n                    <span class="genius-fru-price__amount--crossed">\n                        ',"\n                    </span>\n                ",'\n                    <span class="genius-fru-price__amount\n                        ',"\n                            genius-fru-price__amount--upgraded\n                        ",'"\n                    >\n                        ',"\n            </div>\n        </section>\n\n        ",'\n            <footer class="genius-fru-CTAs">\n                <div class="bui-button-group bui-group bui-group--inline">\n                    <div class="bui-button-group__item">\n                        <button class="bui-button bui-button--primary js-select-upgrade"\n                            type="button"\n                            data-bui-ref="modal-close"\n                        >\n                            <span class="bui-button__text">\n                                ',"/private/desktop_ge_fru_hp_cta_yes/name","/private/desktop_ge_fru_hp_continue/name","\n                            </span>\n                        </button>\n                    </div>\n                    ",'\n                        <div class="bui-button-group__item">\n                            <button\n                                class="bui-button bui-button--secondary js-dont-select-upgrade"\n                                data-bui-ref="modal-close"\n                                type="button"\n                            >\n                                <span class="bui-button__text">',"/private/desktop_ge_fru_hp_cta_no/name","</span>\n                            </button>\n                        </div>\n                    ","\n                </div>\n            </footer>\n        ",'\n    </section>\n    <footer class="genius-fru-comparision-modal__footer">\n        <aside>\n            ',"\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n\n\n\n\n","\n    \n    \n    \n    \n    \n    \n    \n    \n    ",'\n\n    <div class="genius-footer-signature '," ","genius-footer-signature--inverted",'">\n        <span class="genius-footer-signature__copy">\n            \n            \n\n            ','\n                    <a\n                        class="bui-link bui-link--primary genius-footer-signature__learn"\n                        href="','"\n                        ','\n                            target="_blank"\n                        ','\n                            data-ga-track="',"\n                    >\n                ","\n                    </a>\n                ","\n\n                ","/private/web_ge_generic_signature_with_link/name","/private/web_ge_generic_signature_without_link/name","\n        </span>\n\n        ","\n    \n    \n    \n    \n\n    ","\n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    ","\n\n    ","/private/{copy}/name","genius-footer-signature__logo","\n    </div>\n","\n        </aside>\n    </footer>\n</article>\n\n"],h=["b_site_type","is_upgraded_block","is_post_booking","base_room","upgraded_room","ge_fru_comparison_tool_hide_facilities_mdot","ge_fru_comparison_tool_hide_facilities_www","is_upgraded_room","room","should_show_room_image","selected_room_is_base_room","show_cta","class","inverted","start_link","cta_url","cta_opens_new_page","cta_ga_tracker","end_link","variant","copy","tooltip","size","height","title","reset_css","white_dot","image_height","fe_genius_lp_url"];return _r_(function(a){_i_("269:c5774583");var e,t="",s=this.fn;function n(e){if(_i_("269:8b67d0a8"),e+=d[15],(s.MJ(2==s.MB(h[5]))||s.MJ(2==s.MB(h[6])))&&(e+=d[16]),e+=d[17],s.MD(h[7])?e+=[d[18],s.ME(d[19],s.MB,s.MN,null),d[10]].join(""):e+=[d[18],s.ME(d[20],s.MB,s.MN,null),d[10]].join(""),e+=[d[21],s.F.entities((s.MC(h[8])||{}).name),d[22]].join(""),s.MK(s.MB(h[7]))&&(e+=[d[23],(a.unshift({color:"#008009",name:d[24],size:d[25]}),c=s.HELPER("icon",a[0]),a.shift(),c),d[26]].join("")),e+=d[27],s.MD(h[9])&&(e+=d[28],(s.MJ(2==s.MB(h[5]))||s.MJ(2==s.MB(h[6])))&&(e+=d[29]),e+=[d[30],s.F.entities((s.MC(h[8])||{}).name),d[31],s.STATIC_HOSTNAME(s.MC(h[8]).image_url,0,0,0,0),d[32]].join("")),e+=d[27],s.MK(s.MB(h[5])||s.MB(h[6]))){e+=d[33];var t=(s.MC(h[8])||{}).facilities||[];a.unshift({facility:null});for(var i,n=1,r=t.length;n<=r;n++)a[0].facility=i=t[n-1],e+=d[34],e+=d[35],s.MJ(s.MG((i||{}).is_better))&&(e+=d[36]),e+=d[37],s.MJ(s.MG((i||{}).name))&&(s.MJ(1==n)||(e+=d[38]),e+=s.F.entities((i||{}).name)),e+=d[39];a.shift(),e+=d[40]}return e+=d[27],(s.MJ(1==s.MB(h[5]))||s.MJ(s.MC(h[0])+""=="www")&&s.MJ(2!=s.MB(h[6])))&&(e+=d[41],s.MJ(s.MC(h[0])+""=="www")?e+=d[42]:e+=d[43],e+=[d[44],s.ME(d[45],s.MB,s.MN,null),d[46]].join(""),e+=[s.F.entities((s.MC(h[8])||{}).description),d[47]].join(""),e+=d[48]),e+=d[49],s.MD(h[7])&&(e+=[d[50],(a.unshift({price_with_upgrade:s.MG((s.MC(h[8])||{}).price)}),c=s.ME(d[51],s.MB,s.MN,null),a.shift(),c),d[52],(a.unshift({price_before_upgrade:s.MG((s.MC(h[8])||{}).price_before_fru_user_currency)}),c=s.ME(d[53],s.MB,s.MN,null),a.shift(),c),d[54]].join("")),e+=d[55],_r_(e)}function l(e){_i_("269:b32ae7a2"),e+=d[82],s.MD(h[7])&&(e+=d[83]),e+=d[84],s.MD(h[7])&&(e+=[d[85],(a.unshift({color:"#FFFFFF",name:d[86],size:d[87]}),c=s.HELPER("icon",a[0]),a.shift(),c),d[75]].join("")),e+=d[88],s.MD(h[7])&&(e+=d[89]),e+=d[90],s.MD(h[7])?e+=[d[10],s.ME(d[19],s.MB,s.MN,null),d[5]].join(""):e+=[d[10],s.ME(d[20],s.MB,s.MN,null),d[5]].join(""),e+=[d[91],s.F.entities((s.MC(h[8])||{}).name),d[92]].join(""),s.MD(h[7])?e+=[d[10],s.ME(d[93],s.MB,s.MN,null),d[5]].join(""):e+=[d[10],s.ME(d[94],s.MB,s.MN,null),d[5]].join(""),e+=d[95];var t=(s.MC(h[8])||{}).facilities||[];a.unshift({facility:null});for(var i,n=1,r=t.length;n<=r;n++)a[0].facility=i=t[n-1],e+=d[96],s.MJ(s.MG((i||{}).is_better))&&(e+=d[97]),e+=d[98],s.MJ(s.MG((i||{}).icon))&&(e+=[d[65],(a.unshift({name:s.MG((i||{}).icon),size:d[25]}),c=s.HELPER("icon",a[0]),a.shift(),c),d[69]].join("")),e+=d[99],s.MJ(s.MG((i||{}).name))&&(e+=[d[65],s.F.entities((i||{}).name),d[69]].join("")),e+=d[100];return a.shift(),e+=[d[101],s.ME(d[45],s.MB,s.MN,null),d[102],s.F.entities((s.MC(h[8])||{}).description),d[103],s.ME(d[104],s.MB,s.MN,null),d[105],(a.unshift({num:s.MG((s.MC(h[8])||{}).occupancy)}),c=s.ME(d[106],s.MB,s.MN,null),a.shift(),c),d[107]].join(""),s.MJ(s.MG((s.MC(h[8])||{}).public_price))&&(e+=[d[108],s.F.entities((s.MC(h[8])||{}).public_price),d[109]].join("")),e+=d[5],s.MJ(s.MG((s.MC(h[8])||{}).price))&&(e+=d[110],s.MD(h[7])&&(e+=d[111]),e+=[d[112],s.F.entities((s.MC(h[8])||{}).price),d[109]].join("")),e+=d[113],s.MD(h[11])&&(e+=d[114],s.MD(h[10])?e+=[d[66],s.ME(d[115],s.MB,s.MN,null),d[65]].join(""):e+=[d[66],s.ME(d[116],s.MB,s.MN,null),d[65]].join(""),e+=d[117],s.MD(h[10])&&(e+=[d[118],s.ME(d[119],s.MB,s.MN,null),d[120]].join("")),e+=d[121]),e+=d[55],_r_(e)}return t+=d[0],e=t,_i_("269:81678b52"),e=s.MJ(s.track_experiment("cQZJALOdeEEBFfZLMBUXCEFRURURHe"))?function(e){_i_("269:2710389b"),s.MJ(s.MC(h[0])+""=="mdot")?(e+=d[1],s.MN("ge_fru_comparison_tool_hide_facilities_mdot",s.track_experiment("cQZJALOdeEEBFfZLMYWbMRAOAcEUWPHDDWe"))):(e+=d[1],s.MN("ge_fru_comparison_tool_hide_facilities_mdot",0)),e+=d[2],e+=d[3],s.MJ(s.MC(h[0])+""=="www")?(e+=d[1],s.MN("ge_fru_comparison_tool_hide_facilities_www",s.track_experiment("cQZJALOdeEEBFfZLMYWbMRAOAcEUFRURURHe"))):(e+=d[1],s.MN("ge_fru_comparison_tool_hide_facilities_www",0)),e+=d[2],e+=d[4],s.MK(s.MB(h[1]))?e+=[d[5],s.ME(d[6],s.MB,s.MN,null),d[7]].join(""):e+=[d[5],s.ME(d[8],s.MB,s.MN,null),d[7]].join(""),e+=d[9],s.MD(h[2])?e+=[d[10],s.ME(d[11],s.MB,s.MN,null),d[5]].join(""):e+=[d[10],s.ME(d[12],s.MB,s.MN,null),d[5]].join(""),e+=d[13],s.MN("should_show_room_image",s.MC(h[3]).image_url&&s.MC(h[4]).image_url&&s.MJ(s.MC(h[3]).image_url+""!=""+s.MC(h[4]).image_url)),e+=d[14];var t={b_site_type:s.MC(h[0]),ge_fru_comparison_tool_hide_facilities_mdot:s.MB(h[5]),ge_fru_comparison_tool_hide_facilities_www:s.MB(h[6]),room:s.MB(h[3]),should_show_room_image:s.MB(h[9])},i=a;return(a=s.SV([{},{}])).unshift(t),e=n(e),a=s.SV(i),e+=d[0],t={b_site_type:s.MC(h[0]),ge_fru_comparison_tool_hide_facilities_mdot:s.MB(h[5]),ge_fru_comparison_tool_hide_facilities_www:s.MB(h[6]),is_upgraded_room:d[56],room:s.MB(h[4]),selected_room_is_base_room:s.MK(s.MB(h[1])),should_show_room_image:s.MB(h[9]),show_cta:s.MK(s.MB(h[2]))},i=a,(a=s.SV([{},{}])).unshift(t),e=n(e),a=s.SV(i),e+=[d[57],(a.unshift({color:"#006607",name:d[58],size:d[59],weight:d[60]}),c=s.HELPER("icon",a[0]),a.shift(),c),d[61]].join(""),s.MD(h[2])?e+=[d[10],s.ME(d[11],s.MB,s.MN,null),d[5]].join(""):e+=[d[10],s.ME(d[62],s.MB,s.MN,null),d[5]].join(""),e+=d[63],s.MK(s.MB(h[2]))&&(e+=d[64],s.MJ(s.MB(h[1]))?(e+=d[65],s.MJ(s.MC(h[0])+""=="www")?e+=[d[66],s.ME(d[67],s.MB,s.MN,null),d[65]].join(""):e+=[d[66],s.ME(d[68],s.MB,s.MN,null),d[65]].join(""),e+=d[69]):e+=[d[65],s.ME(d[70],s.MB,s.MN,null),d[69]].join(""),e+=d[71],s.MK(s.MB(h[1]))&&(e+=[d[72],s.ME(d[73],s.MB,s.MN,null),d[74]].join("")),e+=d[75]),e+=d[76],e+=d[3],_r_(e)}(e+=d[1]):function(e){_i_("269:4d09fee9"),e+=d[77],s.MK(s.MB(h[1]))?e+=[d[5],s.ME(d[78],s.MB,s.MN,null),d[7]].join(""):e+=[d[5],s.ME(d[79],s.MB,s.MN,null),d[7]].join(""),e+=[d[80],(a.unshift({color:"#006607",name:d[58],size:d[59]}),c=s.HELPER("icon",a[0]),a.shift(),c),d[61]].join(""),s.MD(h[2])?e+=[d[10],s.ME(d[11],s.MB,s.MN,null),d[5]].join(""):e+=[d[10],s.ME(d[62],s.MB,s.MN,null),d[5]].join(""),e+=d[81];var t={room:s.MB(h[3])},i=a;(a=s.SV([{},{}])).unshift(t),e=l(e),a=s.SV(i),e+=d[0];var n,r,_,o,t={is_upgraded_room:d[56],room:s.MB(h[4]),selected_room_is_base_room:s.MK(s.MB(h[1])),show_cta:s.MK(s.MB(h[2]))},i=a;(a=s.SV([{},{}])).unshift(t),e=l(e),a=s.SV(i),e+=d[122],a.unshift({jstmpl:d[56]}),n=e,_i_("269:8726138e"),o=n,_i_("269:e2721340"),o+=d[123],o+=d[3],o+=d[3],o+=d[3],o+=d[2],n=_r_(o),_=n+=d[2],_i_("269:903d1ba8"),_+=d[124],_+=d[2],n=_r_(_),r=n+=d[2],_i_("269:90cdcb82"),r+=d[3],r+=d[2],n=_r_(r),n+=d[2],e=_r_(n),a.shift(),e+=d[7];var t={cta_url:s.MB(h[28])},i=a;return(a=s.SV([{},{}])).unshift(t),e=function(e){if(_i_("269:d1cfe296"),e+=d[125],s.MN("b_companyname","Booking.com"),e+=[d[126],s.F.entities(s.MC(h[12])),d[127]].join(""),s.MD(h[13])&&(e+=d[128]),e+=d[129],s.MD(h[15])){e+=d[5];var t="";t+=[d[130],s.MC(h[15]),d[131]].join(""),s.MD(h[16])&&(t+=d[132]),t+=d[18],s.MD(h[17])&&(t+=[d[133],s.MC(h[17]),d[131]].join("")),t+=d[134],s.MN(h[14],t),e+=d[5],s.MN(h[18],d[135]),e+=[d[136],s.ME(d[137],s.MB,s.MN,null),d[7]].join("")}else e+=[d[5],s.ME(d[138],s.MB,s.MN,null),d[7]].join("");e+=d[139];var i={class:d[144],inverted:s.MB(h[13]),size:d[25]},n=a;return(a=s.SV([{},{}])).unshift(i),e=function(e){_i_("269:b6efbcfd"),e+=d[140];var t,i={class:d[144]||"",copy:s.MB(h[20]),height:s.MB(h[23]),reset_css:s.MB(h[25]),size:d[25],variant:s.MB(h[13])?"logo_inverted":"logo",white_dot:s.MB(h[26])},n=a;return(a=s.SV([{},{}])).unshift(i),t=e,_i_("269:6df92fe4"),t+=d[141],s.MN("variant",s.MB(h[19])||"logo"),t+=d[1],s.MN("copy",s.MB(h[20])||"www_ge_screenreader_generic_logo"),t+=d[1],s.MN("tooltip",s.MB(h[21])||""),t+=d[1],s.MN("class",s.MB(h[12])||""),t+=d[1],s.MN("size",s.MB(h[22])||"large"),t+=d[142],s.MN("b_companyname","Booking.com"),t+=d[142],s.MN("image_height",s.MJ(/^\d+$/.test(s.MB(h[23])))?s.MB(h[23]):s.MJ(s.MB(h[22])+""=="smaller")?12:s.MJ(s.MB(h[22])+""=="small")?14:s.MJ(s.MB(h[22])+""=="medium")?16:s.MJ(s.MB(h[22])+""=="large")?20:s.MJ(s.MB(h[22])+""=="larger")?24:s.MJ(s.MB(h[22])+""=="largest")?32:""),t+=d[142],s.MN(h[24],s.ME(d[143],s.MB,s.MN,null)),t+=[d[1],(a.unshift({class:(s.MB(h[25])?"":"genius-"+s.MB(h[19]))+(s.MB(h[26])?" genius-logo_inverted--white-dot":"")+" "+s.MB(h[12]),height:s.MB(h[27]),name:"genius/new_identity/genius_"+s.MB(h[19]),title:s.MB(h[24])}),c=s.HELPER("icon",a[0]),a.shift(),c),d[2]].join(""),e=_r_(t),a=s.SV(n),e+=d[2],_r_(e)}(e),a=s.SV(n),e+=d[145],_r_(e)}(e),a=s.SV(i),e+=d[146],e+=d[2],_r_(e)}(e+=d[1]),e+=d[2],e+=d[3],t=_r_(e),t+=d[1],_r_(t)})}()),t.subscribe(function(){_i_("269:64f170c9"),r.isSelectionEligibleForPromotion()?(_i_("269:f213bfda"),_.reserveCTA.addEventListener("click",i)):(_i_("269:a91cf47e"),_.reserveCTA.removeEventListener("click",i)),_r_(),_r_()}),_r_()}),B.define("genius/free-room-upgrade-service",function(e){_i_("269:ab7db940");var l=e("server-data"),s=e("hotel/store"),c=function(){_i_("269:91b5f09e");var t={};return s.getState().roomsTable.rooms.forEach(function(e){_i_("269:a93e0971"),e.b_blocks&&e.b_blocks.forEach(function(e){_i_("269:3690b8d1"),t[e.b_block_id]=e,_r_()}),_r_()}),_r_(t)}();return _r_({isSelectionEligibleForPromotion:function(){if(_i_("269:f7c1c1cd"),!function(){_i_("269:cc058c70");var e=s.getState().roomsTable.js_selection;return _r_(1===e.blockIDs.length)}())return _r_();var e=d();return _r_(t({id:e.b_block_id,nrStays:e.js_nr_selected}))},isBlockEligibleForPromotion:t,getRoomUpgradeModalData:function(e){var t,i,n,r,_,o;_i_("269:d1134ec4"),e?(t=e.id,i=e.nrStays):(e=d(),t=e.b_block_id,i=e.js_nr_selected);var a=h(t),s=B.tools.object.clone(a);a.is_upgraded_block?(n=a.upgrade_from_block_id,r=t):(n=t,r=a.upgrade_to_block_id);return _=c[r],s.fe_genius_lp_url=l.fe_genius_lp_url,s.base_room.block_id=n,s.upgraded_room.block_id=r,s.selectedNrStays=i,o=_.b_stay_prices[i].b_price,s.base_room.price=o,s.upgraded_room.price=o,s.b_site_type=l.b_site_type,_r_(s)}});function t(e){_i_("269:49f7c2c8");var t=h(e.id);if(!t)return _r_();if(!t.is_upgraded_block){var i=t.upgrade_to_block_id;return _r_(function(e){_i_("269:098c4033");var t=s.getState().roomsTable.js_selection,i=t&&t.blocks&&t.blocks[e]&&t.blocks[e].js_nr_selected||0,n=c[e]&&c[e].b_nr_stays,r=(o=e,_i_("269:f1f80e62"),s.getState().roomsTable.rooms.forEach(function(t){_i_("269:a2e8c5e5"),t.b_blocks&&t.b_blocks.forEach(function(e){_i_("269:075487c6"),e.b_block_id===o&&(a=t.b_id),_r_()}),_r_()}),_r_(a)),_=t.roomCountPerRoomID&&t.roomCountPerRoomID[r]||0;var o,a;return _r_(n+i-_)}(i)>=e.nrStays)}return _r_(!0)}function d(){_i_("269:166d4ce6");var e=s.getState().roomsTable.js_selection;return _r_(e.blocks[e.blockIDs[0]])}function h(e){_i_("269:e2fc369a");var t=l.b_genius_free_room_upgrade_benefits;return _r_(t&&t.b_blocks&&t.b_blocks[e])}}),B.define("genius/room-upgrade/comparison-table/dom-elements",function(e){_i_("269:e70f293e");var t=e("jquery");return _r_({elementsHavingReadMore:function(e){return _i_("269:7b551f0a"),_r_(t(e).find('[data-component="core/read-more"]'))},elementsWhoseHeightsShouldMatch:function(e){return _i_("269:d2697a6f"),_r_(t(e).find('[data-component="core/match-height"]'))},getModalContent:function(e){return _i_("269:4b68d88c"),_r_(e&&e.querySelector(".bui-modal__content"))}})}),B.define("genius/room-upgrade/hotel/dom-elements",function(e){_i_("269:f3e3e17f");var t=e("jquery"),i=document.querySelector(".js-reservation-button"),n=e("genius/room-upgrade/comparison-table/dom-elements"),r={dontUpgradeButton:function(){return _i_("269:557e405f"),_r_(document.querySelector(".js-dont-select-upgrade"))},selectUpgradeButton:function(){return _i_("269:ec3d0fdf"),_r_(document.querySelector(".js-select-upgrade"))},selectDropdown:function(e){return _i_("269:6ed86564"),_r_(document.querySelector(_(e)))},reserveCTA:i,getDropdownSelector:_,roomsTableHeader:function(){return _i_("269:db5f320e"),_r_(t(".hprt-table-header"))},roomsTableForm:function(){return _i_("269:e6ca11f2"),_r_(document.querySelector("#hprt-form"))}};return _r_(t.extend({},n,r));function _(e){return _i_("269:2c879784"),_r_(".hprt-nos-select[data-block-id='"+e+"']")}}),B.define("component/core/read-more",function(e,t,i){_i_("269:6697f390");var n=e("component");i.exports=n.extend({init:function(){if(_i_("269:77f20269"),this.setOptions(),this.setText(),this.text.short.length===this.text.full.length)return _r_();this.createButtons(),this.truncateText(),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("269:9b8baa4a");var t=this;this.el.addEventListener("click",function(e){_i_("269:db9bea0d"),e.target===t.buttons.readMore?t.expandText():e.target===t.buttons.readLess&&t.truncateText(),_r_()}),_r_()},expandText:function(){_i_("269:d3777b45"),this.el.innerHTML="";var e=document.createTextNode(this.text.full);this.el.appendChild(e),this.options.readLessEnabled&&this.el.appendChild(this.buttons.readLess),_r_()},setText:function(){_i_("269:dd6c66f2");var e=this.el.textContent,t=e.substring(0,this.options.charLimit);this.text={full:e,short:t},_r_()},truncateText:function(){_i_("269:26175678"),this.el.innerHTML="";var e=this.text.short;e+="...";var t=document.createTextNode(e);this.el.appendChild(t),this.el.appendChild(this.buttons.readMore),_r_()},createButtons:function(){_i_("269:f80c65c3");var e=document.createElement("button");if(e.innerHTML=this.options.readMoreCopy,e.classList.add("read-more__read-more-button"),e.classList.add(this.options.readMoreClass),this.buttons={readMore:e},!this.options.readLessEnabled)return _r_();var t=document.createElement("button");t.classList.add("read-more__read-less-button"),t.classList.add(this.options.readLessClass),t.innerHTML=this.options.readLessCopy,this.buttons.readLess=t,_r_()},setOptions:function(){_i_("269:bb6e18a8");var e=this.el.dataset;this.options={};var t=this.options;t.charLimit=e.charLimit,t.readMoreCopy=e.readMoreCopy,t.readMoreClass=e.readMoreClass,t.readLessEnabled=e.readLessEnabled,t.readLessEnabled&&(t.readLessCopy=e.readLessCopy,t.readLessClass=e.readLessClass),_r_()}}),_r_()}),B.define("component/core/match-height",function(e,t,i){_i_("269:b0c68625");var n=e("component");i.exports=n.extend({init:function(){_i_("269:6f436bf3");var e=this.findLargestHeight();this.el.style.height=e+"px",_r_()},findLargestHeight:function(){_i_("269:56d52b0c");var i=0,e=this.el.dataset.matchHeightElement;return document.querySelectorAll('[data-match-height-element="'+e+'"]').forEach(function(e){_i_("269:1c6c59ab");var t=e.getBoundingClientRect().height;i=i<t?t:i,_r_()}),_r_(i)}}),_r_()}),B.define("component/genius-rooms-table-popover",geniusRoomsTablePopover),B.define("hotel/genius",function(e){_i_("269:c3671b79"),e("hotel/genius/ge_recommended_blocks"),_r_()}),B.define("room_comparison/room-comparison-service",function(e){_i_("269:62071de3");var a=e("server-data"),p=10;return _r_({getRoomComparisonModalResult:function(e){_i_("269:724e13af");var t=a.b_room_comparison_data,i=e.pop(),n=e.pop(),r=t.rooms[i];r.id=i;var _=t.rooms[n];_.id=n;var o={hotelName:a.b_hotel_name,baseRoom:s(_,r),comparedRoom:s(r,_)};return function(e,t,i,n,r){_i_("269:2043a0d9");for(var _=[],o=[],a=i.comparison_room_facilities,s=n.comparison_room_facilities,l=0,c=0,d=0;d<t.length;d++){var h=t[d],u=b(a[h]),f=b(s[h]);if(!u&&!f)continue;void 0!==u&&void 0!==f?(f.id=h,u.id=h,_.push(u),o.push(f),null!=u.level&&null!=f.level&&(f.level>u.level?f.isBetter=!0:u.level>f.level?u.isBetter=!0:c++),c++):null==u?(f.id=h,f.isBetter=!0,o.push(f),_.push({id:-1,name:r[h],empty:!0})):(u.id=h,u.isBetter=!0,_.push(u),o.push({id:-1,name:r[h],empty:!0})),l++}p<l&&(c==l?(_=_.slice(0,p-1),o=o.slice(0,p-1)):(_=_.filter(function(e){return _i_("269:ca68a72d"),_r_(void 0!==e.isBetter||-1==e.id)}),o=o.filter(function(e){return _i_("269:ca68a72d1"),_r_(void 0!==e.isBetter||-1==e.id)}))),e.baseRoom.facilities=_,e.comparedRoom.facilities=o,_r_()}(o,t.facility_order,_,r,t.missing_facility_translations),_r_(o)},getBaseRoomId:function(){_i_("269:2cf0a538");var e=a.b_room_comparison_data;return _r_(e.first_room_id)}});function s(e,t){_i_("269:5ecf1354");var i=t.size,n=t.b_max_persons,r=e.size;r||(r={b_surface_loc_value:0,b_surface_loc_unit:"square meters"}),i||(i={b_surface_loc_value:0,b_surface_loc_unit:"square meters"});var _,o,a,s,l={id:e.id,name:e.name,price:{from:e.price_info.min_price_user_currency,to:e.price_info.max_price_user_currency,taxesIncluded:1===e.price_info.all_taxes_and_charges_included,isSinglePrice:e.price_info.isSinglePrice},size:(a=r,s=i,_i_("269:1ed41490"),_r_({value:a.b_surface_loc_value,units:a.b_surface_loc_unit,isBetter:a.b_surface_loc_value>s.b_surface_loc_value})),description:e.b_description,facilities:[],occupancy:(_=e.b_max_persons,o=n,_i_("269:889593ee"),_r_({value:_,isBetter:o<_}))};return _r_(l)}function b(e){if(_i_("269:32a12d6b"),e)return _r_(Object.assign({},e));return _r_(e)}}),B.when({action:"hotel",condition:Boolean(B.env.fe_is_room_comparison_on)}).run(function(e){_i_("269:02a84848");var o=e("jquery"),t=localStorage.getItem("rt_comparison_tooltip_shown"),i=o(window);if(!t){var n=o(".rt-comparisob-first-section"),r=o(".js-room-comparison-tooltip"),_=g(function(){_i_("269:c88510cc"),isOnScreen(n[0])&&(r.show(),localStorage.setItem("rt_comparison_tooltip_shown","1"),i.off("scroll",_),setTimeout(function(){_i_("269:28ef509a"),r.fadeOut(800),_r_()},1e4)),_r_()});i.on("scroll",_)}var a=e("jstmpl"),d=e("et"),s=[],l=null,c={},h={},u="820px",f=o(".js-room-comparison-button"),p=o(".js-room-comparison-checkbox"),b=o(".js-reservation-button"),m=o(".js-hprt-nos-select"),v=e("room_comparison/room-comparison-service");function g(t,i){var n;return _i_("269:d70dd31f"),i||(i=300),_r_(function(){_i_("269:7d48062f");var e=arguments;clearTimeout(n),n=setTimeout(function(){_i_("269:9144f043"),t.apply(this,e),_r_()},i),_r_()})}f.on("click",function(){if(_i_("269:e08bd0e7"),s.length<2)return _r_(!1);o(this).data("room-id");d.customGoal("ZdfbTZCCQJBHVPSDDKe",1),d.goalWithValue("js_rt_comparison_module_opened_total",1);for(var e=0;e<s.length;e++){var t=s[e];c[t]&&(c[t].compared=!0,d.goalWithValue("js_rt_comparison_module_room_index_opened",c[t].index))}(function(){var n;_i_("269:bf578c3c");var e=v.getRoomComparisonModalResult(s.slice());l=v.getBaseRoomId(),(n=window.BUI.createInstance("Modal",null,{onAfterOpen:function(){_i_("269:0fc32cc8"),n.modalEl.style.width=u,_r_()},template:a("room_comparision_module_modal").render(e)})).mount(),n.open();var t=o(".js-rt-comparison-go-to-btn"),i=isOnScreen(t[0]);if(i)d.stage("ZdfbTZCCQJBHVPSDDKe",5);else{var r=o(n.overlayInstance.overlayEl),_=g(function(){_i_("269:9ddbb698"),(i=isOnScreen(t[0]))&&(d.stage("ZdfbTZCCQJBHVPSDDKe",5),r.off("scroll",_)),_r_()});r.on("scroll",_)}t.on("click",function(e){_i_("269:ecdad058"),n.close();var t=o(e.target).data("room-id"),i=o('.hprt-roomtype-link[data-room-id="'+t+'"]');o("html, body").animate({scrollTop:i.offset().top-100},500),t==l?d.goalWithValue("js_rt_comparison_module_first_room_selected_total",1):d.goalWithValue("js_rt_comparison_module_second_plus_room_selected_total",1),d.customGoal("ZdfbTZCCQJBHVPSDDKe",3),d.stage("ZdfbTZCCQJBHVPSDDKe",9),_r_()}),function(e){_i_("269:729eea9d");for(var t=e.baseRoom,i=e.comparedRoom,n=i.occupancy.isBetter||t.occupancy.isBetter,r=i.size.isBetter||t.size.isBetter,_=i.name!==t.name,o=!1,a=0==t.facilities.length&&0==i.facilities.length,s={},l=0;l<t.facilities.length;l++){var c=t.facilities[l];s[c.id]=1}for(var l=0;l<i.facilities.length;l++){var c=t.facilities[l];if(!s[c.id]){o=!0;break}delete s[c.id]}(o=o||0!=Object.keys(s).length)?(d.goalWithValue("js_rt_comparison_module_different_facilities_total",1),d.stage("ZdfbTZCCQJBHVPSDDKe",7)):(d.goalWithValue("js_rt_comparison_module_same_facilities_total",1),d.stage("ZdfbTZCCQJBHVPSDDKe",8));_?d.goalWithValue("js_rt_comparison_module_different_name_total",1):d.goalWithValue("js_rt_comparison_module_same_name_total",1);r?d.goalWithValue("js_rt_comparison_module_different_size_total",1):d.goalWithValue("js_rt_comparison_module_same_size_total",1);n?d.goalWithValue("js_rt_comparison_module_different_occupancy_total",1):d.goalWithValue("js_rt_comparison_module_same_occupancy_total",1);a&&d.goalWithValue("js_rt_comparison_module_missing_facilities_total",1);o||_||r||n||d.goalWithValue("js_rt_comparison_module_same_room_total",1);_r_()}(e),_r_()})(),_r_()}),p.on("click",function(){_i_("269:a9bd2845");var e=o(this),t=e.data("room-id"),i=e.data("room-index");c[t]||(c[t]={index:i,compared:!1});e.is(":checked")?s.length<2&&s.push(t):s.splice(s.indexOf(t),1);if(2===s.length){p.not(":checked").attr("disabled","disabled");var n=f.filter(function(){_i_("269:00cd40bb");var e=o(this).attr("data-room-id");return _r_(-1!==s.indexOf(parseInt(e)))});n.show()}else s.length<2&&(p.removeAttr("disabled"),f.hide());_r_()}),b.on("click",function(){for(var e in _i_("269:01fab61c"),h)c[e]&&c[e].compared&&d.goalWithValue("js_rt_comparison_module_room_index_of_reserved",c[e].index);_r_()}),m.on("change",function(){_i_("269:b5fc6041");var e=o(this),t=e.data("room-id");0==e.val()?delete h[t]:h[t]=1;_r_()}),booking.jstmpl("room_comparision_module_modal",function(){_i_("269:9ea03571");var h,u=["\n        ",'<article class="rt-room-comparision-modal">\n    <div class="bui-modal__body bui-modal__body--primary">\n        <h1 class="rt-room-comparision-modal-title">',"/private/rt_comparison_table_options_header/name",'</h1>\n        \n        <div class="bui-grid">\n            ','\n    <div class="bui-grid__column bui-grid__column-6">\n        <div class="bui-u-full-height">\n             <h2 class="bui-text bui-text--variant-strong_2 rt-room-comparision-modal-room-title">',"</h2>\n        </div>\n    </div>\n","\n            ","\n\n            ","\n                ",'\n    <div class="bui-grid__column bui-grid__column-6 rt-comparison-facility-block">\n        <div class="bui-u-full-height">\n            <header class="rc-item-header">\n                <div class="bui-inline-container bui-inline-container--align bui-inline-container--size-small rc-spacing_16px">\n                    <div class="bui-inline-container__start">\n                        <span class="bui-icon bui-icon--small bui-icon--color-grayscale">\n                            ',"\n                                ","\n                            ","","streamline/room_size","16",'\n                        </span>\n                    </div>\n                    <div class="',"bui-inline-container__main ","genius-fru-facility--better",'">\n                            '," \n                                ","\n","\n\n",'\n    <span class="sr-rt-size">\n        ',"/private/{fe_prefix_with_copy}/name","&nbsp;","/private/sq_metres/name","/private/sq_feet/name","\n    </span>\n","\n                                -\n                            ",'\n                    </div>\n                </div>\n                <hr class="bui-divider" />\n            </header>\n        </div>\n    </div>\n','\n    <div class="bui-grid__column bui-grid__column-6 rt-comparison-facility-block">\n        <div class="bui-u-full-height">\n        <h2 class="bui-text bui-text--variant-strong_2 rt-comparison-facilities-header">',"/private/rt_comparison_table_facilities_options_subheader/name",'</h2>\n        <ul class="bui-list bui-list--divided bui-list--text bui-list--icon rc-list">\n            ','\n                <li class="',"bui-list__item ",'\n                        ">\n                    <span class="bui-list__icon" role="presentation">\n                        ',"streamline/stop","\n                        ","streamline/","tea_maker","wifi","food_and_drink","shower","bath","safe","tv_flat_screen","phone","printer","weather_snowflake","hairdryer","alarm","iron","oven","resort","bathrobe","radio","fridge","desk","couch","toiletries","player_device","toilet","microwave_oven","dishwasher","washer","game","long_bed","heater","wardrobe","slippers","satelite","campfire","door_open","laptop","soundproof","mountains","food","kettle","armchair","mobile_phone","towel","sauna","pool","stovetop","toaster","food_bbq","bidet","tablet","sea_view","lake_view","garden","landmark","clean","city","dining_table","child","elevator","stairs","disabled","dressing_hanger","toilet_paper","puzzle","book","bathroom_private","wine","bottle","grapes","chocolate","trash","baby_cot","shirt","wall_socket","pillow","tree","landscape_view","lock_closed","no_smoking","candle","key","credit_card_back","lightbulb","window","checkmark",'\n                    </span>\n                    <div class="bui-list__body rt-room-comparison-facility-text">\n                        <div class="bui-list__description rt-room-comparison-facility-text">\n                            ',"\n                        </div>\n                    </div>\n                </li>\n            ",'\n            <li class="bui-list__item ">\n                <span class="bui-list__icon" role="presentation">\n                    ',"\n                    ","streamline/person_half",'\n                </span>\n                <div class="bui-list__body">\n                    <div class="bui-list__description\n                    ',"\n                        genius-fru-facility--better\n                    ",'\n                    ">',"/private/desktop_ge_fru_hp_max_occ/name","</div>\n                </div>\n            </li>\n        </ul>\n        </div>\n    </div>\n",'\n    <div class="bui-grid__column bui-grid__column-6 rt-comparison-facility-block rt-comparison-description">\n        <div class="bui-u-full-height">\n            <div class="bui-list__body">\n                <div class="bui-list__description bui-text bui-text--variant-small_1">',"</div>\n            </div>\n        </div>\n    </div>\n",'\n    <div class="bui-grid__column bui-grid__column-6 rt-comparison-facility-block">\n        <div class="bui-u-full-height">\n            <div class="bui-list__body">\n                <div class="bui-group bui-group--inline bui-group--wrap-nowrap">\n                    <div class="bui-group__item bui-group__item--grow rt-comparison-price-block">\n                        <p class="bui-text bui-text--variant-headline_3 rc-price__range">\n                            ',"–",'\n                        </p>\n                        <p class="bui-text bui-text--variant-body_2 price-disclaimer">\n                            ',"/private/sr_search_card_includes_taxes_charges/name","/private/rt_comparison_table_additional_charges_may_apply/name",'\n                        </p>\n                    </div>\n                    <div class="bui-group__item">\n                        <button class="bui-button bui-button--secondary bui-button--wide bui-button--large js-rt-comparison-go-to-btn" type="button" data-room-id="','">\n                            <span class="bui-button__text" data-room-id="','">',"/private/rt_comparison_table_options_cta/name","</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> \n","\n        </div>\n        ","<div class=\"rt-comparison-module-survey-cta\">\n    <script type=\"text/javascript\">\n    (function(d,e,j,h,f,c,b){d.SurveyGizmoBeacon=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)};c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,'script','//www.surveygizmo.eu/runtimejs/intercept/intercept.js','sg_beacon');\n    sg_beacon('init','OTAwMDk5ODItYTJjYmFmNGZhMjU1ZmEwOGFiMjgwODM3ZTcyMzQ5NWYxNTM1ZDc0Mzk5NTM1ZTNlNzg=');\n    <\/script>\n</div>","\n   </div>\n</article>\n\n\n","\n    "],f=["hotelName","room","baseRoom","comparedRoom","size","fe_size_icon_fill","fe_prefix_with_copy","fe_prefix_with_html","fe_surface_value","fe_surface_unit","fe_comparison_facility_icon_name","room_facility_icon_mapping","arg_room_facility_id","arg_room_facility_icon_mapping_manual_inline","fe_icon_fill","fe_occupancy_icon_fill"];return _r_(function(s){_i_("269:523d0e56");var e="",l=this.fn;function c(e){if(_i_("269:36e5f690"),e+=u[12],l.MK(l.defined(l.MB(f[11])))&&(e+=u[12],e+=u[12]),e+=u[12],!l.MJ(l.MB(f[13]))){e+=u[12];var t={arg_room_facility_id:l.MB(f[12])},i=s;(s=l.SV([{},{}])).unshift(t),e=function(e){_i_("269:e97527f3"),e+=u[12];var t=l.MB(f[12]);return l.MJ(t+""=="1")?e+=u[39]:l.MJ(t+""=="2")?e+=u[40]:l.MJ(t+""=="3")?e+=u[41]:l.MJ(t+""=="4")?e+=u[42]:l.MJ(t+""=="5")?e+=u[43]:l.MJ(t+""=="6")?e+=u[44]:l.MJ(t+""=="7")?e+=u[45]:l.MJ(t+""=="8")?e+=u[45]:l.MJ(t+""=="9")?e+=u[46]:l.MJ(t+""=="10")?e+=u[47]:l.MJ(t+""=="11")?e+=u[48]:l.MJ(t+""=="12")?e+=u[49]:l.MJ(t+""=="13")?e+=u[50]:l.MJ(t+""=="14")?e+=u[43]:l.MJ(t+""=="15")?e+=u[51]:l.MJ(t+""=="16")?e+=u[52]:l.MJ(t+""=="17")?e+=u[53]:l.MJ(t+""=="18")?e+=u[51]:l.MJ(t+""=="19")?e+=u[54]:l.MJ(t+""=="20")?e+=u[43]:l.MJ(t+""=="21")?e+=u[55]:l.MJ(t+""=="22")?e+=u[56]:l.MJ(t+""=="23")?e+=u[57]:l.MJ(t+""=="24")?e+=u[42]:l.MJ(t+""=="25")?e+=u[51]:l.MJ(t+""=="26")?e+=u[58]:l.MJ(t+""=="27")?e+=u[59]:l.MJ(t+""=="28")?e+=u[60]:l.MJ(t+""=="29")?e+=u[60]:l.MJ(t+""=="31")?e+=u[61]:l.MJ(t+""=="32")?e+=u[62]:l.MJ(t+""=="33")?e+=u[63]:l.MJ(t+""=="34")?e+=u[64]:l.MJ(t+""=="35")?e+=u[60]:l.MJ(t+""=="36")?e+=u[65]:l.MJ(t+""=="37")?e+=u[53]:l.MJ(t+""=="38")?e+=u[42]:l.MJ(t+""=="39")?e+=u[66]:l.MJ(t+""=="40")?e+=u[67]:l.MJ(t+""=="41")?e+=u[68]:l.MJ(t+""=="42")?e+=u[61]:l.MJ(t+""=="43")?e+=u[69]:l.MJ(t+""=="44")?e+=u[70]:l.MJ(t+""=="45")?e+=u[52]:l.MJ(t+""=="46")?e+=u[40]:l.MJ(t+""=="68")?e+=u[45]:l.MJ(t+""=="69")?e+=u[42]:l.MJ(t+""=="71")?e+=u[71]:l.MJ(t+""=="72")?e+=u[61]:l.MJ(t+""=="73")?e+=u[72]:l.MJ(t+""=="74")?e+=u[73]:l.MJ(t+""=="75")?e+=u[45]:l.MJ(t+""=="76")?e+=u[72]:l.MJ(t+""=="77")?e+=u[58]:l.MJ(t+""=="79")?e+=u[74]:l.MJ(t+""=="81")?e+=u[75]:l.MJ(t+""=="83")?e+=u[50]:l.MJ(t+""=="84")?e+=u[50]:l.MJ(t+""=="85")?e+=u[76]:l.MJ(t+""=="86")?e+=u[77]:l.MJ(t+""=="87")?e+=u[78]:l.MJ(t+""=="88")?e+=u[79]:l.MJ(t+""=="89")?e+=u[76]:l.MJ(t+""=="91")?e+=u[80]:l.MJ(t+""=="92")?e+=u[81]:l.MJ(t+""=="93")?e+=u[82]:l.MJ(t+""=="94")?e+=u[64]:l.MJ(t+""=="95")?e+=u[68]:l.MJ(t+""=="96")?e+=u[52]:l.MJ(t+""=="97")?e+=u[83]:l.MJ(t+""=="98")?e+=u[84]:l.MJ(t+""=="99")?e+=u[85]:l.MJ(t+""=="100")?e+=u[86]:l.MJ(t+""=="101")?e+=u[73]:l.MJ(t+""=="102")?e+=u[87]:l.MJ(t+""=="103")?e+=u[65]:l.MJ(t+""=="104")?e+=u[65]:l.MJ(t+""=="105")?e+=u[65]:l.MJ(t+""=="106")?e+=u[65]:l.MJ(t+""=="107")?e+=u[65]:l.MJ(t+""=="108")?e+=u[88]:l.MJ(t+""=="109")?e+=u[89]:l.MJ(t+""=="110")?e+=u[90]:l.MJ(t+""=="111")?e+=u[82]:l.MJ(t+""=="112")?e+=u[75]:l.MJ(t+""=="113")?e+=u[91]:l.MJ(t+""=="114")?e+=u[73]:l.MJ(t+""=="115")?e+=u[92]:l.MJ(t+""=="116")?e+=u[92]:l.MJ(t+""=="118")?e+=u[42]:l.MJ(t+""=="119")?e+=u[60]:l.MJ(t+""=="120")?e+=u[39]:l.MJ(t+""=="121")?e+=u[93]:l.MJ(t+""=="122")?e+=u[89]:l.MJ(t+""=="123")?e+=u[53]:l.MJ(t+""=="124")?e+=u[80]:l.MJ(t+""=="125")?e+=u[80]:l.MJ(t+""=="126")?e+=u[94]:l.MJ(t+""=="127")?e+=u[95]:l.MJ(t+""=="129")?e+=u[53]:l.MJ(t+""=="130")?e+=u[53]:l.MJ(t+""=="132")?e+=u[96]:l.MJ(t+""=="133")?e+=u[97]:l.MJ(t+""=="134")?e+=u[98]:l.MJ(t+""=="138")?e+=u[99]:l.MJ(t+""=="140")?e+=u[99]:l.MJ(t+""=="141")?e+=u[100]:l.MJ(t+""=="142")?e+=u[95]:l.MJ(t+""=="143")?e+=u[101]:l.MJ(t+""=="144")?e+=u[102]:l.MJ(t+""=="145")?e+=u[95]:l.MJ(t+""=="146")?e+=u[58]:l.MJ(t+""=="147")?e+=u[61]:l.MJ(t+""=="148")?e+=u[43]:l.MJ(t+""=="149")?e+=u[42]:l.MJ(t+""=="150")?e+=u[42]:l.MJ(t+""=="151")?e+=u[86]:l.MJ(t+""=="152")?e+=u[103]:l.MJ(t+""=="157")?e+=u[82]:l.MJ(t+""=="158")?e+=u[82]:l.MJ(t+""=="159")?e+=u[82]:l.MJ(t+""=="160")?e+=u[82]:l.MJ(t+""=="161")?e+=u[82]:l.MJ(t+""=="162")?e+=u[82]:l.MJ(t+""=="163")?e+=u[80]:l.MJ(t+""=="164")?e+=u[82]:l.MJ(t+""=="165")?e+=u[82]:l.MJ(t+""=="166")?e+=u[104]:l.MJ(t+""=="167")?e+=u[105]:l.MJ(t+""=="168")?e+=u[106]:l.MJ(t+""=="169")?e+=u[107]:l.MJ(t+""=="170")?e+=u[108]:l.MJ(t+""=="171")?e+=u[104]:l.MJ(t+""=="172")?e+=u[65]:l.MJ(t+""=="173")?e+=u[65]:l.MJ(t+""=="174")?e+=u[65]:l.MJ(t+""=="175")?e+=u[109]:l.MJ(t+""=="176")?e+=u[59]:l.MJ(t+""=="177")?e+=u[59]:l.MJ(t+""=="178")?e+=u[59]:l.MJ(t+""=="179")?e+=u[59]:l.MJ(t+""=="180")?e+=u[59]:l.MJ(t+""=="181")?e+=u[110]:l.MJ(t+""=="184")?e+=u[111]:l.MJ(t+""=="185")?e+=u[111]:l.MJ(t+""=="186")?e+=u[112]:l.MJ(t+""=="187")?e+=u[112]:l.MJ(t+""=="188")?e+=u[112]:l.MJ(t+""=="189")?e+=u[96]:l.MJ(t+""=="190")?e+=u[113]:l.MJ(t+""=="191")?e+=u[114]:l.MJ(t+""=="196")?e+=u[79]:l.MJ(t+""=="198")?e+=u[79]:l.MJ(t+""=="199")?e+=u[45]:l.MJ(t+""=="200")?e+=u[115]:l.MJ(t+""=="201")?e+=u[116]:l.MJ(t+""=="202")?e+=u[117]:l.MJ(t+""=="203")?e+=u[118]:l.MJ(t+""=="204")?e+=u[119]:l.MJ(t+""=="205")?e+=u[120]:l.MJ(t+""=="206")?e+=u[74]:l.MJ(t+""=="208")?e+=u[121]:l.MJ(t+""=="209")?e+=u[43]:e+=u[122],_r_(e)}(e),s=l.SV(i),e+=u[12]}return e+=u[12],_r_(e)}function r(e){return _i_("269:b7656c79"),e+=u[135],l.MJ(l.MG(((l.MC(f[1])||{}).price||{}).isSinglePrice))?e+=[u[10],l.F.entities(((l.MC(f[1])||{}).price||{}).from),u[11]].join(""):e+=[u[10],l.F.entities(((l.MC(f[1])||{}).price||{}).from),u[136],l.F.entities(((l.MC(f[1])||{}).price||{}).to),u[11]].join(""),e+=u[137],l.MJ(l.MG(((l.MC(f[1])||{}).price||{}).taxesIncluded))?e+=[u[10],l.ME(u[138],l.MB,l.MN,null),u[11]].join(""):e+=[u[10],l.ME(u[139],l.MB,l.MN,null),u[11]].join(""),e+=[u[140],l.F.entities((l.MC(f[1])||{}).id),u[141],l.F.entities((l.MC(f[1])||{}).id),u[142],l.ME(u[143],l.MB,l.MN,null),u[144]].join(""),_r_(e)}function n(e){_i_("269:4fc5ef10"),e+=u[20],e+=u[21];var t={fe_prefix_with_copy:l.MB(f[6]),fe_prefix_with_html:l.MB(f[7]),fe_surface_unit:l.MB(f[9]),fe_surface_value:l.MB(f[8])},i=s;return(s=l.SV([{},{}])).unshift(t),e=function(e){_i_("269:a0670054"),e+=u[22],l.MD(f[6])&&(e+=l.ME(u[23],l.MB,l.MN,null));e+=u[0],l.MD(f[7])&&(e+=l.MC(f[7]));e+=u[0],l.MJ(l.MB(f[9])+""=="square meters")?e+=[u[6],l.F.entities(l.MC(f[8])),u[24],l.ME(u[25],l.MB,l.MN,null),u[0]].join(""):e+=[u[6],l.F.entities(l.MC(f[8])),u[24],l.ME(u[26],l.MB,l.MN,null),u[0]].join("");return e+=u[27],_r_(e)}(e),s=l.SV(i),e+=u[20],_r_(e)}function _(e){if(_i_("269:5bde83ef"),e+=u[9],l.MJ(l.MG((l.MC(f[4])||{}).isBetter))?(e+=u[10],l.MN("fe_size_icon_fill","#008009")):(e+=u[10],l.MN("fe_size_icon_fill","#333333")),e+=u[11],e+=[u[11],(s.unshift({class:u[12],fill:l.MB(f[5]),name:u[13],width:u[14]}),h=l.HELPER("icon",s[0]),s.shift(),h),u[15]].join(""),e+=u[16],l.MJ(l.MG((l.MC(f[4])||{}).isBetter))&&(e+=u[17]),e+=u[18],l.MJ(l.MG((l.MC(f[4])||{}).value))){e+=[u[10],l.F.entities((l.MC(f[4])||{}).value),u[19]].join("");var t={fe_surface_unit:l.MG((l.MC(f[4])||{}).units)},i=s;(s=l.SV([{},{}])).unshift(t),e=n(e),s=l.SV(i),e+=u[11]}else e+=u[28];return e+=u[29],_r_(e)}function o(e){return _i_("269:fb31e9eb"),e+=[u[133],l.F.entities((l.MC(f[1])||{}).description),u[134]].join(""),_r_(e)}function a(e){_i_("269:46b823d2"),e+=[u[30],l.ME(u[31],l.MB,l.MN,null),u[32]].join("");var t=(l.MC(f[1])||{}).facilities||[];s.unshift({facility:null});for(var i,n=1,r=t.length;n<=r;n++){if(s[0].facility=i=t[n-1],e+=u[33],e+=u[34],l.MJ(l.MG((i||{}).isBetter))&&(e+=u[17]),e+=u[35],l.MJ(l.MG((i||{}).empty)))e+=[u[11],(s.unshift({name:u[36],width:u[14]}),h=l.HELPER("icon",s[0]),s.shift(),h),u[37]].join("");else{e+=u[11],l.MJ(l.MG((i||{}).isBetter))?(e+=u[10],l.MN("fe_icon_fill","#008009")):(e+=u[10],l.MN("fe_icon_fill","#333333")),e+=u[11],e+=u[11];var _="";_+=u[38];var o={arg_room_facility_id:l.MG((i||{}).id)},a=s;(s=l.SV([{},{}])).unshift(o),_=c(_),s=l.SV(a),l.MN(f[10],_),e+=[u[11],(s.unshift({fill:l.MB(f[14]),name:l.MB(f[10]),width:u[14]}),h=l.HELPER("icon",s[0]),s.shift(),h),u[37]].join("")}e+=[u[123],l.F.entities((i||{}).name),u[124]].join("")}return s.shift(),e+=u[125],l.MJ(l.MG(((l.MC(f[1])||{}).occupancy||{}).isBetter))?(e+=u[37],l.MN("fe_occupancy_icon_fill","#008009")):(e+=u[37],l.MN("fe_occupancy_icon_fill","#333333")),e+=u[126],e+=[u[126],(s.unshift({fill:l.MB(f[15]),name:u[127],width:u[14]}),h=l.HELPER("icon",s[0]),s.shift(),h),u[128]].join(""),l.MJ(l.MG(((l.MC(f[1])||{}).occupancy||{}).isBetter))&&(e+=u[129]),e+=[u[130],(s.unshift({num:l.MG(((l.MC(f[1])||{}).occupancy||{}).value)}),h=l.ME(u[131],l.MB,l.MN,null),s.shift(),h),u[132]].join(""),_r_(e)}function d(e){return _i_("269:0b9c6bc8"),e+=[u[4],l.F.entities((l.MC(f[1])||{}).name),u[5]].join(""),_r_(e)}return e=function(e){_i_("269:80b851ec"),e+=[u[1],(s.unshift({property_name:l.MB(f[0])}),h=l.ME(u[2],l.MB,l.MN,null),s.shift(),h),u[3]].join("");var t,i={room:l.MB(f[2])},n=s;(s=l.SV([{},{}])).unshift(i),e=d(e),s=l.SV(n),e+=u[6],i={room:l.MB(f[3])},n=s,(s=l.SV([{},{}])).unshift(i),e=d(e),s=l.SV(n),e+=u[7],(l.MJ(0<l.MC(f[2]).size.value)||l.MJ(0<l.MC(f[3]).size.value))&&(e+=u[8],i={size:l.MG((l.MC(f[2])||{}).size)},n=s,(s=l.SV([{},{}])).unshift(i),e=_(e),s=l.SV(n),e+=u[8],i={size:l.MG((l.MC(f[3])||{}).size)},n=s,(s=l.SV([{},{}])).unshift(i),e=_(e),s=l.SV(n),e+=u[6]);return e+=u[7],i={room:l.MB(f[2])},n=s,(s=l.SV([{},{}])).unshift(i),e=a(e),s=l.SV(n),e+=u[6],i={room:l.MB(f[3])},n=s,(s=l.SV([{},{}])).unshift(i),e=a(e),s=l.SV(n),e+=u[7],i={room:l.MB(f[2])},n=s,(s=l.SV([{},{}])).unshift(i),e=o(e),s=l.SV(n),e+=u[6],i={room:l.MB(f[3])},n=s,(s=l.SV([{},{}])).unshift(i),e=o(e),s=l.SV(n),e+=u[7],i={room:l.MB(f[2])},n=s,(s=l.SV([{},{}])).unshift(i),e=r(e),s=l.SV(n),e+=u[6],i={room:l.MB(f[3])},n=s,(s=l.SV([{},{}])).unshift(i),e=r(e),s=l.SV(n),e+=u[145],t=e,_i_("269:7c95c30e"),t+=u[146],e=_r_(t),e+=u[147],e+=u[21],e+=u[21],e+=u[21],e+=u[21],_r_(e)}(e+=u[0]),e+=u[148],_r_(e)})}()),_r_()}),B.define("hotel/footer/hide_seo_links",function(e){_i_("269:2557655b");var t=e("jquery"),i=t("#seo_links_drawer"),n=t(".hp_useful_links_header",i),r=t(".hp_useful_links",i);if(0<i.find(".hp_useful_links_no_hide").length)return _r_();0<i.length&&(r.hide(),r.attr("aria-hidden","true"),n.attr("aria-expanded","false"),n.on("click keypress",function(e){_i_("269:c4fc6772"),e.preventDefault(),"click"!==e.type&&13!=e.which&&32!=e.which||function(){_i_("269:bec6aded"),r.is(":hidden")?(r.stop(!0,!0).slideDown(),r.attr("aria-hidden","false"),n.attr("aria-expanded","true")):(r.stop(!0,!0).slideUp(),r.attr("aria-hidden","true"),n.attr("aria-expanded","false"));_r_()}(),_r_()})),_r_()}),B.define("hotel/footer",function(e){_i_("269:1de4381c"),$("#seo_links_drawer").length&&e("hotel/footer/hide_seo_links"),_r_()}),B.define("hotel/recent_reviews",function(e){_i_("269:77dddc9b");var t,a=e("jquery"),s=0,l=!1,i=function(){_i_("269:cc33165e");var e=a(".recent_property_reviews_block .review_list"),t=e.find(".review_item, .review-list-item"),i=parseInt(t.first().css("margin-top"),10),n=parseInt(t.first().css("margin-bottom"),10),r=parseInt(e.css("padding-top"),10),_=parseInt(e.css("padding-bottom"),10),o=(i=isNaN(i)?0:i)+(n=isNaN(n)?0:n)-((r=isNaN(r)?0:r)+(_=isNaN(_)?0:_));t.each(function(e,t){_i_("269:bb940b53");var i=a(t);i.height()>s&&(s=i.height()),_r_()}),l?(e.css({height:t.height()+o,overflow:"hidden"}),s&&a(".reviews_block-dynamic_height").css({"min-height":Math.min(s+o,350)})):0<s&&(e.css({height:s+o+"px",overflow:"hidden"}),t.css({height:s+"px"})),_r_()},n=function(){_i_("269:f3652c6e");var e,t=a(".recent_property_reviews_block .review_list"),i=t.find(".review_item, .review-list-item").first();l&&(e=i.next(".review_item, .review-list-item").css("height","").height())&&t.animate({height:e+39},"slow","swing"),i.animate({height:0},"slow","swing",function(){_i_("269:0af38e90"),t.append(i.css({height:s+"px"})),_r_()}),_r_()},r=a(".hp_recent_property_reviews_container");if(!B.env.b_hotelfeaturedreviews_url)return _r_();t=B.env.b_hotelfeaturedreviews_url;var _=function(e){_i_("269:eaa91f1a"),r.html(e),function(){_i_("269:27e68533");var e=a(".recent_property_reviews_block .review_list"),t=e.find(".review_item, .review-list-item");l=e.hasClass("review_list-dynamic_height"),i(),1<t.length&&window.setInterval(n,2e4),B.events.on("tab-opened",function(){_i_("269:bd6c37c0"),i(),_r_()}),_r_()}(),B.events.trigger("RECENT_REVIEWS:fetched"),r.loadComponents(),_r_()};B.env.b01||a("#regionTmpl").length||(B.env.run_ABbSMLfOTXKeNLTLfPePdJXDC?B.when({events:"view .hp_recent_property_reviews_container"}).run(function(){_i_("269:70e2f71e"),a.ajax({url:t,success:_}),_r_()}):a.ajax({url:t,success:_})),_r_()}),B.when({condition:B.env.payment_possible_in_instalments}).run(function(e){_i_("269:f24ca2ce");var t=e("jquery"),n=t(".rt_no_cc"),r=t(".total-price-instalments");function i(e,t){_i_("269:0d350361");var i=!!t.rawPrice&&t.rawPrice>=B.env.instalments_minimum_price;n.toggle(!i),r.toggle(i),_r_()}B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,i),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,function(){_i_("269:9c1d58ad"),i(0,{rawPrice:0}),_r_()}),_r_()}),B.define("hotel/rooms_table/gently_select_rooms",function(e,t,i){_i_("269:345c6860");var n,r=e("jquery"),_=-20-(B.env.b_hp_sticky_offset||0),u=4e3,o=B.env.is_rooms_table_rewrite?r("#hprt-form"):r(document.roomsForm),a=o.find(".b_room_selectbox"),s=r(".gently_select_rooms_container"),l=r(".book_now_button_handler"),f=(_i_("269:db8ae360"),_r_(function(){_i_("269:c599b27b"),s.css("display","block").animate({opacity:1},600),n=window.setTimeout(function(){_i_("269:a2709d77"),s.animate({opacity:0},600,function(){_i_("269:df2dce20"),s.hide(),_r_()}),_r_()},u),_r_()})),c=(_i_("269:5ff99395"),_r_(function(){_i_("269:f399c711"),clearTimeout(n),s.stop().css({opacity:0,display:"none"}),_r_()}));function d(){if(_i_("269:9c67bae2"),B.env.is_rooms_table_rewrite){var e=B.require("hotel/store").getState().roomsTable.js_selection;return _r_(e.roomCount)}return _r_(a.filter(function(){return _i_("269:131bcd44"),_r_(0!=r(this).val())}).length)}function h(e,t){_i_("269:4f74aa13");var i=r("#availability_target");if(t="function"==typeof t?t:function(){},!i.length)return _r_(t());_=-20-(B.env.b_hp_sticky_offset||0),window.setTimeout(function(){_i_("269:918890ff"),r("html,body").animate({scrollTop:_+i.offset().top+"px"},e||1e3).promise().then(t),_r_()},0),_r_()}function p(e){_i_("269:67715d55"),c(),h(e,f),_r_()}function b(e){_i_("269:b8124462"),c(),h(e,function(){_i_("269:aefed95d"),m(!0),_r_()}),_r_()}function m(e){if(_i_("269:7de93530"),B.env.is_rooms_table_rewrite){var t,i,n,r=B.require("hotel/store"),_=B.require("hotel/redux/actionTypes"),o=B.require("search-config"),a=r.getState().roomsTable.rooms,s=+o.adults;if(!a||!a.length)return _r_();if(!(t=a.filter(function(e){return _i_("269:07caa7b1"),_r_(e.b_blocks.length)})).length)return _r_();if(n=(i=t[0].b_blocks[0]).b_stay_prices.length-1,s>i.b_max_persons*n)return _r_();return r.dispatch({type:_.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED,nr_adults:+o.adults}),e&&f(),_r_()}var l=a.first(),c=l.parents("tr").first(),d=c.data("auto-select-times"),h=setTimeout(f,0);u=6e3,l.val(d).trigger("change"),fminit(c),l.on("change",function e(){_i_("269:55137eaf"),parseInt(l.val())||(fminit(c,!0,"#fff",[255,255,255],[255,255,255]),l.off("change",e),clearTimeout(h)),_r_()}),_r_()}return _r_({init:function(){if(_i_("269:8c3086b2"),!B.env.b_run_hp_gently_select_rooms)return _r_();l.click(function(e){if(_i_("269:655f741f"),B.et.customGoal("ZOISdGZFNTedZeBRUDbbAPQeNZTLLPReZWGO",1),d())return o.submit(),_r_();B.events.trigger("open-tab",{tab:"main"}),setTimeout(function(){_i_("269:816ce4c4"),+B.env.b_is_group_search?p():b(),_r_()},0),_r_()}),a.change(c),_r_()},showMessage:f,resetMessage:c,scrollToRoomsTable:h,scrollToRoomsTableAndShowTooltip:p,areRoomsSelected:d,scrollToRoomsTableAndAutoSelect:b,autoSelectRoom:m})}),B.define("hotel",function(e){_i_("269:7da2c57e");var t=e("jquery");e("hotel/core/back_is_back"),e("hotel/track"),(B.env.b_is_ie8||B.env.b_is_ie9)&&t("#hp_facilities_box").length&&e("hotel/core/fix_for_facilities_ie789"),e("hotel/core/no_dates_prefetch_sr_assets"),e("hotel/rooms_table/gently_select_rooms").init(),e("hotel/av_calendar"),e("hotel/faq"),e("hotel/ryokan"),e("hotel/explorer"),e("hotel/banners"),e("hotel/usp"),e("hotel/ph"),e("hotel/compset"),e("hotel/bb"),e("hotel/genius"),e("hotel/footer"),e("hotel/recent_reviews"),_r_()}),B.require(["hotel"]),B.define("hotel/redux/actionTypes",function(e){return _i_("269:0cb4971b"),_r_({SELECT_ROOM:"SELECT_ROOM",SELECT_ROOM_ERROR:"SELECT_ROOM_ERROR",SUBMIT_FORM_WITH_ROOMS:"SUBMIT_FORM_WITH_ROOMS",SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED:"SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED",SHOW_CONTACT_HOST_FORM:"SHOW_CONTACT_HOST_FORM",CONTACT_HOST_FORM_STATUS:"CONTACT_HOST_FORM_STATUS",CHANGE_FIT_STATUS:"CHANGE_FIT_STATUS",ADD_TPI_ROOMS:"ADD_TPI_ROOMS",UPDATE_BLOCKS_FILTERS:"UPDATE_BLOCKS_FILTERS",CLEAR_BLOCKS_FILTERS:"CLEAR_BLOCKS_FILTERS"})}),B.define("hotel/redux/reducers/rooms",function(e){_i_("269:7014a281");var o=e("et"),t=e("hotel/redux/actionTypes"),n={},g=/^bbasic_/i,r=function(e){_i_("269:3b1d4dd3");var t=a(e),i=0;t.rooms.forEach(function(t){_i_("269:ed6428e4"),t.b_blocks&&t.b_blocks.forEach(function(e){_i_("269:f312c9b9"),e.hasOwnProperty("b_block_id")?(t.isAvailable=1,i++):t.isAvailable=0,_r_()}),_r_()}),1==i&&(t.hasOnlyOneRoomRate=!0);return _r_(t)}({rooms:B.env.b_rooms_available_and_soldout||[],js_selection:{blocks:{},rooms:{},blockIDs:[],roomIDs:[],roomTypes:[],totalPrice:0,roomCount:0,nrSelections:0,nrSelectErrors:0,autoSelection:!1,fitStatus:0,noFitGuests:{},chargesCase:0,totalExcludedCharges:0,totalExcludedChargesPretty:"",chargesText:"",totalPriceBeforeDiscount:0,totalPriceBeforeDiscountPretty:"",earnCreditText:""},hasOnlyOneRoomRate:!1,hadRoomAutoSelected:!1,formIsSuccessfullySubmitted:!1,autoSelectedBlockId:"",filters:{selectedFilters:[],matchingBlocksIds:[]}});function a(e){return _i_("269:acedc825"),_r_(JSON.parse(JSON.stringify(e)))}function M(e,t){var i,n,r,_;for(_i_("269:f742cd6f"),i=0,r=e.rooms.length;i<r;i++)if({}.hasOwnProperty.call(e.rooms[i],"b_blocks"))for(n=0,_=e.rooms[i].b_blocks.length;n<_;n++){var o=t(e.rooms[i],e.rooms[i].b_blocks[n]);if("boolean"==typeof o&&!o)return _r_()}_r_()}function w(e){if(_i_("269:0f06c96d"),g.test(e.b_block_id)){for(var t=0,i=0;i<e.b_stay_prices.length;i++)if(e.b_stay_prices[i].b_stays===e.js_nr_selected){t=i;break}return _r_(parseFloat(e.b_stay_prices[t].b_raw_price))}return _r_(parseFloat(e.b_stay_prices[e.js_nr_selected].b_raw_price))}function s(e,n,r,_){_i_("269:810640e2");var o={},a={},s={},l=0,c=0,d={};M(e,function(e,t){_i_("269:895d3e18");var i=g.test(t.b_block_id);t.b_block_id===n&&("1"===_?(t.js_nr_selected=0,t.b_fflex_block&&(t.b_fflex_block.js_nr_selected=i?parseInt(r,10):Math.min(parseInt(r,10),t.b_fflex_block.b_stay_prices.length))):(t.js_nr_selected=i?parseInt(r,10):Math.min(parseInt(r,10),t.b_stay_prices.length),t.b_fflex_block&&(t.b_fflex_block.js_nr_selected=0))),t.js_nr_selected?(a[e.b_id]=e,o[t.b_block_id]=t,s[e.b_roomtype_id]=1,c+=t.js_nr_selected,d[e.b_id]=(d[e.b_id]||0)+t.js_nr_selected,l+=w(t)):t.js_is_highlighted=!1,t.b_fflex_block&&((t=t.b_fflex_block).js_nr_selected?(a[e.b_id]=e,o[t.b_block_id]=t,s[e.b_roomtype_id]=1,c+=t.js_nr_selected,d[e.b_id]=(d[e.b_id]||0)+t.js_nr_selected,l+=w(t)):t.js_is_highlighted=!1),_r_()}),l=Math.round(l),e.js_selection={blocks:o,rooms:a,blockIDs:Object.keys(o),roomIDs:Object.keys(a),roomTypes:Object.keys(s),totalPrice:l,totalPriceFormatted:B.utils.accounting.formatMoney(l),roomCount:c,roomCountPerRoomID:d,nrSelections:e.js_selection.nrSelections+1,fit_status:0,noFitGuests:{},autoSelection:!1};var t=B.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|us|id/gim.test(B.env.b_guest_country),i=B.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(B.env.b_guest_country);if(t||i){var h=0,u=0,f="";switch(M(e,function(e,t){if(_i_("269:25206b07"),t.js_nr_selected){var i=$(".on-hpage.blockuid-"+t.b_block_id+":first");if(i.length){var n=parseInt(i.data("cur-stage"));if(~[1,2,3,4,5].indexOf(n)){if(2===n){var r=parseFloat(i.data("excl-charges-raw")||0);u+=r*t.js_nr_selected}h!==n&&h<n&&(h=n)}}}_r_()}),0<u&&(u=Math.round(u)),h){case 1:f=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:f=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(u)});break;case 3:case 4:case 5:f=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception",null,{});break;default:f=""}e.js_selection.chargesCase=h,e.js_selection.totalExcludedCharges=u,e.js_selection.totalExcludedChargesPretty=B.utils.accounting.formatMoney(u),e.js_selection.chargesText=f}var p=0;M(e,function(e,t){if(_i_("269:1fe06c1e"),t.js_nr_selected){var i=$('tr[data-block-id="'+t.b_block_id+'"]:first .js-strikethrough-price');i.length&&!isNaN(parseFloat(i.data("strikethrough-value")))?p+=parseFloat(i.data("strikethrough-value"))*t.js_nr_selected:p+=w(t)}_r_()}),(p=Math.round(p))&&Math.abs(p-l)/p<.01&&(p=0),e.js_selection.totalPriceBeforeDiscount=p,e.js_selection.totalPriceBeforeDiscountPretty=B.utils.accounting.formatMoney(p);var b=0;M(e,function(e,t){if(_i_("269:9694a691"),t.js_nr_selected){var i=$('tr[data-block-id="'+t.b_block_id+'"]:first .c-earn-credits_rt').parent();i.length&&!isNaN(parseFloat(i.data("earn-credits-raw")))&&(b+=parseFloat(i.data("earn-credits-raw"))*t.js_nr_selected)}_r_()}),e.js_selection.earnCreditText=0<b?B.jstmpl.translations("pd_rt_credit_message_in_total_column",null,{start_bold:'<b class="bui-f-color-constructive">',end_bold:"</b>",amount_with_currency:B.utils.accounting.formatMoney(Math.round(b))}):"",e.js_selection.benefits=[];var m={};for(var v in M(e,function(e,t){_i_("269:27b96e50"),t.js_nr_selected&&t.b_price_breakdown_simplified&&t.b_price_breakdown_simplified.b_vm_products&&t.b_price_breakdown_simplified.b_vm_products.forEach(function(e){_i_("269:e9f39499"),/genius/gim.test(e.b_id)&&(m[e.b_id]=e),_r_()}),_r_()}),m)e.js_selection.benefits.push(m[v]);_r_()}return n[t.SELECT_ROOM]=function(e,t){_i_("269:5cf52348");var i=a(e);i.js_selection.nrSelectErrors&&!t.dont_trigger_goals&&o.goal("hp_room_select_after_error"),s(i,t.block_id,t.number_of_rooms,t.is_fflex_selected),t.block_id!=i.autoSelectedBlockId||t.dont_trigger_goals||(0==t.number_of_rooms?o.goal("hp_rt_room_auto_selected_deselected"):o.goal("hp_rt_room_auto_selected_reselected")),0<i.js_selection.nrSelections&&!t.dont_trigger_goals&&(0==i.js_selection.roomCount&&o.goal("hp_rt_room_deselected_everything"),3<=i.js_selection.nrSelections&&o.goalWithValue("js_hp_rt_room_changed_selection",i.js_selection.nrSelections));var n=i.js_selection.roomIDs.length,r=i.js_selection.blockIDs.length;return 2<=n&&!t.dont_trigger_goals&&o.goalWithValue("js_hp_rt_nr_selected_room_ids",n),2<=r&&!t.dont_trigger_goals&&o.goalWithValue("js_hp_rt_nr_selected_block_ids",r),i.lastAction=t.type,_r_(i)},n[t.SUBMIT_FORM_WITH_ROOMS]=function(e,t){_i_("269:ba352c96");var i=a(e);return i.formIsSuccessfullySubmitted=!0,i.lastAction=t.type,_r_(i)},n[t.SELECT_ROOM_ERROR]=function(e,t){_i_("269:ba66938c");var i=a(e);return o.goal("hp_room_select_error"),i.js_selection.nrSelectErrors+=1,2<=i.js_selection.nrSelectErrors&&o.goalWithValue("js_hp_room_select_error_count",i.js_selection.nrSelectErrors),i.hadRoomAutoSelected?o.goal("hp_room_select_error_after_auto_select"):0<i.js_selection.nrSelections&&o.goal("hp_room_select_error_after_select"),_r_(i)},n[t.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED]=function(e,n){_i_("269:54409ea1");var r=a(e),_=!1;if(r.js_selection.roomCount)return _r_();if(M(r,function(e,t){_i_("269:af854e4b");var i=t.b_stay_prices.length-1;if(!(n.nr_adults<=t.b_max_persons*i))return _r_(!1);return _=!0,s(r,t.b_block_id,t.b_max_persons>=n.nr_adults?1:2),r.autoSelectedBlockId=t.b_block_id,t.js_is_highlighted=!0,_r_(!1)}),!_)return _r_(r);return r.hadRoomAutoSelected=!0,r.js_selection.autoSelection=!0,o.goal("hp_rt_room_auto_selected"),0<r.js_selection.nrSelectErrors&&o.goal("hp_room_auto_select_after_error"),_r_(r)},n[t.CHANGE_FIT_STATUS]=function(e,t){_i_("269:eba5b0f7");var i=a(e);return i.js_selection.fitStatus=t.fit_status,i.js_selection.noFitGuests=t.no_fit_guests,i.lastAction=t.type,_r_(i)},n[t.ADD_TPI_ROOMS]=function(e,t){_i_("269:526ac959");var i=a(e);return Array.isArray(i.rooms)&&(i.rooms=i.rooms.concat(t.rooms)),i.lastAction=t.type,_r_(i)},n[t.UPDATE_BLOCKS_FILTERS]=function(e,t){_i_("269:bab7a9a9");var i=a(e);return i.filters.selectedFilters=t.selectedFilters,i.filters.matchingBlocksIds=t.matchingBlocksIds,i.lastAction=t.type,_r_(i)},n[t.CLEAR_BLOCKS_FILTERS]=function(e,t){_i_("269:d52baf92");var i=a(e);return i.filters.selectedFilters=[],i.filters.matchingBlocksIds=[],i.lastAction=t.type,_r_(i)},_r_(function(e,t){_i_("269:1addb9dd");e=e||r;var i=n[t.type];if(!i)return _r_(e);return _r_(Object.assign({},e,i(e,t)))})}),B.define("hotel/store",function(e){_i_("269:2cecc09b");var t=e("redux"),i=e("redux-thunk"),n=e("hotel/redux/reducers/rooms"),r=t.combineReducers({roomsTable:n});return _r_(t.createStore(r,window.__REDUX_DEVTOOLS_EXTENSION__?t.compose(t.applyMiddleware(i),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()):t.compose(t.applyMiddleware(i))))}),B.define("hotel/utils/click-area",function(e,t){_i_("269:dd563d95");var i=e("jquery");function u(e){if(_i_("269:ba5dea02"),e instanceof i&&e.length)return _r_({x:e.offset().left,y:e.offset().top,width:e.width(),height:e.height()});if(e instanceof Function)return _r_(e());return _r_(e)}t.elDims=u,t.area=function(l,c,d,h){return _i_("269:e6e5c2e6"),_r_(function(e,t,i){_i_("269:64c0a11a");var n,r,_=u(l),o=u(c),a=[_.x,_.x+_.width],s=[_.y,_.y+_.height];return n=o.x?[o.x,o.x+o.width]:[_.x,_.x+(o.width?o.width:_.width)],r=o.y?[o.y,o.y+o.height]:[_.y,_.y+(o.height?o.height:_.height)],d&&(n=[a[1]-(n[1]-a[0]),a[1]-(n[0]-a[0])]),h&&(r=[s[1]-(r[1]-s[0]),s[1]-(r[0]-s[0])]),_r_(n[0]<=e&&e<=n[1]&&r[0]<=t&&t<=r[1])})},t.padding=function(e,t){return _i_("269:d4f87405"),(e=u(e)).width+=2*t,e.height+=2*t,e.x=e.x-t,e.y=e.y-t,_r_(e)},_r_()}),function(e){"use strict";_i_("269:c970d6c8"),"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery),_r_()}(function(a){"use strict";_i_("269:11eaafe3");var o=window.Slick||{};(o=function(){_i_("269:1a9b8522");var o=0;return _r_(function(e,t){_i_("269:aa04535a");var i,n,r,_=this;if(_.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(e),appendDots:a(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return _i_("269:47add93f"),_r_('<button type="button" data-role="none">'+(t+1)+"</button>")},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,galleryMode:"normal",infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,keydownOverride:!1,keydownSpeed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},_.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,currentSpeed:null,iskeyboardEvent:!1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},a.extend(_,_.initials),_.activeBreakpoint=null,_.animType=null,_.animProp=null,_.breakpoints=[],_.breakpointSettings=[],_.cssTransitions=!1,_.hidden="hidden",_.paused=!1,_.positionProp=null,_.respondTo=null,_.shouldClick=!0,_.$slider=a(e),_.$slidesCache=null,_.transformType=null,_.transitionType=null,_.visibilityChange="visibilitychange",_.windowWidth=0,_.windowTimer=null,i=a(e).data("slick")||{},_.options=a.extend({},_.defaults,i,t),_.currentSlide=_.options.initialSlide,_.originalSettings=_.options,(n=_.options.responsive||null)&&-1<n.length){for(r in _.respondTo=_.options.respondTo||"window",n)n.hasOwnProperty(r)&&(_.breakpoints.push(n[r].breakpoint),_.breakpointSettings[n[r].breakpoint]=n[r].settings);_.breakpoints.sort(function(e,t){return _i_("269:c2b72627"),!0===_.options.mobileFirst?_r_(e-t):_r_(t-e)})}void 0!==document.mozHidden?(_.hidden="mozHidden",_.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(_.hidden="msHidden",_.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(_.hidden="webkitHidden",_.visibilityChange="webkitvisibilitychange"),_.autoPlay=a.proxy(_.autoPlay,_),_.autoPlayClear=a.proxy(_.autoPlayClear,_),_.changeSlide=a.proxy(_.changeSlide,_),_.clickHandler=a.proxy(_.clickHandler,_),_.selectHandler=a.proxy(_.selectHandler,_),_.setPosition=a.proxy(_.setPosition,_),_.swipeHandler=a.proxy(_.swipeHandler,_),_.dragHandler=a.proxy(_.dragHandler,_),_.keyHandler=a.proxy(_.keyHandler,_),_.autoPlayIterator=a.proxy(_.autoPlayIterator,_),_.instanceUid=o++,_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,_.init(),_.checkResponsive(!0),_r_()})}()).prototype.addSlide=o.prototype.slickAdd=function(e,t,i){_i_("269:1873807f");var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return _r_(!1);n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?a(e).appendTo(n.$slideTrack):i?a(e).insertBefore(n.$slides.eq(t)):a(e).insertAfter(n.$slides.eq(t)):!0===i?a(e).prependTo(n.$slideTrack):a(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){_i_("269:fa93a0c01"),a(t).attr("data-slick-index",e),_r_()}),n.$slidesCache=n.$slides,n.reinit(),_r_()},o.prototype.animateHeight=function(){_i_("269:5c984c58");var e=this,t=e.options.animateHeightSpeed||e.options.speed;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var i=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:i},t)}_r_()},o.prototype.animateSlide=function(e,t){_i_("269:b902e881");var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),a({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){_i_("269:67f59eb1"),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i),_r_()},complete:function(){_i_("269:ed4aef1a"),t&&t.call(),_r_()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){_i_("269:07179984"),n.disableTransition(),t.call(),_r_()},n.options.speed)),_r_()},o.prototype.asNavFor=function(e){_i_("269:e8b7bb75");var t=null!==this.options.asNavFor?a(this.options.asNavFor).slick("getSlick"):null;null!==t&&t.slideHandler(e,!0),_r_()},o.prototype.applyTransition=function(e){_i_("269:5ddae8bc");var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i),_r_()},o.prototype.autoPlay=function(){_i_("269:399fd1d9");var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&e.options.autoplay&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed)),_r_()},o.prototype.autoPlayClear=function(){_i_("269:af3f522d");this.autoPlayTimer&&clearInterval(this.autoPlayTimer),_r_()},o.prototype.autoPlayIterator=function(){_i_("269:e6097c53");var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll),_r_()},o.prototype.buildArrows=function(){_i_("269:76e69167");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=a(e.options.prevArrow),e.$nextArrow=a(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled")),_r_()},o.prototype.buildDots=function(){_i_("269:b8f116fc");var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=a(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}_r_()},o.prototype.buildOut=function(){_i_("269:9cb5db87");var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){_i_("269:fa93a0c0"),a(t).attr("data-slick-index",e),_r_()}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?a('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),a("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable"),_r_()},o.prototype.checkResponsive=function(e){_i_("269:7df269de");var t,i,n,r=this,_=r.$slider.width(),o=window.innerWidth||a(window).width();if("window"===r.respondTo?n=o:"slider"===r.respondTo?n=_:"min"===r.respondTo&&(n=Math.min(o,_)),r.originalSettings.responsive&&-1<r.originalSettings.responsive.length&&null!==r.originalSettings.responsive){for(t in i=null,r.breakpoints)r.breakpoints.hasOwnProperty(t)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[t]&&(i=r.breakpoints[t]):n>r.breakpoints[t]&&(i=r.breakpoints[t]));null!==i?null!==r.activeBreakpoint?i!==r.activeBreakpoint&&(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick():(r.options=a.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())):(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick():(r.options=a.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())}_r_()},o.prototype.changeSlide=function(e,t){_i_("269:0c4c634e");var i,n,r=this;switch(a(e.target).is("a")&&e.preventDefault(),i=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":n=0===i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-n,!1,t);break;case"next":n=0===i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+n,!1,t);break;case"index":var _=0===e.data.index?0:e.data.index||a(e.target).parent().index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(_),!1,t);break;default:return _r_()}_r_()},o.prototype.checkNavigable=function(e){_i_("269:2e3760ed");var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return _r_(e)},o.prototype.clickHandler=function(e){_i_("269:810abac5");!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),_r_()},o.prototype.destroy=function(){_i_("269:3c19434e");var e=this;e.autoPlayClear(),e.touchObject={},a(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.unbind(".slick"),a(window).unbind(".slick-"+e.instanceUid),a(document).unbind(".slick-"+e.instanceUid),e.$slider.html(e.$slides),_r_()},o.prototype.disableTransition=function(e){_i_("269:b2756228");var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t),_r_()},o.prototype.fadeSlide=function(e,t){_i_("269:c1100626");var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.options.speed?i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t):i.$slides.eq(e).show(i.options.speed,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){_i_("269:a3438e15"),i.disableTransition(e),t.call(),_r_()},i.options.speed)),_r_()},o.prototype.filterSlides=o.prototype.slickFilter=function(e){_i_("269:99588b02");var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit()),_r_()},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){_i_("269:d878ac94");return _r_(this.currentSlide)},o.prototype.getDotCount=function(){_i_("269:d90cc7a5");var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return _r_(n-1)},o.prototype.getLeft=function(e){_i_("269:0a691e40");var t,i,n,r=this,_=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,_=i*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,_=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,_=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,_=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(_=r.slideOffset=0),!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+_,!0===r.options.variableWidth&&(t=(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(t=(n=!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),_r_(t)},o.prototype.getOption=o.prototype.slickGetOption=function(e){_i_("269:aa126de6");return _r_(this.options[e])},o.prototype.getNavigableIndexes=function(){_i_("269:b807f95a");var e,t=this,i=0,n=0,r=[];for(!1===t.options.infinite?(e=t.slideCount-t.options.slidesToShow+1,!0===t.options.centerMode&&(e=t.slideCount)):(i=-1*t.slideCount,n=-1*t.slideCount,e=2*t.slideCount);i<e;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return _r_(r)},o.prototype.getSlick=function(){return _i_("269:b34e3db8"),_r_(this)},o.prototype.getSlideCount=function(){_i_("269:52494332");var e,i,n,r=this;return n=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(e,t){if(_i_("269:f3f48d61"),t.offsetLeft-n+a(t).outerWidth()/2>-1*r.swipeLeft)return i=t,_r_(!1);_r_()}),e=Math.abs(a(i).attr("data-slick-index")-r.currentSlide)||1,_r_(e)):_r_(r.options.slidesToScroll)},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){_i_("269:90487959");this.changeSlide({data:{message:"index",index:parseInt(e)}},t),_r_()},o.prototype.init=function(){_i_("269:72d3a587");var e=this;a(e.$slider).hasClass("slick-initialized")||(a(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),e.$slider.trigger("init",[e]),_r_()},o.prototype.initArrowEvents=function(){_i_("269:d6e60b62");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.bind("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.bind("click.slick",{message:"next"},e.changeSlide)),_r_()},o.prototype.initDotEvents=function(){_i_("269:f2531feb");var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&a("li",e.$dots).bind("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&a("li",e.$dots).bind("mouseenter.slick",function(){_i_("269:eb68020a"),e.paused=!0,e.autoPlayClear(),_r_()}).bind("mouseleave.slick",function(){_i_("269:5e48df25"),e.paused=!1,e.autoPlay(),_r_()}),_r_()},o.prototype.initializeEvents=function(){_i_("269:8b9bc1fd");var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.bind("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.bind("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.bind("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.bind("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.bind("click.slick",e.clickHandler),!0===e.options.autoplay&&(a(document).bind(e.visibilityChange,function(){_i_("269:3965a55c"),e.visibility(),_r_()}),!0===e.options.pauseOnHover&&(e.$list.bind("mouseenter.slick",function(){_i_("269:eb68020a1"),e.paused=!0,e.autoPlayClear(),_r_()}),e.$list.bind("mouseleave.slick",function(){_i_("269:5e48df251"),e.paused=!1,e.autoPlay(),_r_()}))),!0===e.options.accessibility&&a(document).bind("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&a(e.$slideTrack).children().bind("click.slick",e.selectHandler),a(window).bind("orientationchange.slick.slick-"+e.instanceUid,function(){_i_("269:71ea83f9"),e.checkResponsive(),e.setPosition(),_r_()}),a(window).bind("resize.slick.slick-"+e.instanceUid,function(){_i_("269:8841ac5e"),a(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){_i_("269:9ccec9da"),e.windowWidth=a(window).width(),e.checkResponsive(),e.setPosition(),_r_()},50)),_r_()}),a("*[draggable!=true]",e.$slideTrack).bind("dragstart",function(e){_i_("269:a38e47a3"),e.preventDefault(),_r_()}),a(window).bind("load.slick.slick-"+e.instanceUid,e.setPosition),a(document).bind("ready.slick.slick-"+e.instanceUid,e.setPosition),_r_()},o.prototype.initUI=function(){_i_("269:ea873936");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay(),_r_()},o.prototype.keyHandler=function(e){_i_("269:b1b7e014");var t=this;!0===t.options.accessibility&&!0===t.options.keydownOverride&&t.options.keydownSpeed&&(t.iskeyboardEvent=!0,t.currentSpeed=t.options.speed,t.options.speed=t.options.keydownSpeed),37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:t.options.rtl?"previous":"next"}}),_r_()},o.prototype.lazyLoad=function(){_i_("269:02e48efc");var e,t,i=this;function n(e){_i_("269:828d9079"),a("img[data-lazy]",e).each(function(){_i_("269:243378cc");var e=a(this),t=a(this).attr("data-lazy");e.load(function(){_i_("269:73f61e94"),e.animate({opacity:1},200),_r_()}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading"),_r_()}),_r_()}!0===i.options.centerMode?!0===i.options.infinite?t=(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),t=i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),n(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?n(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?n(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&n(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow)),_r_()},o.prototype.loadSlider=function(){_i_("269:df137ba3");var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad(),_r_()},o.prototype.next=o.prototype.slickNext=function(){_i_("269:88d71b69");this.changeSlide({data:{message:"next"}}),_r_()},o.prototype.pause=o.prototype.slickPause=function(){_i_("269:f2c15337");this.autoPlayClear(),this.paused=!0,_r_()},o.prototype.play=o.prototype.slickPlay=function(){_i_("269:3dce7834");this.paused=!1,this.autoPlay(),_r_()},o.prototype.postSlide=function(e){_i_("269:5b6dc3bf");var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay(),!0===t.options.accessibility&&!0===t.options.keydownOverride&&!0===t.iskeyboardEvent&&(t.iskeyboardEvent=!1,t.options.speed=t.currentSpeed),_r_()},o.prototype.prev=o.prototype.slickPrev=function(){_i_("269:00586209");this.changeSlide({data:{message:"previous"}}),_r_()},o.prototype.progressiveLazyLoad=function(){_i_("269:1c406966");var e,t=this;0<a("img[data-lazy]",t.$slider).length&&(e=a("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){_i_("269:6229d7ca"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition(),_r_()}).error(function(){_i_("269:0fb46887"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),_r_()}),_r_()},o.prototype.refresh=function(){_i_("269:6dd86baa");var e=this,t=e.currentSlide;e.destroy(),a.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:t}},!0),_r_()},o.prototype.reinit=function(){_i_("269:b9485622");var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&a(e.$slideTrack).children().bind("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),_r_()},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,i){_i_("269:6cd94992");var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return _r_(!1);n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),_r_()},o.prototype.setCSS=function(e){_i_("269:5c295263");var t,i,n=this,r={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,!1===n.transformsEnabled||(!(r={})===n.cssTransitions?r[n.animType]="translate("+t+", "+i+")":r[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(r),_r_()},o.prototype.setDimensions=function(){_i_("269:76db605f");var e=this;if(!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(!0===e.options.variableWidth){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){_i_("269:3b52e153"),t+=e.listWidth,_r_()}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i),_r_()},o.prototype.setFade=function(){_i_("269:5d0d1f0d");var i,n=this;n.$slides.each(function(e,t){_i_("269:04f6cdfb"),i=n.slideWidth*e*-1,!0===n.options.rtl?a(t).css({position:"relative",right:i,top:0,zIndex:800,opacity:0}):a(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0}),_r_()}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1}),_r_()},o.prototype.setHeight=function(){_i_("269:a1485bd1");var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}_r_()},o.prototype.setOption=o.prototype.slickSetOption=function(e,t,i){_i_("269:92a239a5");this.options[e]=t,!0===i&&(this.unload(),this.reinit()),_r_()},o.prototype.setPosition=function(){_i_("269:9e0d36fb");var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e]),_r_()},o.prototype.setProps=function(){_i_("269:b9a544a2");var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType,_r_()},o.prototype.setSlideClasses=function(e){_i_("269:42777f94");var t,i,n,r,_=this;_.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=_.$slider.find(".slick-slide"),!0===_.options.centerMode?(t=Math.floor(_.options.slidesToShow/2),!0===_.options.infinite&&(t<=e&&e<=_.slideCount-1-t?_.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=_.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-_.options.slidesToShow).addClass("slick-center"):e===_.slideCount-1&&i.eq(_.options.slidesToShow).addClass("slick-center")),_.$slides.eq(e).addClass("slick-center")):0<=e&&e<=_.slideCount-_.options.slidesToShow?_.$slides.slice(e,e+_.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=_.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=_.slideCount%_.options.slidesToShow,n=!0===_.options.infinite?_.options.slidesToShow+e:e,_.options.slidesToShow==_.options.slidesToScroll&&_.slideCount-e<_.options.slidesToShow?i.slice(n-(_.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+_.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===_.options.lazyLoad&&_.lazyLoad(),_r_()},o.prototype.setupInfinite=function(){_i_("269:ba37ca51");var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,a(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,a(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){_i_("269:ebb1e066"),a(this).attr("id",""),_r_()})}_r_()},o.prototype.selectHandler=function(e){_i_("269:d8db273a");var t=this,i=a(e.target).parents(".slick-slide"),n=parseInt(i.attr("data-slick-index"));if(n||(n=0),t.slideCount<=t.options.slidesToShow)return t.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-active").attr("aria-hidden","false"),!0===t.options.centerMode&&(t.$slider.find(".slick-slide").removeClass("slick-center"),t.$slides.eq(n).addClass("slick-center")),t.asNavFor(n),_r_();t.slideHandler(n),_r_()},o.prototype.slideHandler=function(e,t,i){_i_("269:ca7773fb");var n,r,_,o,a=this;if(t=t||!1,!0===a.animating&&!0===a.options.waitForAnimate)return _r_();if(!0===a.options.fade&&a.currentSlide===e)return _r_();if(a.slideCount<=a.options.slidesToShow)return _r_();if(!1===t&&a.asNavFor(e),n=e,o=a.getLeft(n),_=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?_:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(e<0||e>a.getDotCount()*a.options.slidesToScroll))return!1===a.options.fade&&(n=a.currentSlide,!0!==i?a.animateSlide(_,function(){_i_("269:83dfe16c"),a.postSlide(n),_r_()}):a.postSlide(n)),_r_();if(!1===a.options.infinite&&!0===a.options.centerMode&&(e<0||e>a.slideCount-a.options.slidesToScroll))return!1===a.options.fade&&(n=a.currentSlide,!0!==i?a.animateSlide(_,function(){_i_("269:83dfe16c1"),a.postSlide(n),_r_()}):a.postSlide(n)),_r_();if(!0===a.options.autoplay&&clearInterval(a.autoPlayTimer),r=n<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+n:n>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:n-a.slideCount:n,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,r]),a.currentSlide,a.currentSlide=r,a.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==i?a.fadeSlide(r,function(){_i_("269:a126f812"),a.postSlide(r),_r_()}):a.postSlide(r),a.animateHeight(),_r_();!0!==i?a.animateSlide(o,function(){_i_("269:ff62ff23"),a.postSlide(r),_r_()}):a.postSlide(r),_r_()},o.prototype.startLoad=function(){_i_("269:e1af5713");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading"),_r_()},o.prototype.swipeDirection=function(){_i_("269:70a2ac4d");var e,t,i,n,r=this;if(e=r.touchObject.startX-r.touchObject.curX,t=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n)return _r_(!1===r.options.rtl?"left":"right");if(n<=360&&315<=n)return _r_(!1===r.options.rtl?"left":"right");if(135<=n&&n<=225)return _r_(!1===r.options.rtl?"right":"left");return _r_("vertical")},o.prototype.swipeEnd=function(e){_i_("269:c3f8361e");var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return _r_(!1);if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={});_r_()},o.prototype.swipeHandler=function(e){_i_("269:e1bbc1a7");var t=this;if(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe)return _r_();if(!1===t.options.draggable&&-1!==e.type.indexOf("mouse"))return _r_();switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}_r_()},o.prototype.swipeMove=function(e){_i_("269:1f54038b");var t,i,n,r,_,o=this;if(_=void 0!==e.originalEvent?e.originalEvent.touches:null,!o.dragging||_&&1!==_.length)return _r_(!1);if(t=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==_?_[0].pageX:e.clientX,o.touchObject.curY=void 0!==_?_[0].pageY:e.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),"vertical"===(i=o.swipeDirection()))return _r_();if(void 0!==e.originalEvent&&4<o.touchObject.swipeLength&&e.preventDefault(),r=(!1===o.options.rtl?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),n=o.touchObject.swipeLength,(o.touchObject.edgeHit=!1)===o.options.infinite&&(0===o.currentSlide&&"right"===i||o.currentSlide>=o.getDotCount()&&"left"===i)&&(n=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),!1===o.options.vertical?o.swipeLeft=t+n*r:o.swipeLeft=t+n*(o.$list.height()/o.listWidth)*r,!0===o.options.fade||!1===o.options.touchMove)return _r_(!1);if(!0===o.animating)return o.swipeLeft=null,_r_(!1);o.setCSS(o.swipeLeft),_r_()},o.prototype.swipeStart=function(e){_i_("269:c769c4b1");var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},_r_(!1);void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0,_r_()},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){_i_("269:02fdcdc5");var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit()),_r_()},o.prototype.unload=function(){_i_("269:ff1ea595");var e=this;a(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width",""),_r_()},o.prototype.unslick=function(){_i_("269:694228b1");this.destroy(),_r_()},o.prototype.updateArrows=function(){_i_("269:c5227483");var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled"))),_r_()},o.prototype.updateDots=function(){_i_("269:10e22fcf");var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false")),_r_()},o.prototype.visibility=function(){_i_("269:6b86169a");var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay()),_r_()},a.fn.slick=function(){_i_("269:48304cb3");for(var e,t=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.length,_=0;_<r;_++)if("object"==typeof i||void 0===i?t[_].slick=new o(t[_],i):e=t[_].slick[i].apply(t[_].slick,n),void 0!==e)return _r_(e);return _r_(t)},a(function(){_i_("269:d4d747eb"),a("[data-slick]").slick(),_r_()}),_r_()}),function(e){_i_("269:18dcaf60"),e.hotel.GallerySettings=e.hotel.GallerySettings||{},e.hotel.GallerySettings={slide:"div",autoplay:!1,autoplaySpeed:e.env.hp_gallery_autoplay_speed,dots:!1,easing:"swing",fade:!0,lazyLoad:e.env.hp_gallery_lazyload,infinite:!0,initialSlide:0,pauseOnHover:!1,speed:0,keydownOverride:!0,keydownSpeed:100,slidesToShow:1,centerMode:!0,slidesToScroll:1,rtl:e.env.rtl},_r_()}(window.booking),function(s,f){_i_("269:2316f8a4");var p=f.require("jquery"),i=f.require("hotel/utils/click-area"),n=!1,r=!1;f.hotel.Gallery=function(){_i_("269:432c078b");var t={container:null,gallery:null,slides:[],thumbs:[],nav:null,review:null,activeSlide:null,nextSlide:null,counter:null,isOldIE:"msie"===f.env.b_browser&&f.env.b_browser_version<10,toPhotoID:f.env.b_hp_tophotoid||0,initSlide:0,totalSlides:0,defaultFadeSpeed:f.env.hp_gallery_fade_speed,fadeSpeedOnHover:300,currentSlide:0,hoverTimer:0,initTimer:0,overrides:{},options:{},CLASS_THUMB:"js-hotel-thumb",CLASS_SELECTED_THUMB:"selected_thumb",CLASS_GALLERY_CONTROL:"hp-gallery-control",CLASS_GALLERY_SPECIAL_CONTROL:"hp-gallery-special-control",CLASS_REVIEW_FLOATER:"nha_large_photo_reviewFloater",CLASS_GALLERY_COUNTER:"js-hp-gallery__counter",CLASS_COUNTER_CURRENT:"js-hp-gallery__counter__current",CLASS_COUNTER_COUNT:"js-hp-gallery__counter__count",CLASS_VISIBLE:"visible",CLASS_HIDDEN:"hp-gallery__hidden",EVENT_GALLERY_BEFORE_CHANGE:f.hotel.Events.Gallery.BEFORE_SLIDE_CHANGE,EVENT_GALLERY_AFTER_CHANGE:f.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,EVENT_GALLERY_AFTER_CHANGE_PERSISTENT:f.hotel.Events.Gallery.AFTER_SLIDE_CHANGE_PERSISTENT,EVENT_GALLERY_INIT:f.hotel.Events.Gallery.INIT,EVENT_GALLERY_HOVER_THUMB:f.hotel.Events.Gallery.THUMB_HOVER,EVENT_GALLERY_NAVIGATE_MANUAL:f.hotel.Events.Gallery.NAVIGATE_MANUAL,GOAL_CLICK_NAVIGATION:f.hotel.Goals.Gallery.CLICK_NAVIGATION,GOAL_VIEW_ALL_PHOTOS:f.hotel.Goals.Gallery.VIEW_ALL_PHOTOS,GOAL_HOVER_THUMB:f.hotel.Goals.Gallery.HOVER_THUMB,trackingelem:p("#photo_wrapper"),emitter:f.require("events"),ga:f.require("ga-tracker"),photosViewed:[],trackedPhotosViewed:!1,freezeThumbs:!1,setup:function(e){_i_("269:ca7c1959");var t=this;t.container=e,t.gallery=t.container.find('[data-gallery=""]'),t.slides=t.gallery.children(),t.thumbs=t.container.find("a."+t.CLASS_THUMB),t.thumbs.length||(t.thumbs=p(".hp-main-gallery-thumbs a."+t.CLASS_THUMB)),t.nav=t.container.find("a."+t.CLASS_GALLERY_CONTROL),t.spNav=t.container.find("a."+t.CLASS_GALLERY_SPECIAL_CONTROL),t.review=t.container.find("div."+t.CLASS_REVIEW_FLOATER),t.counter=t.container.find("div."+t.CLASS_GALLERY_COUNTER),t.totalSlides=t.slides.length,t.initSlide=t.toPhotoID?t.slides.index(t.slides.filter('[data-photoid="'+t.toPhotoID+'"]')):0,t.defaultFadeSpeed=t.isOldIE?0:f.env.hp_gallery_fade_speed,t.fadeSpeedOnHover=t.isOldIE?0:300,t.overrides={initialSlide:t.initSlide,speed:t.defaultFadeSpeed,nextArrow:t.nav.filter('[data-nav="next"]'),prevArrow:t.nav.filter('[data-nav="prev"]'),waitForAnimate:!1,autoplay:!1},t.options=p.extend({},f.hotel.GallerySettings,t.overrides),t.initSlickEvents(),_r_()},initCornerNavigation:function(){_i_("269:d9171ec1");var s,l,c=this,e=c.container.find(".hp-gallery"),d=c.container.find('[data-nav="next"]'),h=c.container.find('[data-nav="prev"]');l=i.area(e,i.padding.bind(null,d,30)),s=i.area(e,i.padding.bind(null,h,30));var u=function(e){if(_i_("269:d69b4fdb"),!e||!e.target)return _r_();var t=p(e.target);if(t.is(".hp-gallery-control")||t.is(".gallery__last-item__cta")||t.parents(".hp-gallery-review").length)return _r_();var i=e.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.touches[0].pageY;s(i,n)?(d.removeClass("h"),h.addClass("h")):(l(i,n)?d.addClass("h"):d.removeClass("h"),h.removeClass("h")),_r_()};e.on("mousemove",u),e.on("click",function(e){_i_("269:5e8c04ac");var t=p(e.target);if(window.innerHeight&&window.innerHeight<700)return _r_();if(t.parents(".hp-gallery-review").length)return _r_();var i=e.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.touches[0].pageY;if(s(i,n))c.ga.trackEvent(c.ga.hotelPageTracker,"Gallery","Corner Navigation Prev"),h.click(),setTimeout(function(){_i_("269:838a08a0"),u(e),_r_()},50);else{if(l(i,n))d.click();else{if(t.hasClass("js-gallery__last-item__cta"))return _r_();var r=c.gallery.slick("getSlick"),_=p(r.$slides[r.getCurrent()]),o=_.attr("data-photoid");if("last_item_cta"===o){var a=_.attr("data-slick-index");return _r_(p(".bh-photo-modal").trigger("setPos",[parseInt(a,10),"gallery"]))}if(f.env.fe_hotel_has_360_photos&&"thumb_360_view"===o){a=_.attr("data-slick-index");return _r_(!1)}_.hasClass("hp-gallery__slide--landmark")&&(o=_.attr("data-landmarkid")),p(".bh-photo-modal").trigger("openPhotoId",[o,"gallery"])}c.ga.trackEvent(c.ga.hotelPageTracker,"Gallery","Corner Navigation Next"),setTimeout(function(){_i_("269:838a08a01"),u(e),_r_()},50)}_r_()}),e.on("mouseout",function(){_i_("269:ef5e2a8a"),d.removeClass("h"),h.removeClass("h"),_r_()}),_r_()},initSlickEvents:function(){_i_("269:03e9728a");var a=this;a.gallery.bind("init",function(e,t){_i_("269:997a3bd2"),a.initControls(),a.setupCounter(),a.trackGoals("autoplay",a.currentSlide),a.updatePhotosViewed(a.initSlide),a.freezeThumbs||a.highlightThumb(t.$slides.eq(a.initSlide).attr("data-photoid")),a.bindEmitterEvents(t),f.env.b_run_hp_gallery_corner_navigation&&a.initCornerNavigation(),f.hotel.Gallery.slick=t,a.emitter.trigger(a.EVENT_GALLERY_INIT,[a]),_r_()}).bind("beforeChange",function(e,t,i,n){_i_("269:9926a4c7"),a.activeSlide=a.slides.eq(i),a.nextSlide=a.slides.eq(n),"true"===a.nextSlide.attr("data-gallery-pause")?a.gallery.slick("slickPause"):a.gallery.slick("slickPlay"),a.updatePhotosViewed(n),a.highlightThumb(t.$slides.eq(n).attr("data-photoid"),!0),a.updateCounter(n+1);var r=!0,_=t.$slides.index(a.activeSlide),o=t.$slides.index(a.nextSlide);(o<_||o===t.$slides.length-1&&0===_)&&(r=!1),a.emitter.trigger(f.hotel.Events.ReviewFloater.FORCE_SLIDE,[r]),a.emitter.trigger(a.EVENT_GALLERY_BEFORE_CHANGE,[e,t,a.activeSlide,a.nextSlide]),_r_()}).bind("afterChange",function(e,t,i){_i_("269:ff770c01"),a.activeSlide=a.slides.eq(i),f.env.b_gallery_slide_onview&&a.trackSlideView(),a.trackGoals(a.GOAL_VIEW_ALL_PHOTOS),a.emitter.trigger(a.EVENT_GALLERY_AFTER_CHANGE,[e,t,a.activeSlide]),a.emitter.trigger(a.EVENT_GALLERY_AFTER_CHANGE_PERSISTENT,[e,t,a.activeSlide]),_r_()}).bind("reInit",function(e,t){_i_("269:5001ce61"),a.counter.length&&a.updateCounter(t.getCurrent()+1,t.slideCount),_r_()}),a.run(),_r_()},initControls:function(){_i_("269:2b08a2b2");var a=this;a.gallery.add(a.nav).add(a.spNav).add(a.review).bind("mouseenter",function(){_i_("269:0190d3e7"),a.nav.addClass(a.CLASS_VISIBLE),a.gallery.slick("slickSetOption","speed",a.fadeSpeedOnHover),_r_()}).bind("mouseleave",function(){_i_("269:7fc9f1e4"),a.nav.removeClass(a.CLASS_VISIBLE),a.gallery.slick("slickSetOption","speed",a.defaultFadeSpeed),_r_()}),a.nav.bind("click",function(){return _i_("269:e88bdb18"),a.navigate(a,this),_r_(!1)}).bind("click.tracking",function(){_i_("269:48caa1d1"),a.trackGoals(a.GOAL_CLICK_NAVIGATION),_r_()}),a.spNav.bind("click mouseenter",function(e){_i_("269:ab03ca09"),e.preventDefault(),a.nav.addClass(a.CLASS_VISIBLE);var t=this,i="click"===e.type?0:300;clearTimeout(a.hoverTimer),a.hoverTimer=s.setTimeout(function(){_i_("269:3a19213d"),a.navigate(a,t),_r_()},i),a.gallery.slick("slickSetOption","speed",a.fadeSpeedOnHover),_r_()}).bind("mouseleave",function(){_i_("269:5c3afef9"),a.gallery.slick("slickSetOption","speed",a.defaultFadeSpeed),clearTimeout(a.hoverTimer),_r_()}),a.thumbs.bind("mouseenter click",function(e){_i_("269:11cae607");var t,i,n,r=p(this),_="click"===e.type?0:300;function o(){_i_("269:6cc1aad1"),t=r.attr("data-photoid"),i=a.slides.filter('[data-photoid="'+t+'"]'),n=a.gallery.slick("getSlick"),a.gallery.slick("slickSetOption","speed",a.fadeSpeedOnHover),a.gallery.slick("slickGoTo",n.$slides.index(i.get(0))),_r_()}if(p('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length)return"click"===e.type&&(e.stopImmediatePropagation(),a.freezeThumbs=!0,t=r.attr("data-photoid"),i=a.slides.filter('[data-photoid="'+t+'"]'),n=a.gallery.slick("getSlick"),a.gallery.slick("slickGoTo",n.$slides.index(i.get(0))+1),a.freezeThumbs=!1,p('.hp-gallery-navigation-link[data-toggle="hp-gallery-main"]').click(),o()),_r_(!1);if(f.env.fe_hotel_has_360_photos&&"mouseenter"===e.type&&a.thumbs.filter("."+a.CLASS_SELECTED_THUMB).data("keepFocus"))return _r_(!1);clearTimeout(a.hoverTimer),a.hoverTimer=s.setTimeout(function(){_i_("269:878c07ec"),o(),_r_()},_),_r_()}).bind("mouseleave",function(){_i_("269:5c3afef91"),a.gallery.slick("slickSetOption","speed",a.defaultFadeSpeed),clearTimeout(a.hoverTimer),_r_()}).bind("mouseenter.tracking click.tracking",function(){_i_("269:13042655"),a.trackGoals(a.GOAL_HOVER_THUMB),_r_()}),a.container.on("mouseenter.pause","div.hp-gallery-thumbs",function(){_i_("269:895ab4b3"),a.gallery.slick("slickSetOption","autoplaySpeed",1e7),a.gallery.slick("slickPause"),_r_()}).on("mouseleave.pause","div.hp-gallery-thumbs",function(){_i_("269:eb039802"),a.gallery.slick("slickSetOption","autoplaySpeed",f.env.hp_gallery_autoplay_speed),a.gallery.slick("slickPlay"),_r_()}),a.emitter.on(f.hotel.Events.ReviewFloater.MOUSE_ENTER,function(){_i_("269:ca6cb989"),a.gallery.slick("slickSetOption","autoplaySpeed",1e7),a.gallery.slick("slickPause"),_r_()}),a.emitter.on(f.hotel.Events.ReviewFloater.MOUSE_LEAVE,function(){_i_("269:e8185af0"),a.gallery.slick("slickSetOption","autoplaySpeed",f.env.hp_gallery_autoplay_speed),a.gallery.slick("slickPlay"),_r_()}),_r_()},bindEmitterEvents:function(e){_i_("269:ff4d7601");this.emitter.on("main-tab-opened",function(){_i_("269:c3474a1f"),e&&e.setPosition(),_r_()}),_r_()},highlightThumb:function(e,t){_i_("269:e69c2224");var i=this;if(p('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length&&!t)return _r_();i.thumbs.filter("."+i.CLASS_SELECTED_THUMB).removeClass(i.CLASS_SELECTED_THUMB),e&&i.thumbs.filter('[data-photoid="'+e+'"]').addClass(i.CLASS_SELECTED_THUMB),_r_()},getThumb:function(e){_i_("269:d668216c");var t=this.gallery.slick("getSlick").$slides.eq(e).attr("data-photoid");if(t)return _r_(this.thumbs.filter('[data-photoid="'+t+'"]'));_r_()},updatePhotosViewed:function(e){_i_("269:90db9359");void 0!==typeof e&&-1===p.inArray(e,this.photosViewed)&&this.photosViewed.push(e),this.trackGoals(this.GOAL_VIEW_ALL_PHOTOS),_r_()},setupCounter:function(){_i_("269:bf7bdc09");var e=this;e.counter.length&&e.counter.find("span."+e.CLASS_COUNTER_CURRENT).text(e.initSlide+1).end().find("span."+e.CLASS_COUNTER_COUNT).text(e.totalSlides).end().removeClass(e.CLASS_HIDDEN),_r_()},updateCounter:function(e,t){_i_("269:fa254759");e&&this.counter.find("span."+this.CLASS_COUNTER_CURRENT).text(e),t&&this.counter.find("span."+this.CLASS_COUNTER_COUNT).text(t),_r_()},navigate:function(e,t){var i,n,r;_i_("269:f3e2d5ce"),t.hasAttribute("data-jumpto-photoid")&&(i=t.getAttribute("data-jumpto-photoid"),n=e.slides.filter('[data-photoid="'+i+'"]'),r=e.gallery.slick("getSlick"),e.gallery.slick("slickSetOption","speed",e.fadeSpeedOnHover),e.gallery.slick("slickGoTo",r.$slides.index(n.get(0)))),_r_()},trackGoals:function(e,t){_i_("269:1a471896");var i=this;switch(e){case i.GOAL_CLICK_NAVIGATION:n||(i.emitter.trigger(i.GOAL_CLICK_NAVIGATION),n=!0),f.env.b_save_user_hotel_interactions?f.require("hotel/track/goals_sort_hotel_history").track(i.GOAL_CLICK_NAVIGATION):i.nav.unbind("click.tracking");break;case i.GOAL_VIEW_ALL_PHOTOS:i.trackedPhotosViewed||i.photosViewed.length!==i.totalSlides||(i.emitter.trigger(i.GOAL_VIEW_ALL_PHOTOS),i.trackedPhotosViewed=!0);break;case i.GOAL_HOVER_THUMB:r||(i.emitter.trigger(i.GOAL_HOVER_THUMB),r=!0),f.env.b_save_user_hotel_interactions?f.require("hotel/track/goals_sort_hotel_history").track(i.GOAL_HOVER_THUMB):i.thumbs.unbind("mouseenter.tracking click.tracking");break;default:i.trackingelem.trigger(e,t)}_r_()},parseTrackOption:function(e){if(_i_("269:c14cbf36"),"string"===p.type(e)&&(e=p.trim(e)).length){var t,i,n=e.match(/^(.+)(__|:)([1-9])$/),r=e;return n&&(":"===n[2]?i=n[3]:t=n[3],r=n[1]),_r_({hash:r,customGoal:t,stage:i})}return _r_(e)},trackSlideView:function(){_i_("269:cffb62b1");var e,t=this.activeSlide.data("track-slide-view"),i=[];if(t){i=p.trim(t).split(",");for(var n=0;n<i.length;n++)(e=this.parseTrackOption(i[n])).stage?f.et.stage(e.hash,e.stage):e.customGoal?f.et.customGoal(e.hash,e.customGoal):f.et.track(e.hash)}_r_()},run:function(){_i_("269:47280413");var e=this;e.initTimer=s.setTimeout(function(){_i_("269:40de2691"),e.gallery.slick(e.options),_r_()},0),_r_()}};return _r_({init:function(e){_i_("269:632039ff"),t.setup(e),_r_()},slick:null})}(),p(function(){_i_("269:c8cc0254");var e=p("div.hp-gallery-container");e.length&&f.hotel.Gallery.init(e),_r_()}),_r_()}(window,window.booking),function(){_i_("269:60b72253");var e,t,i,n,r,_=window.booking,o=_.require("jquery"),a=_.require("events"),s=1e4,l=!1,c=2<=o(".hp_floater_popout, .reviews-carousel").length,d=function(){if(_i_("269:15fc9d18"),!c)return _r_();var e=o(window).width(),t=_.env.b_lang;return _r_("zh"!==t&&1504<=e||"zh"===t&&1532<=e)};function h(e){(_i_("269:e9843f79"),t)&&(d()?t.removeClass("g-hidden"):e&&e.currentSlide+1===e.slideCount?t.addClass("g-hidden"):t.removeClass("g-hidden"));_r_()}function u(e,t,i){_i_("269:306c0e4f");var n=o(this);t&&t.slideCount===i+1?function(e){_i_("269:d7948d76"),a.emit(_.hotel.Events.Gallery.ON_CTA_SLIDE),e.slick("slickPause"),"hotel"===_.env.b_action&&"www"===_.env.b_site_type&&(l=setTimeout(function(){_i_("269:849ff4dd"),f(e),e.slick("slickNext"),_r_()},s));_r_()}(n):l&&f(n),_r_()}function f(e){_i_("269:2efc8692"),a.emit(_.hotel.Events.Gallery.OFF_CTA_SLIDE),l&&(clearTimeout(l),l=!1),e.slick("slickPlay"),_r_()}function p(e){_i_("269:49839489");var t=r?"a[name=availability]":"#available_rooms";o("html").animate({scrollTop:o(t).offset().top},500),_r_()}o(function(){_i_("269:c7ffa707"),r=!_.env.b_has_valid_dates,e=o("div.hp-gallery"),i=e.find(".hp-gallery-slides"),t=e.find(".hp-gallery-review"),n=i.find(".js-gallery__last-item"),_i_("269:6a267f69"),n.length&&(i.bind("afterChange",u),n.length&&o(".js-gallery__last-item__cta").bind("click",p)),c&&(i.bind("afterChange",function(e,t){_i_("269:9b75212a"),h(t),_r_()}),o(window).resize(function(){_i_("269:7e5a9c73");var e=_&&_.hotel&&_.hotel.Gallery&&_.hotel.Gallery.slick;e&&h(e),_r_()})),_r_(),_r_()}),_r_()}(),function(l,c){_i_("269:a58ffb0d"),c(function(){_i_("269:c2d9eca1"),c("#photo_wrapper").on("click",".gallery-info__rn,.gallery-info__fc,.gallery-info__um",function(e){_i_("269:9d794af5");var t=c(e.target);e.stopPropagation(),t.data("stopPropagation")&&e.stopPropagation(),t.data("triggerEvent")&&setTimeout(function(){_i_("269:52e1c8b3"),String(t.data("triggerEvent")).split(/ +/).forEach(function(e){_i_("269:ce981e2a"),l.events.emit(c.trim(e)),_r_()}),_r_()},0);var i,n=t.parents(".slick-slide"),r=n.data("room-id"),_=n.data("is-group-recommendation"),o=l.env.b_hp_sticky_offset||0;if(!r)return _r_();if(_?i=c(".hp-group_recommendation__title"):(l.env.is_rooms_table_rewrite?o=c(".hprt-table").find("> thead:not(.sticked-placeholder)").height()||30:o+=c(".roomstable").find("> thead:not(.sticked-placeholder)").height()||30,i=c('a[name="RD'+r+'"]')),!i.length)return _r_();if(!_){var a=c("[name=RD"+r+"]").parents(".hprt-table-cell").first(),s="roomType--highlight hprt-table-cell-roomtype--active";c(".hprt-table").find(".hprt-table-cell.-first").removeClass(s).removeClass("roomType--highlight"),a.addClass(s)}c("html, body").animate({scrollTop:i.offset().top-o},1e3),_r_()}),_r_()}),_r_()}(window.booking,window.jQuery),function(){_i_("269:bb3f7ff7");var n=B.require("jquery"),r="hp-gallery-navigation-link--selected",e=n(".hp-gallery-navigation");if(0<e.length){var _=n(".hp-main-gallery-wrapper"),o=e.find(".hp-gallery-navigation-link");e.on("click",".hp-gallery-navigation-link",function(e){_i_("269:cffb9952"),e.preventDefault();var t=this,i=n(this).data("toggle");o.filter(function(){return _i_("269:ee8f9911"),_r_(!n(this).is(t))}).removeClass(r),n(this).addClass(r),_.filter(function(){return _i_("269:93780bde"),_r_(!n(this).hasClass(i))}).hide(),_.filter(function(){return _i_("269:9ba9c282"),_r_(n(this).hasClass(i))}).show(),_r_()})}_r_()}(),function(b){_i_("269:2af50edd");var m=b.require("jquery");m(function(){_i_("269:f66de87a");var _=0,e=[],t=m(".reviews-carousel"),i=t.find(".reviews-carousel-scroll"),o=t.find(".althotelsDiv2"),n=m(".large_image_slider"),a=b.require("events"),s=o.length-1,r=!1,l=!1;function c(){_i_("269:2603cf95"),i.css(b.env.rtl?{"margin-right":(e[_]||0)+"px"}:{"margin-left":(-1*e[_]||0)+"px"}),_r_()}function d(){_i_("269:fcd59aa9"),b.env.hp_reviewFloaterLoaded=!0,a.trigger(b.hotel.Events.ReviewFloater.LOADED),_r_()}var h=function(){_i_("269:4f9782ac"),_i_("269:bda58568"),e=[],o.each(function(){_i_("269:5171b6ba"),e.push(m(this).position().left),_r_()}),_r_(),(e.length<=1||1<e.length&&0!==e[1])&&(h=function(){}),_r_()};if(window.location.hash&&/tab\-reviews|tab\-4/.test(window.location.hash))a.on("main-tab-opened",function(){_i_("269:b39cbf01"),1<e.length&&0===e[1]&&(h(),c(),d()),_r_()});else{var u=function(){_i_("269:57379d01"),o.is(":visible")?(h(),c(),d()):setTimeout(u,200),_r_()};0<o.length&&setTimeout(u,200)}var f=function(e){_i_("269:c6a7696c");var t=_,i="right";e&&"currentTarget"in e?m(e.currentTarget).hasClass("reviews-carousel-control-left")&&(i="left"):e&&!e[0]&&(i="left"),_="left"===i?0===_?s:_-1:_===s?0:_+1;var n=o.eq(t),r=o.eq(_);n.css({opacity:0}),r.css({opacity:1}),h(),c(),a.trigger(b.hotel.Events.ReviewFloater.SLIDE,[i,_,s]),_r_()};t.bind("mouseenter",function(e){_i_("269:8ad80fe6"),l=!0,a.trigger(b.hotel.Events.ReviewFloater.MOUSE_ENTER,[e]),_r_()}).bind("mouseleave",function(e){_i_("269:1898c88b"),l=!1,b.env.is_bh_property_page||(r=!1),a.trigger(b.hotel.Events.ReviewFloater.MOUSE_LEAVE,[e]),_r_()}),t.delegate(".reviews-carousel-control","mouseover",function(e){_i_("269:46666e33"),e.stopPropagation(),l||b.env.is_bh_property_page||(r=!0),n.hide(),m(e.currentTarget).addClass("reviews-carousel-hover"),_r_()}).delegate(".reviews-carousel-control","mouseleave",function(e){_i_("269:af2a6c31"),m(e.currentTarget).removeClass("reviews-carousel-hover"),_r_()}).delegate(".reviews-carousel-control","keypress",function(e){_i_("269:8bd70e0b"),0!==e.keyCode&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),m(e.currentTarget).trigger("click")),_r_()}).delegate(".reviews-carousel-control","click",f),a.on(b.hotel.Events.ReviewFloater.FORCE_SLIDE,function(e){_i_("269:256c1675"),r||f(e),_r_()});var p=m(".js-hotel-review-score");p.on("focus",function(){_i_("269:bbd72be8"),p.trigger("mouseenter"),_r_()}),p.on("blur",function(){_i_("269:99866180"),p.trigger("mouseleave"),_r_()}),_r_()}),_r_()}(window.booking),function(){if(_i_("269:1491c6cf"),!B.env.b_run_hp_fixed_review_height)return _r_();var e=$("#reviewFloater, #ph-reviewFloater, #under-gallery-reviews"),t=e.find(".althotelsReview2 span, .js-fixed-height-review");t.each(function(){_i_("269:ae14bc07");var e=$(this),t=parseInt(e.css("height")),i=85,n=100,r=e.attr("data-resize-only-if-higher")||!1;e.css("height","auto"),e.css("max-height","none"),t!==e.height()&&(n=i=t);var _,o,a=$.trim(e.text()),s=e.height();i<s&&(o=s/i,(_=(a=a.slice(0,Math.floor(a.length/o))).match(/(\w+)\s/g))&&(_=_.slice(-1)[0],a=a.slice(0,a.lastIndexOf(_)+_.length)),e.text(a+"…")),(!r||i<s)&&e.css("height",n+"px"),_r_()}),e.removeClass("fixed_review_container_not_ready"),_r_()}(),function(n){_i_("269:95138706");var t=n.require("jquery"),i=!1;function r(){var e;if(_i_("269:c1fe85a3"),i)return _r_();4<t("#maxotel_rooms tbody tr").length&&(function(e){_i_("269:b330c044");var t=new e,i={};n.env.b_hp_sticky_offset&&(i.initialOffset=n.env.b_hp_sticky_offset);t.init("#maxotel_rooms thead","#maxotel_rooms",i),_r_()}(e=n.require("booking-sticker")),function(e){_i_("269:9a1c12c5");var t=new e,i={};n.env.b_hp_sticky_offset&&(i.initialOffset=n.env.b_hp_sticky_offset);t.init(".bookNowWrap","#bookNow1",i),_r_()}(e),n.events.on(n.hotel.Events.RT.ROOM_SELECTED,function(){_i_("269:5fa41ae0"),window.setTimeout(e.update,5),window.setTimeout(e.update,10),_r_()}),2===e.stickedElements.length&&(i=!0)),_r_()}n.when({events:"ready"}).run(function(e){_i_("269:2a35b376"),"hotel"===n.env.b_action&&n.env.b_bookings_owned&&n.env.b_has_maxotel_rooms&&t("#maxotel_rooms").length&&(r(),_i_("269:f2f78cb8"),n.events.on("main-tab-opened",function(){_i_("269:42fb8c83"),i||r(),_r_()}),_r_()),_r_()}),_r_()}(booking),_i_("269:91ad3e18"),B.when({events:"ready"}).run(function(e){_i_("269:c101a57d");var l=e("jquery");({priority:2,urg_msgs:{},init:function(){_i_("269:19d3ddc7");var e=!1,t=this;_i_("269:58bb16e4"),e=!1,l(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function(){_i_("269:2fb39ad1"),0!=parseInt(l(this).val())&&(e=!0),_r_()}),e?l("#bookNow1 .book_now_best_price_reinforcement").show():l("#bookNow1 .book_now_best_price_reinforcement").hide(),_r_(),l(".b_available_multi_room_price, .b_available_multi_room_price_single").change(function(){_i_("269:8ec3e22a"),e=!1,l(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function(){_i_("269:848b0740"),0==parseInt(l(this).val())||l(this).hasClass("free_cancellation_trigger")||(e=!0),_r_()}),e?(l("#bookNow1 .book_now_best_price_reinforcement").show(),l("#book_now_free_cancellation_reinforcement").hide()):l("#bookNow1 .book_now_best_price_reinforcement, #mbnbb div.book_now_best_price_reinforcement").hide(),t.getFilterPrice(this),_r_()});var i=this;l(".b_available_multi_room_price_single").change(function(){_i_("269:9df02662"),i.updateUrgencyMsg(this,"room_single"),_r_()}),l(".b_available_multi_room_price").change(function(){_i_("269:272e0baf"),i.updateUrgencyMsg(this,"room_double"),_r_()}),_r_()},getFilterPrice:function(){if(_i_("269:e3f29fce"),l("#pr_filter").length&&l("#pr_filter_range").length){var e=l("#pr_filter").val();if(-1<e.indexOf(",")){var t=e.split(",")[0],i=e.split(",")[1];l("#pr_filter_range").val("0"),isNaN(t)||isNaN(i)||l("select.b_room_selectbox").each(function(){if(_i_("269:b49d7828"),0<l(this).val()){var e=parseInt(l(this).attr("data-price-avg-filter").replace(/[^0-9.]/g,""));e>=parseInt(t)&&e<=parseInt(i)&&l("#pr_filter_range").val("1")}_r_()})}}_r_()},updateUrgencyMsg:function(e,t){_i_("269:92924115");var i,n=e.getAttribute("data-relid"),r=l("#"+n);if(0!==r.length){var _,o;_=o=parseInt(e.value,10),r.attr("data-meta")||r.attr("data-meta",r.html()),void 0!==this.urg_msgs[n]?"room_single"===t&&this.urg_msgs[n].room_double?_+=parseInt(this.urg_msgs[n].room_double,10):"room_double"===t&&this.urg_msgs[n].room_single&&(_+=parseInt(this.urg_msgs[n].room_single,10)):this.urg_msgs[n]={},this.urg_msgs[n][t]=o;var a=parseInt(e.getAttribute("data-roomsleft"),10)-_;if(a<=0)r.fadeOut();else{if(a==l("option",e).length-1&&r.attr("data-meta"))var s=r.attr("data-meta");else s=booking.env.x_left_rate[a-1],(i=r.attr("data-um-trans"))&&a&&("persuasion_hp_high_demand"==i||"persuasion_hp_high_demand_compliant"==i)&&(s=B.jstmpl.translations(i,a,{num_room:a,amountRooms:a,num_left:a}));r.hide().html(s).fadeIn("slow")}}_r_()}}).init(),_r_()}),_r_(),function(_){_i_("269:1085c376"),_.when({events:"ready"}).run(function(e){_i_("269:0ed793ef");var i=e("jquery"),n=e("et"),r=i(".js--jackpot-msg");_.events.on("HP:RT:RoomSelectChanged",function(e){var t;if(_i_("269:f2257d2a"),e&&e.totalSelectedRooms&&e.originalEvent&&e.originalEvent.target&&(t=i(e.originalEvent.target).attr("data-rc")),!t)return _r_();r.length&&(n.track_experiment("d_pd_hp_rt_remove_jackpot_step3")||(1<t?_.env.b_less_shouty_persuasion?r.text(_.jstmpl.translations("dd_hp_rt_noshout_hp_rt_jackpot_best_price")):r.text(_.jstmpl.translations("hp_rt_jackpot_best_price")):_.env.b_dehotelized_scarcity_messages?r.text(_.jstmpl.translations("bh_fun_scarcity_mup_jackpot_dehotelize")):_.env.b_hide_scarcity_messages||r.text(_.jstmpl.translations("hp_rt_jackpot_last_room")))),_r_()}),_r_()}),_r_()}(booking),function(){_i_("269:410dffff");var e,o,a,s,t,i,l=B.require("jquery");function n(e){_i_("269:5809f3d4");var t=o.filter(function(){return _i_("269:8d30ea68"),_r_("0"!==l(this).val())});if(1===t.length){var i=t.parents('tr[class^="room_loop_counter"]').find(".destination_budgets_notification_container div");i.length&&e.push(i.text())}if(e){var n,r="",_=e.length;for(n=0;n<_;n++)""!==l.trim(e[n])&&(r+="<li><span>"+e[n]+"</span></li>");s.html(r),a.addClass("show")}else s.empty(),a.removeClass("show");_r_()}function r(e){if(_i_("269:bb52d524"),1===function(e){_i_("269:134edd50");for(var t={},i=[],n=0,r=e.length;n<r;++n){if(t.hasOwnProperty(e[n]))continue;i.push(e[n]),t[e[n]]=1}return _r_(i)}(e).length)return _r_(!0);return _r_(!1)}function _(){_i_("269:b57ef853");var e,t,i=o.filter(function(){return _i_("269:636f9756"),_r_("0"!==l(this).val())});1===i.length?(e=i.parents('tr[class^="room_loop_counter"]').find("ul.hp-rt__policy-list")).length&&(s.html(e.html()),s.find(".jq_tooltip").removeClass("jq_tooltip").removeAttr("data-title title"),s.find(".g-hidden").removeClass("g-hidden"),(t=s.find(".green_condition")).length&&t.removeClass("green_condition"),a.addClass("show")):(s.empty(),a.removeClass("show")),_r_()}function c(){if(_i_("269:0fb5b13b"),o.filter(function(){return _i_("269:636f97561"),_r_("0"!==l(this).val())}).length){var t=[];o.filter(function(){return _i_("269:9accd100"),_r_("0"!==l(this).val())}).each(function(){_i_("269:1e61a56f");var e=l(this).parents('tr[class^="room_loop_counter"]').find(".ico_policy_info > span").text();t.push(e),_r_()}),r(t)?n((e=t[0],_i_("269:bcaa0182"),_r_(l.grep(e.split("•"),function(e){return _i_("269:d5a93ba0"),_r_(""!==e)})))):n()}else n();var e;_r_()}l(function(){_i_("269:31ea33a4"),_i_("269:b6c87c14"),e=l("#maxotel_rooms.conditions_summary"),o=e.find(".b_room_selectbox"),a=e.find("div.rt_conditions_summary"),s=l("#rt_conditions_summary_list"),t=e.find("ul.hp-rt__policy-list"),i=t.length?_:c,_r_(),l("#rooms_table").on("change",".b_room_selectbox",function(e){_i_("269:9d05a71c"),i(),s.loadComponents(),B.events.trigger("HP:RT:RoomSelectChanged",{originalEvent:e,totalSelectedRooms:[].slice.call(o,0).reduce(function(e,t){return _i_("269:bc6d0d33"),_r_(+t.value+e)},0)}),_r_()}),_r_()}),_r_()}(),function(){_i_("269:ed18e4f3");var t,i=window.booking,n=i.require("jquery"),e="rt__room-selection--not-selected",r=!1;function _(){_i_("269:3306159e"),t.addClass(e),r=!0,_r_()}function o(){_i_("269:4e49a7ac"),r&&(t.removeClass(e),r=!1),_r_()}i.when({events:"ready"}).run(function(e){if(_i_("269:4be18a3d"),!i.env.b_has_maxotel_rooms)return _r_();t=n(".roomMultiRoomPrice"),_i_("269:77d5061e"),i.events.on(i.hotel.Events.RT.ROOM_SELECTED,o),i.events.on(i.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT,_),_r_(),_r_()}),_r_()}(),function(){_i_("269:d1b49d7b");var e=window.booking,t=e.require("jquery");function i(){_i_("269:4ab4e9eb"),_i_("269:eebb473d"),_r_(!t(".b_room_selectbox").find("option:selected").filter("[value!=0]").length)&&e.events.emit(e.hotel.Events.RT.NO_ROOM_SELECTED),_r_()}e.when({events:"ready"}).run(function(e){_i_("269:af7e2b36"),t("#rooms_table").on("click",".js-rt__summary__reserve-button",i),_r_()}),_r_()}(),B.when({events:"ready"}).run(function(e){_i_("269:76c09dfb");var n=e("jquery");n("#rooms_table").on("change",".b_room_selectbox",function(){_i_("269:fa60c42e");var e=n(this),t=e.find(":selected"),i={room_id:e.data("roomid"),roomrate_id:e.data("roomrateid"),block_id:e.data("block-id"),price:e.data("price"),raw_total_price:t.attr("data-price-raw"),formatted_total_price:t.attr("data-price-without-addons"),no_rooms:e.val(),max_adults:e.closest("tr").find(".roomMaxPersons").attr("data-occupancy-for-tracking"),has_genius_rate:e.data("has-genius-rate"),has_a_deal:e.data("has-a-deal"),$el:e};booking.events.emit(booking.hotel.Events.RT.ROOM_SELECTED,i),_r_()}),_r_()}),function(){_i_("269:3d0a15b2");var s=B.require("jquery");B.when({events:"ready"}).run(function(e){_i_("269:23b81704");var t=s("#rooms_table"),i=t.find(".hprt-container");if(1==i.find(".hprt-table-column tr[data-block-id]").length){var n=i.find(".hprt-table-column .hprt-table-cell.-first"),r=i.find(".hprt-reservation-summary-col .hprt-block"),_=r.height();n.height()<_&&n.length&&r.length&&n.height(Math.min(_,300))}if(!s("#maxotel_rooms.hp_rt_cleanup").length)return _r_();var o=s("#bookNow1"),a=t.find(".b_room_selectbox");t.on("change",".b_room_selectbox",function(){_i_("269:6ca48919");var e=a.filter(function(){return _i_("269:131bcd441"),_r_(0!=s(this).val())});s(this).hasClass("b_available_multi_room_price_single")&&(0<this.value?s("#roomsForm").append('<input type="hidden" value="1" name="is_single_occ" id="is_single_occ">'):s("#is_single_occ").remove()),e.length?fminit(o):fminit(o,!0,"#fff",[255,255,255],[255,255,255]),_r_()}),_r_()}),_r_()}(),function(e){_i_("269:605ca002");var t=e.require("jquery");t(function(){_i_("269:4af5b8a9"),t("#rooms_table").on("submit","#roomsForm",validate),_r_()}),_r_()}(window.booking),_i_("269:c12c15fd"),B.when({events:"ready"}).run(function(e){_i_("269:60633410");var s=B.require("jquery"),a=s("#maxotel_rooms"),l=a.find(".b_room_selectbox"),c=a.find("#booking-summary"),d=0,h=a.find(".rt_pricedetails_above_button"),u={active:!1,str:""},t={calculate:function(){_i_("269:b5de95ae");var i,n,e,r=0,_=0,o=new RegExp((e=".",_i_("269:05f4bb09"),_r_(e.replace(".","\\."))+"[0-9]{1,3}$")),a=[];return l.each(function(){if(_i_("269:459d835d"),i=s(this).find("option:selected"),parseInt(i.val(),10)){var e=i.parent().attr("data-rtid"),t=29==(d=e?parseInt(e,10):0)||31==d||1==d||17==d||19==d||26==d;t||(d=0),a.length?s(a).each(function(e){_i_("269:f52a4097"),a[e]!=d&&a.push(d),_r_()}):a.push(d),t?(u.active=!0,u.str={29:"hh",31:"villa",1:"apt",17:"chalet",19:"bungalow",26:"bed"}[d]):(u.active=!1,u.str="")}r+=parseInt(i.val(),10),parseInt(i.val(),10)&&(n=i.data("price-raw").toString())&&(o.test(n)?_+=parseFloat(n):_+=parseInt(n,10)),_r_()}),1<a.length&&(u.active=!1),booking.env.no_rooms_selected=r,_r_({count:r,totalPrice:_})},updateColumn:function(){_i_("269:be9d17ca");var e,t,i=this.calculate(),n=10<i.count?a.data("translation-10"):a.data("translation-"+i.count),r=s("#availability_target").find(".ar_notice");if(i.count){if(i.count<11&&u.active&&a.data("translation-"+u.str)){var _=10<i.count?a.data("translation-10"):a.data("translation-"+u.str),o=_?_.replace(/'/g,'"'):"";n=s.parseJSON(o)["count-"+i.count]}n=n.replace(/\d+/,"<strong>"+i.count+"</strong>"),e=booking.utils.accounting.formatMoney(i.totalPrice),t={price:e,nr_rooms:i.count,rawPrice:i.totalPrice},B.events.emit(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,c,t),c.find(".total-price").html(e).end().find(".rooms-count").html(n).end().fadeIn(function(){_i_("269:2a48cc87"),setTimeout(function(){_i_("269:7feb72df"),B.events.emit(B.hotel.Events.RT.SUMMARY_CHANGE,c,t),_r_()},1),booking.events.trigger("change:bookNowHeight"),_r_()}),booking.events.trigger("booking-summary-room-selected"),r.length&&r.addClass("bold")}else c.hide(),h.removeClass("show"),booking.events.trigger("change:bookNowHeight"),booking.events.trigger("booking-summary-room-not-selected"),setTimeout(function(){_i_("269:e2541881"),B.events.emit(B.hotel.Events.RT.SUMMARY_HIDE,c),_r_()},1),r.length&&r.removeClass("bold");_r_()}},i=B.env.b_run_hp_booking_summary?s.proxy(t.updateColumn,t):Function();i(),a.filter(".booking_summary").delegate(".b_room_selectbox","change",function(){_i_("269:47e8a793"),i(),_r_()}),s("#roomsForm").bind("submit",function(){if(_i_("269:8f201ef3"),l.filter(function(){if(_i_("269:a216847f"),0!=s(this).val())return _r_(!0);return _r_(!1)}).length){var e=l.filter(function(){if(_i_("269:fe9d9714"),0!=s(this).val())return _r_(!0);return _r_(!1)}),t=l.filter(function(){return _i_("269:32947e09"),_r_(0==this.value)});return 20<l.length&&t.slice(20-e.length).remove(),_r_(!0)}_r_()}),_r_()}),_r_(),B.when({events:"ready"}).run(function(e){_i_("269:8d72bb56");var t=e("jquery");t("#rooms_table").on("click","#rm_cond_link",function(){_i_("269:14770190"),t("#maxotel_table_header #conditions_info").show(),fminit(t("#maxotel_rooms .ratepolicy"),!0,"transparent"),_r_()}),_r_()}),function(){_i_("269:9db4ca42");var d=B.require("jquery");B.when({events:"ready"}).run(function(e){_i_("269:5d757561"),{priority:2,elementSelector:"select.limited_rooms",maxRooms:{},init:function(){if(_i_("269:38853c3b"),"hotel"!==B.env.b_action&&!B.env.b_has_maxotel_rooms)return _r_();this.bindSelectors(),_r_()},bindSelectors:function(){_i_("269:fbb47f0a"),this.$selects=d(this.elementSelector),this.$selects.length&&(this.getOccupancy(),this.attachEvents()),_r_()},attachEvents:function(){_i_("269:5c7e881c"),B.events.on(B.hotel.Events.RT.ROOM_SELECTED,this.occupancyHandler.bind(this)),_r_()},occupancyHandler:function(e){if(_i_("269:4ea95e1d"),!e.$el.is(this.elementSelector))return _r_();var t=e.$el,i=t.attr("id");this.maxRooms[i]?this.changeOccupancy(t):this.getOccupancy(t),_r_()},changeOccupancy:function(e){if(_i_("269:48de4d0c"),!e||!e.length)return _r_();var t,i,n=e.data("roomid"),r=this.maxRooms[n].max,_=0;for(t in this.maxRooms[n].items)"0"!==(i=d("#"+t).val())&&(_+=parseInt(i,10));var o=r-_;for(t in this.maxRooms[n].items){var a=d("#"+t),s=0;i=a.val(),a.find("option").each(function(){_i_("269:18a11c37"),s>o+parseInt(i,10)?this.disabled=!0:this.disabled=!1,s++,_r_()})}var l=d("#"+n+" .only_x_left");if(l.length){var c="";l.attr("data-meta")||l.attr("data-meta",l.text()),o==r?c=l.attr("data-meta"):booking.env.x_left_room[o-1]&&(c=booking.env.x_left_room[o-1]),o<6&&l.hide().html(c).fadeIn("slow")}_r_()},getOccupancy:function(e){_i_("269:191230f0");var _=this;this.$selects.each(function(){_i_("269:1926f28a");var e=d(this),t=e.data("roomid"),i=e.attr("id");if(_.maxRooms[t])_.maxRooms[t].items[i]=e.clone();else{var n=e.find("option").length-1,r=_.maxRooms[t]={};r.max=n,r.items={},r.items[i]=e.clone()}_r_()}),e&&this.changeOccupancy(e),_r_()}}.init(),_r_()}),_r_()}(),function(){_i_("269:9566529d");var i=window.booking,n=i.require("jquery"),r=n("#roomsForm select.js-b_room_selectbox"),_=i.components&&n("html").component("keyboard"),o=function(){return _i_("269:bcab12c0"),_r_(r.filter(function(){return _i_("269:10bf9bf8"),_r_(0==this.value)}))},a=function(){_i_("269:9eee55ab");var e=o();e&&e.prop("disabled",!1),_r_()};i.when({events:"ready"}).run(function(e){var t;if(_i_("269:079c3e83"),"www"!==i.env.b_site_type)return _r_();n("#rooms_table").on("submit","#roomsForm",function(){_i_("269:f274bdb8"),_i_("269:7afe1b2b"),(t=_r_(r.filter(function(){return _i_("269:9e8aac2b"),_r_(0!=this.value)})))&&t.length&&(o().prop("disabled",!0),_.on("keyup:Escape",a)),_r_()}),n(window).on("pageshow",function(e){_i_("269:c2230ae6"),e.originalEvent.persisted&&a(),_r_()}),a(),_r_()}),_r_()}(),function(n){"use strict";_i_("269:590fec49");var r=n.require("jquery");n.when({events:"ready"}).run(function(e){_i_("269:5e7caf62"),r(".js--hp-rt-just-booked").add(".js--hp-rt-recently-booked").each(function(e,t){_i_("269:17b0bbc7");var i=r(t);n.tools.dom.watchIfBlockVisibleInViewport(i,function(){_i_("269:a20f12c4"),i.addClass("fadeIn"),_r_()}),_r_()}),_r_()}),_r_()}(booking),B.when({events:"ready"}).run(function(e){_i_("269:0e590f5f");var n=e("jquery"),r=e("events");n("#rooms_table").on("click",".rt-show-more-facilities",function(e){_i_("269:709c2d72"),e.preventDefault();var t=n(this),i=t.parent().prev();i.toggle("fast",function(){_i_("269:08b1a3fd"),i.is(":visible")?t.text(B.jstmpl.translations("hp_rt_info_collapse")):t.text(B.jstmpl.translations("hp_rt_loc_more")),r.trigger("ROOM_TABLE:resize"),_r_()}),_r_()}),_r_()}),B.define("formatting/distance",function(e,t,i){_i_("269:ac3fef91");var _={km:1,m:1e3,cm:1e5,mi:.621371192,yd:1093.6133,in:39370.0787,ft:3280.8399,min:12},o={default:{unit_size:"large",unit_type:"distance",round:!1},auto:function(e,t){return _i_("269:8459bbf5"),_r_({unit_size:t>{imperial_gb:1/_.mi,imperial_us:1/_.mi,metric:1}[e]?"large":"tiny",unit_type:"distance",round:!1})},short_distance:{unit_size:"tiny",unit_type:"distance",round:!1},height:{unit_size:"tiny",unit_type:"height",round:!0},distance_rounded:{unit_size:"tiny",unit_type:"distance",round:!0},walking_time:{unit_size:"large",unit_type:"distance",round:!0}},a={distance:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},tiny:{metric:"m",imperial_us:"ft",imperial_gb:"yd"}},length:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},medium:{metric:"m",imperial_us:"ft",imperial_gb:"yd"},small:{metric:"cm",imperial_us:"in",imperial_gb:"in"}},height:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},tiny:{metric:"m",imperial_us:"ft",imperial_gb:"ft"}}};function s(e,t){return _i_("269:7d457b7f"),_r_(Math.ceil(t/e)*e)}return _r_({localize_distance:function(e){_i_("269:7f920f47");e="object"!=typeof e?{distance:e}:e;var t,i=function(e){if(_i_("269:1e26bf83"),"ca"==e.country&&"en"==e.language)return _r_("imperial_us");return _r_("gb"!=e.country&&"us"!=e.country||"en"!=e.language?"metric":"imperial_"+e.country)}(e=$.extend({distance:0,format:"default",language:B.env.b_lang,country:B.env.b_guest_country},e)),n=o[e.format]instanceof Function?o[e.format](i,e.distance):o[e.format];t="walking_time"==e.format&&e.distance<=1.25?"min":a[n.unit_type][n.unit_size][i];var r=e.distance*_[t];return n.round&&(r=Math.ceil(r)),"en"==e.language&&"distance"==n.unit_type&&t=={gb:"yd",us:"ft"}[e.country]&&10<r?r=s(50<r?50:10,r):"auto"==e.format&&("tiny"==n.unit_size&&10<r?r=s(50<r?50:10,r):"large"==n.unit_size&&(r=s(5<r?1:.1,r))),r%1&&(r=parseFloat(r.toFixed(1))),_r_([B.jstmpl.fn.format_number_decimal(r).trim()," ",t].join(""))}})}),B.define("generic-loading-overlay",function(e,t,i){_i_("269:651b625f");var n=e("jstmpl"),r=e("jquery"),_="c-generic-loading-overlay-holder";booking.jstmpl("generic_loading_overlay",function(){_i_("269:206dd58f");var n=['\n<div class="c-generic-loading-overlay">\n    <div class="bui-card">\n        <div class="bui-card__content">\n            <div class="c-generic-loading-overlay__content">\n                <div aria-label="Label" class="bui-spinner bui-spinner--size-large c-generic-loading-overlay__spinner" role="alert" aria-busy="true">\n                    <div class="bui-spinner__inner"></div>\n                </div>\n            </div>\n            <div class="c-generic-loading-overlay__message">\n                ',"\n            </div>\n        </div>\n    </div>\n</div>\n"],r=["fe_message"];return _r_(function(e){_i_("269:2a96cd0a1");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1]].join(""),_r_(t)})}());var o=r("<div/>",{id:_}),a=window.BUI.createInstance("Overlay");return a.state.lockClose=!0,a.mount(),_r_({open:function(e){_i_("269:1c52699f");var t=n("generic_loading_overlay").render({fe_message:e});document.getElementById(_)||o.appendTo(document.body),o.html(t),a.open(),r(a.overlayEl).addClass("c-generic-loading-overlay__overlay"),o.show(),_r_()},close:function(){_i_("269:1a3819b5"),o.empty(),a.close(),o.hide(),_r_()}})}),B.define("c360Tracker",function(){_i_("269:a8a62096");var n={},r=!1;_i_("269:3a0d520e"),n={page:{page_referrer:document.referrer,page_url:window.location.href,page_title:document.title},local:{currency:B.env.b_selected_currency}},_r_();var _={type:"object",properties:{action_name:{type:"string",description:"action name (ex. element viewed)"},action_version:{type:"string",description:"action version"},content:{type:"object",description:"content defined by the registered producer scheme"}}};function a(e,t){_i_("269:e5ccc3d2"),this.success=e,this.message=t,_r_()}return _r_({track:function(e){if(_i_("269:30978345"),null==e)return _r_("event object is null or empty");var t,i=new a(!0);if(r&&(i=function(e){_i_("269:c55e1d6c");var t=function e(t,i){if(_i_("269:88aae161"),null!=i.properties)for(var n=Object.getOwnPropertyNames(i.properties),r=0;r<n.length;r++){var _=n[r];if(null==t[_])return _r_(new a(!1,"property "+_+" is not defined"));if("object"==i.properties[_].type){var o=e(t[_],i.properties[_]);if(!1===o.success)return _r_(o)}}return _r_(new a(!0))}(e,_);return _r_(t)}(e)),!i.success)return _r_(i.message);t=e,_i_("269:e2e9726a"),t.context=n,t.tracker={tracker_name:"C360JSTracker",tracker_type:"Client",tracker_version:"0.1.0"},_r_($.ajax({url:"/c360/v1/track",type:"POST",data:JSON.stringify(t)})),_r_()}})}),B.define("hotel/rooms_table/lightbox/gallery",function(e,t,i){_i_("269:1592c204");var a=e("jquery"),_=e("events"),n=e("ga-tracker"),r=!1;function o(e,t){_i_("269:4363658f"),this.slick=null,this.container=e,this.gallery=null,this.slides=[],this.thumbs=[],this.nav=null,this.activeSlide=null,this.nextSlide=null,this.isOldIE="msie"===B.env.b_browser&&B.env.b_browser_version<10,this.toPhotoID=B.env.b_hp_tophotoid||0,this.initSlide=0,this.totalSlides=0,this.defaultFadeSpeed=B.env.hp_gallery_fade_speed,this.fadeSpeedOnHover=300,this.currentSlide=0,this.hoverTimer=0,this.initTimer=0,this.overrides={},this.options={},this.thumbs_options={},this.CLASS_THUMB="js-hotel-thumb",this.CLASS_SELECTED_THUMB="selected_thumb",this.CLASS_GALLERY_CONTROL="hp-gallery-control",this.CLASS_VISIBLE="visible",this.CLASS_HIDDEN="hp-gallery__hidden",this.photosViewed=[],this.setup(),this.initSlickEvents(),this.run(),_r_()}o.prototype.setup=function(){_i_("269:b7fa8b6d"),this.gallery=this.container.find('[data-gallery=""]'),this.slides=this.gallery.children().filter("div"),this.thumbs=this.container.find("a."+this.CLASS_THUMB),this.roomId=this.container.parents(".js-async-room-lightbox-container").data("room-id"),this.roomPhotoIds=[],this.nav=this.container.find("."+this.CLASS_GALLERY_CONTROL),this.totalSlides=this.slides.length,this.initSlide=this.toPhotoID?this.slides.index(this.slides.filter('[data-photoid="'+this.toPhotoID+'"]')):0,this.defaultFadeSpeed=this.isOldIE?0:B.env.hp_gallery_fade_speed,this.fadeSpeedOnHover=this.isOldIE?0:300,this.overrides={initialSlide:this.initSlide,speed:this.defaultFadeSpeed,nextArrow:this.nav.filter('[data-nav="next"]'),prevArrow:this.nav.filter('[data-nav="prev"]'),waitForAnimate:!1,autoplaySpeed:5e3},this.options=a.extend({},B.hotel.GallerySettings,this.overrides),_r_()},o.prototype.initCornerNavigation=function(){_i_("269:7637e40d");var r=this.container.find(".hp-gallery");B.env.is_rooms_table_splitter&&!r.length&&(r=this.container.find(".hprt-lightbox-gallery"));var _=this.container.find('[data-nav="next"]'),o=this.container.find('[data-nav="prev"]'),n=function(e){var t,i,n;if(_i_("269:4b965e94"),!e||!e.target)return _r_();if(a(e.target).is(".hp-gallery-control"))return _r_();t=this.container.width(),i=r.offset(),n=((e.pageX||e.originalEvent.touches[0].pageX)-(i?i.left:0))/t*100,B.env.rtl?70<=n?(_.removeClass("h"),o.addClass("h")):(_.addClass("h"),o.removeClass("h")):30<=n?(_.addClass("h"),o.removeClass("h")):(_.removeClass("h"),o.addClass("h")),_r_()}.bind(this);r.on("mousemove",n),r.on("click",function(e){_i_("269:a38314ee");var t=this.container.width(),i=r.offset();30<=((e.pageX||e.originalEvent.touches[0].pageX)-(i?i.left:0))/t*100?(B.env.is_rooms_table_splitter&&B.env.rtl?o.click():_.click(),setTimeout(function(){_i_("269:80bd2db5"),n(e),_r_()},50)):(B.env.is_rooms_table_splitter&&B.env.rtl?_.click():o.click(),setTimeout(function(){_i_("269:80bd2db51"),n(e),_r_()},50)),_r_()}.bind(this)),r.on("mouseout",function(){_i_("269:eaf9c100"),_.removeClass("h"),o.removeClass("h"),_r_()}),_r_()},o.prototype.pauseSlick=function(){_i_("269:67d4feef"),this.slick&&this.gallery&&this.gallery.slick&&this.gallery.slick("slickPause"),_r_()},o.prototype.playSlick=function(){_i_("269:556783bd"),this.slick&&this.gallery.slick&&(this.slick.windowWidth=0,setTimeout(function(){_i_("269:4b1b8136"),a(window).trigger("resize.slick"),_r_()},5),this.gallery.slick("slickPlay")),_r_()},o.prototype.initSlickEvents=function(){_i_("269:7d09eb88");var i=this.gallery,r=this.roomId;this.gallery.bind("init",function(e,t){_i_("269:132b3b18"),this.initControls(),this.updatePhotosViewed(this.initSlide),this.highlightThumb(t.$slides.eq(this.initSlide).attr("data-photoid")),B.env.b_run_hp_gallery_corner_navigation&&this.initCornerNavigation(),this.slick=t,setTimeout(function(){_i_("269:646e8772"),_.trigger(B.hotel.Events.RT.LIGHTBOX_GALLERY_READY,t,i),this.roomPhotoIds=i.find(".slick-slide").map(function(){return _i_("269:36436fc3"),_r_(String(a(this).data("photoid")))}).get(),_.trigger(B.hotel.Events.RT.ROOM_LIGHTBOX_GALLERY_PHOTOS_DISPLAYED,this.roomPhotoIds,r),_r_()},5),_r_()}.bind(this)).bind("beforeChange",function(e,t,i,n){_i_("269:c740db24"),this.activeSlide=this.slides.eq(i),this.nextSlide=this.slides.eq(n),"true"===this.nextSlide.attr("data-gallery-pause")?this.gallery.slick("slickPause"):this.gallery.slick("slickPlay"),this.updatePhotosViewed(n),this.highlightThumb(t.$slides.eq(n).attr("data-photoid")),_r_()}.bind(this)).bind("afterChange",function(e,t,i){_i_("269:039ce303");var n=t.$slides.eq(i).attr("data-photoid");_.trigger(B.hotel.Events.RT.ROOM_LIGHTBOX_GALLERY_NAVIGATED,n,i,r),_r_()}),this.gallery.on("setCurrentPhotoById",this.setCurrentPhotoById.bind(this)),_r_()},o.prototype.initControls=function(){_i_("269:0559e89f");var o=this,e=this.container.find('[data-nav="next"]'),t=this.container.find('[data-nav="prev"]');this.gallery.add(this.nav).bind("mouseenter",function(){_i_("269:2b578888"),o.nav.addClass(o.CLASS_VISIBLE),o.gallery.slick("slickSetOption","speed",o.fadeSpeedOnHover),o.gallery.slick("slickPause"),_r_()}).bind("mouseleave",function(){_i_("269:b64ab7d6"),o.nav.removeClass(o.CLASS_VISIBLE),o.gallery.slick("slickSetOption","speed",o.defaultFadeSpeed),o.gallery.slick("slickPlay"),_r_()}),this.nav.bind("click",function(){return _i_("269:77fcf4f9"),_r_(!1)}),this.thumbs.bind("mouseenter click",function(e){_i_("269:6c8418b3");var t,i,n,r=a(this),_="click"===e.type?0:300;clearTimeout(o.hoverTimer),o.hoverTimer=window.setTimeout(function(){_i_("269:787a525d"),t=r.attr("data-photoid"),i=o.slides.filter('[data-photoid="'+t+'"]'),n=o.gallery.slick("getSlick"),o.gallery.slick("slickSetOption","speed",o.fadeSpeedOnHover),o.gallery.slick("slickGoTo",n.$slides.index(i.get(0))),_r_()},_),_r_()}).bind("mouseleave",function(){_i_("269:dbb91330"),o.gallery.slick("slickSetOption","speed",o.defaultFadeSpeed),clearTimeout(o.hoverTimer),_r_()}),this.container.on("mouseenter.pause","div.hp-gallery-thumbs",function(){_i_("269:a76dc8fc"),o.gallery.slick("slickSetOption","autoplaySpeed",1e7),o.gallery.slick("slickPause"),_r_()}).on("mouseleave.pause","div.hp-gallery-thumbs",function(){_i_("269:8230602e"),o.gallery.slick("slickSetOption","autoplaySpeed",B.env.hp_gallery_autoplay_speed),o.gallery.slick("slickPlay"),_r_()}),e.on("click",function(e){_i_("269:ecf3fa9b"),void 0!==e.originalEvent&&n.trackEvent(n.hotelPageTracker,"RT: Lightbox","Click: Image Arrows"),_r_()}),t.on("click",function(e){_i_("269:ecf3fa9b1"),void 0!==e.originalEvent&&n.trackEvent(n.hotelPageTracker,"RT: Lightbox","Click: Image Arrows"),_r_()}),_r_()},o.prototype.highlightThumb=function(e){_i_("269:ecbb00bb"),this.thumbs.filter("."+this.CLASS_SELECTED_THUMB).removeClass(this.CLASS_SELECTED_THUMB),e&&this.thumbs.filter('[data-photoid="'+e+'"]').addClass(this.CLASS_SELECTED_THUMB),_r_()},o.prototype.getThumb=function(e){if(_i_("269:908d872a"),this.slick&&this.gallery&&this.gallery.slick){var t=this.gallery.slick("getSlick").$slides.eq(e).attr("data-photoid");if(t)return _r_(this.thumbs.filter('[data-photoid="'+t+'"]'))}_r_()},o.prototype.updatePhotosViewed=function(e){_i_("269:79d509fc"),void 0!==typeof e&&-1===a.inArray(e,this.photosViewed)&&this.photosViewed.push(e),r||this.photosViewed.length!==this.totalSlides||(B.et.goal("hp_lb_viewed_all_gallery_photos"),r=!0),_r_()},o.prototype.setCurrentPhotoById=function(e,i){_i_("269:00211ce3");var n=this;setTimeout(function(){_i_("269:a1bd6174");var e=n.slides.filter('[data-photoid="'+i+'"]'),t=n.gallery.slick("getSlick");n.gallery.slick("slickGoTo",t.$slides.index(e.get(0))),_r_()},0),_r_()},o.prototype.run=function(){_i_("269:028bec0b"),this.initTimer=window.setTimeout(function(){_i_("269:6dee8e7d"),this.gallery.slick(this.options),_r_()}.bind(this),0),_r_()},i.exports=o,_r_()}),B.ensureNamespaceExists("hotel"),B.hotel.rtLightbox=function(o,e,t,i){_i_("269:0a1e600b");var a=o.require("jquery"),n=o.require("et"),s=o.require("ga-tracker"),l=o.require("trap-focus"),r=o.require("hotel/rooms_table/lightbox/gallery"),c=o.require("rewrite_tt"),_="hp_rt_lightbox_wrapper";_+=" hprt-lightbox--wrapper",_+=" hprt-lightbox--two_column_layout",_+=" hprt-lightbox--wrapperwider";var d=o.require("querystring");o.env.b_run_droom_hp_rt_lb_new_gallery&&(_+=" hp_rt_lightbox_wrapper_v3",o.env.b_run_droom_hp_increase_lb_photo_res&&(_+=" hp_rt_lightbox_wrapper_v3_hires"),o.env.fe_run_gallery_photo_tags&&(_+=" hp_rt_lightbox_wrapper_v3_tags"),_+=" hp_rt_lightbox_wrapper_v3_two_column");var h,u,f,p=o.events,b=a(e),m=a(t),v=a("body"),g=a("<div></div>",{class:"hp_rt_lightbox_overlay"}),M=a("<div></div>",{class:_}),w=a("<div></div>",{class:"hp_rt_lightbox_content"}).appendTo(M),y=a("<a></a>",{class:"lightbox_close_button",href:"#close-lightbox",html:"&times;"}).appendTo(M),k=o.env.lp_hp_meta_hightlighted_room?a("#rooms_table, .hp__pinned-room"):a("#rooms_table"),B=g.add(y),C=o.env.run_hp_rt_lightbox||o.env.run_hp_rt_lightbox_no_dates,E=!1,T=!1,x=!1,S="",N=!1,j=o.env.rtl,I=function(){if(_i_("269:f6353757"),1<M.height()&&!o.env.is_rooms_table_splitter){var e=M.find(".hprt-lightbox-gallery-container"),t=M.find(".rt_lightbox_description_meta"),i=e.height()-t.height();i<0&&(i*=-1)}(M.height()>b.height()-100||M.find(".js-dr_rt_no_dates").length)&&M.css({position:"absolute",top:b.scrollTop()+20}),_r_()},L=function(e){if(_i_("269:2f3717bb"),!T){var t,i=a(this).attr("href"),n=i.replace("#","#blocktoggle");u=a(n),f=a(n).parent(),w.append(u),a(this).hasClass("hp_rt_see_photos_button")?M.addClass("hp_rt_only_photos"):M.removeClass("hp_rt_only_photos"),N?g.add(M).show(1,I).addClass("visible"):(g.add(M).css({display:"block"}).addClass("visible"),setTimeout(I,0)),$(),S=location.hash.slice("1");var r=(h=i.replace(/#/,"")).replace(/RD/,"");t="room_"+r,location.hash=t;var _=w.find('[data-component="room-lightbox-async"]');_.data("RoomLightboxEventsBinded")||(_.data("RoomLightboxEventsBinded",!0),o.events.on(o.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,function(e){_i_("269:49437ac6"),r==e.roomId&&(setTimeout(I,0),e.success?(O(),w.find(".js-async-room-lightbox-date-picker").removeClass("g-hidden")):T=!0),_r_()})),_.length?_.first().component("room-lightbox-async").load():O(w)}return _r_(!1)},O=function(){_i_("269:d592a447"),p.trigger(o.hotel.Events.RT.LIGHTBOX_OPEN,h,w),T=!0,o.hotel.rtLightbox.isLightboxOpen=!0;var e=a('a.togglelink.jqrt[href="#'+h+'"]');if(0<e.length){var t=e.data("room-name-en");t&&s.trackEvent(s.hotelPageTracker,"Hotel: Lightbox open",t)}var i=h.replace(/RD/,"");x||isNaN(i)||(x=!0,n.track("ZdZbaTaTaBBUcJPQfQAYbAPNOSTUWe")&&(x=!1,n.customGoal("ZdZbaTaTaBBUcJPQfQAYbAPNOSTUWe",1)),a.ajax({method:"POST",dataType:"json",url:"/hotel_lightbox_opened",data:{hotel_id:o.env.b_hotel_id,room_id:i}})),n.stage("BUcJPPBASMffaAJYeCIObTae",1),l.trap(M[0]),M.attr({"aria-hidden":!1}),setTimeout(function(){_i_("269:db53446f");try{if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var e=document.createEvent("CustomEvent");e.initEvent("scroll",!1,!1),window.dispatchEvent(e)}}catch(e){}_r_()},100),_r_()},D=function(e,t){if(_i_("269:d0170d7b"),T){var i,n,r={click:"Click on close button",esc:"Escape key",back:"Browser back button"},_=r[e=e&&"object"==typeof e?"click":e]?r[e]:"other";c.showHideTooltip(null,0,0),M.add(g).css({display:"none"}).removeClass("visible"),u.prependTo(f),T=!1,o.hotel.rtLightbox.isLightboxOpen=!1,M.css({position:"fixed",top:"10%"}),"pushState"in history?history.pushState("",document.title,location.pathname+location.search):(i=v[0].scrollTop,n=v[0].scrollLeft,location.hash=S||"_",v[0].scrollTop=i,v[0].scrollLeft=n),"book_now_click"!==e&&p.trigger(o.hotel.Events.RT.LIGHTBOX_CLOSE,h,w,_,e),s.trackEvent(s.hotelPageTracker,"Hotel: Lightbox closed",_),(t=t&&"function"==typeof t?t:e&&"function"==typeof e?e:null)&&t(),l.release(),M.attr({"aria-hidden":!0})}return _r_(!1)},$=function(){_i_("269:38025434");try{o.maps&&o.maps.map_opened&&o.maps.close()}catch(e){}_r_()},A=function(){_i_("269:454c3ad0"),k.delegate(".togglelink","click",L).delegate("a.smll_roomphoto","click",function(e){return _i_("269:766d5a5b"),e.preventDefault(),function(){_i_("269:1857d7dd");var e=a(this).parents(".rt-room-info").attr("id"),t=a('a[href="#RD'+e+'"]:not(.avoid-trigger-lightbox)');c.showHideTooltip(null,0,0),t.length&&t.trigger("click"),_r_()}.call(this),_r_(!1)}),a("a.b-group-recommendation__togglelink").bind("click",L),o.env.is_rooms_table_splitter||a(".gr-toggle-room-lightbox").bind("click",function(e){_i_("269:91c8aef0"),e.preventDefault();var t=a(this).attr("href"),i=a('#available_rooms .togglelink[href="'+t+'"]');i.length&&i.click(),_r_()}),_r_()};return _r_({isLightboxEnabled:C,isLightboxOpen:T,show:L,close:D,init:function(){_i_("269:3b6a1432"),C&&!E&&(E=!0,v.append(g,M),M.attr({role:"dialog","aria-hidden":!0,"aria-labelledby":"hp_rt_room_gallery_modal_room_name","aria-live":"polite","aria-modal":!0}),w.attr({role:"document"}),y.attr("aria-label",o.jstmpl.translations("a11y_cta_close")),a(window).resize(function(){_i_("269:d3f85c14"),T&&(M.css({position:"fixed",top:"10%"}),I()),_r_()}),j&&M.addClass("lightbox_rtl"),N=function(e){_i_("269:03e963c3");var t=!1,i="Webkit Moz ms O".split(" "),n=document.createElement("div"),r=null;if(e=e.toLowerCase(),n.style[e]&&(t=!0),!1===t){r=e.charAt(0).toUpperCase()+e.substr(1);for(var _=0;_<i.length;_++)if(void 0!==n.style[i[_]+r]){t=!0;break}}return _r_(t)}("transition"),_i_("269:1811ed6f"),A(),B.bind("click",D),m.bind("keyup",function(e){_i_("269:1a0b7ebf"),27===(e||window.event).keyCode&&D("esc"),_r_()}),b.bind("hashchange",function(){_i_("269:a4eca22e"),-1===location.hash.slice(1).indexOf("room_")&&T&&D("back"),_r_()}),_r_(),p.on(o.hotel.Events.RT.LIGHTBOX_OPEN,function(e){if(_i_("269:a1bf1bab"),o.env.b_run_droom_hp_rt_lb_new_gallery){var t=w.find(".hprt-lightbox-gallery-container");t.hasClass("slicked")?o.events.trigger(o.hotel.Events.RT.LIGHTBOX_GALLERY_READY,t.find("[data-gallery]").slick("getSlick")):t.length&&(t.addClass("slicked"),new r(t))}_r_()}),p.trigger(o.hotel.Events.RT.LIGHTBOX_READY),p.on(o.hotel.Events.RT.LIGHTBOX_GALLERY_READY,function(){_i_("269:4b6c18ed"),w.find(".slick-list").removeAttr("tabindex").removeAttr("aria-live"),_r_()})),setTimeout(function(){_i_("269:161b2c18"),function(){_i_("269:99964000");var e=d.parseUrl(location.href).query.activeTab;if(1==location.hash.indexOf("room")&&(e=location.hash.slice(1)),!e)return _r_();var t=e.match(/room_([0-9]*)_?.*/);if(!t||t.length<2||!t[1])return _r_();var i=t[1];a('.togglelink[href="#RD'+i+'"]').click(),_r_()}(),_r_()},500),_r_()}})}(window.booking,window,document),function(){_i_("269:d8c6d779");var n,r=window.booking,_=r.require("jquery");r.ensureNamespaceExists("hotel"),r.hotel.roomTable=r.hotel.roomTable||{},r.hotel.roomTable.highlightRoom=function(e){if(_i_("269:ff901095"),"string"!==_.type(e)||"RD"!==e.substring(0,2))return _r_();e=e.substring(2);var t=n.find("#"+e).parents(".rt__room-detail"),i="rt__room-detail--highlighted";t.addClass(i),setTimeout(function(){_i_("269:d2304754"),t.removeClass(i),_r_()},500),_r_()},r.when({events:"ready"}).run(function(e){if(_i_("269:0885811f"),!r.feature&&!r.feature.transition||!r.env.b_has_maxotel_rooms)return _r_();n=_("#rooms_table"),_i_("269:2f62be09"),r.events.on(r.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i,n){_i_("269:2bc8c904"),r.hotel.roomTable.highlightRoom(e),_r_()}),_r_(),_r_()}),_r_()}(),B.ensureNamespaceExists("hotel"),B.hotel.rtGallery=function(e){_i_("269:55a05568");var t=e.require("jquery"),i=e.events,n=e.env.b_run_hp_rt_lightbox_image_gallery,r=t("div.hp_rt_lightbox_content"),_=null,o=null,a=null,s=null,l=0,c=null,d=function(){_i_("269:7deb7621"),_=r.find("ul.rt-lightbox-photo-gallery"),o=_.find("li"),s=o.length,a=r.find("span.rt-lightbox-gallery-controls"),s<=3?a.addClass("disabled"):a.removeClass("disabled"),c||function(){_i_("269:a2241aad");var e=s?o.first():null;c=e&&e.length?e.width()+1:0,_r_()}(),_r_()},h=function(e){_i_("269:f347d48b");var t=e*c;_.css({marginLeft:-t}),l=e,_r_()},u=function(){_i_("269:b5b586a1");var e=l+1;s-2<=e&&(e=0),h(e),_r_()},f=function(){_i_("269:5f724ed9");var e=l-1;e<0&&(e=s-2-1),h(e),_r_()};i.on("rt-lightbox-ready",function(){_i_("269:5b310825"),n&&(r=t("div.hp_rt_lightbox_content"),i.on("rt-lightbox-open",d),r.delegate("span.rt-lightbox-gallery-prev","click",f).delegate("span.rt-lightbox-gallery-next","click",u)),_r_()}),_r_()}(B),function(i){_i_("269:a73a15ec");var n=i.require("jquery");i.ensureNamespaceExists("hotel"),i.hotel.rtLightbox.gallery={_currentId:!1,_minId:!1,_maxId:!1,_rtl:!!i.env.rtl,goTo:function(e){_i_("269:ab3ad32e"),n(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__img[data-order="+e+"]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"),n(".js-rt_lightbox_gallery_v2__thumb[data-order="+e+"]").addClass("selected"),this._currentId=e,_r_()},goToPhoto:function(e){_i_("269:398c9595"),n(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__img[data-id="+e+"]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"),n(".js-rt_lightbox_gallery_v2__thumb[data-id="+e+"]").addClass("selected"),this._currentId=n(".js-rt_lightbox_gallery_v2__img[data-id="+e+"]").data("order"),_r_()},prev:function(){var e;_i_("269:14a4a448"),e=1===this._currentId?this._maxId:this._currentId-1,this.goTo(e),_r_()},next:function(){var e;_i_("269:08ec0355"),e=this._currentId===this._maxId?this._minId:this._currentId+1,this.goTo(e),_r_()},addBinds:function(){_i_("269:396de8b0");var t=this;i.events.on("rt-lightbox-open",function(){_i_("269:0a162841"),t._currentId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__current").data("order")),t._minId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:first").data("order")),t._maxId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:last").data("order")),t.goTo(1),_r_()}),n(document).keyup(function(e){_i_("269:ffcc0889"),37===e.keyCode?t.prev():39===e.keyCode&&t.next(),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__thumb",function(e){_i_("269:bc5e1767"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:thumb:click"),t.goTo(parseFloat(n(this).data("order"))),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__gallery_arrows_left",function(e){_i_("269:c9cfe22d"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:left:click"),t._rtl?t.next():t.prev(),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__gallery_arrows_right",function(e){_i_("269:540ccf98"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:right:click"),t._rtl?t.prev():t.next(),_r_()}),_r_()},init:function(){_i_("269:8699bfac"),this.addBinds(),_r_()},initElse:function(){}},i.env.b_run_hp_rt_lightbox_image_gallery_v2&&i.hotel.rtLightbox.gallery.init(),_r_()}(booking),$(B.hotel.rtLightbox.init),B.define("hotel/review-list",function(e,t,i){_i_("269:8057bd24");var r=e("et"),_=e("jquery"),n=e("hotel/reviews"),o=e("announce-to-screen-reader");i.exports={isInit:!1,scrollToPlaceholderOnce:!1,scrollArea:"#hp-reviews-sliding .sliding-panel-widget-scrollable",placeholder:"#review_list_page_container",container:"#review_list_score_container",typeSelect:"#reviewer_type_filter",scoreSelect:"#review_score_filter",langSelect:"#review_lang_filter",timeofyearSelect:"#review_timeofyear_filter",sortSelect:"#review_sort",pageLinks:".c-pagination .bui-pagination__item a",loader:".review_list_loader, .reviews_placeholder_wrapper",errorMessage:"#reviews-error-message",wrapper:".review_list_container.review-list--clean",resetBtn:"[data-js-clear-filters-btn]",clearAllButton:"[data-js-reviews-empty-reset]",roomIdSelect:"#room_id_filter",resetFiltersButton:".reviewfilter-header [data-js-reviews-empty-reset]",$e:_({}),events:{FILTER_CHANGED:"changed:filter",SORT_CHANGED:"changed:sort",PAGE_CHANGED:"changed:page"},init:function(){_i_("269:a08ff39e"),this.bindEvents(),B.hotel.hashedTabs&&B.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&this.doLoadReviews(),-1<window.location.hash.indexOf("tab-reviews-business_traveller")&&n.setState({type:"business_traveller"}),_r_()},bindEvents:function(){_i_("269:b5c2cfc2"),B.events.on("reviews-tab-opened",this.handleTabOpen.bind(this)),n.on(n.events.LOAD_BEFORE,this.handleLoadBefore.bind(this)),n.on(n.events.LOAD_SUCCESS,this.handleLoadSuccess.bind(this)),n.on(n.events.LOAD_ERROR,this.handleLoadError.bind(this)),_(this.container).delegate(this.resetBtn,"click",this.handleResetFilters.bind(this)),_(this.container).delegate(this.typeSelect,"change",this.handleTypeChange.bind(this)),_(this.container).delegate(this.scoreSelect,"change",this.handleScoreChange.bind(this)),_(this.wrapper).on("change",this.langSelect,this.handleLangChange.bind(this)),_(this.wrapper).on("change",this.timeofyearSelect,this.handleTimeOfYearChange.bind(this)),_(this.wrapper).on("change",this.roomIdSelect,this.handleRoomIdChange.bind(this)),_(this.container).delegate(this.sortSelect,"change",this.handleSortChange.bind(this)),_(this.container).delegate(this.placeholder+" "+this.pageLinks,"click",this.handleLinkClick.bind(this)),_(this.container).delegate(this.clearAllButton,"click",this.handleClearAllBtn.bind(this)),_r_()},handleClearAllBtn:function(e){_i_("269:91f4fd39"),e.preventDefault();var t={lang:[],offset:0,score:[],sort:"",text:"",topics:[],type:["total"],time_of_year:""};B.env.fe_show_room_id_filter&&(t.room_id=[]),_(e.target).hasClass("js-room-filter")&&r.customGoal("NAFLeOeJAENNLTLYFbYOdHcWCHT",1),n.load(t),_r_()},handleResetFilters:function(){_i_("269:79188aea"),_.cookie("hpRevFil",null,{path:"/"}),n.load({type:["total"],sort:null,score:null,offset:0,topics:[],lang:[]}),_r_()},handleTabOpen:function(e,t){_i_("269:41237268"),t=t||e.tab,(!this.isInit||B.env.reviewsPrefiltered||B.env.reviewsFilteredByFood||B.env.reviewsFiltersShouldBeReset)&&this.doLoadReviews(),_r_()},doLoadReviews:function(){_i_("269:370dca7a");var e={},t={};JSON.parse(_.cookie("hpRevFil")||null)&&1!=_("[data-js-reviewlist-is-empty]").length&&(t={cookie:!0}),B.env.fe_upsort_long_stay_www_pp_reviews&&B.env.b_checkin_checkout_interval&&(e.length_of_stay=B.env.b_checkin_checkout_interval),B.env.show_external_reviews&&(e.show_external_reviews=1),n.load(e,t),_r_()},handleTypeChange:function(e){_i_("269:cb17796f"),e&&e.preventDefault();var t=[_(this.typeSelect).val()||""];n.load({type:t,offset:0},{announceFiltering:!0}),this.$e.trigger(this.events.FILTER_CHANGED,[{name:"type",values:t}]),_r_()},handleScoreChange:function(e){_i_("269:d6ae3e35"),e&&e.preventDefault();var t=[_(this.scoreSelect).val()||""];n.load({score:t,offset:0},{announceFiltering:!0}),this.$e.trigger(this.events.FILTER_CHANGED,[{name:"score",values:t}]),_r_()},handleLangChange:function(e,t){_i_("269:c40a5e3d"),e&&e.preventDefault();var i=t?[t]:[];n.load({offset:0,lang:i,topics:[]}),this.$e.trigger(this.events.FILTER_CHANGED,[{name:"lang",values:i}]),_r_()},handleTimeOfYearChange:function(e,t){_i_("269:9a7a1fe5"),e&&e.preventDefault(),n.load({offset:0,time_of_year:t?[t]:""}),this.$e.trigger(this.events.FILTER_CHANGED,[{name:"time_of_year",values:t?[t]:[]}]),_r_()},handleRoomIdChange:function(e){_i_("269:977f6e34"),e&&e.preventDefault();var t=_(e.target).val()||"";n.load({offset:0,room_id:t?[t]:""}),this.$e.trigger(this.events.FILTER_CHANGED,[{name:"room_id",values:t?[t]:[]}]),t?r.customGoal("NAFLeOeJAENYPTdMcOcMLaC",1):r.customGoal("NAFLeOeJAENYPTdMcOcMLaC",2),_r_()},handleSortChange:function(e){_i_("269:aa36506b"),e&&e.preventDefault();var t=_(this.sortSelect).val()||"";n.load({sort:t,offset:0},{announceFiltering:!0}),this.$e.trigger(this.events.SORT_CHANGED,[{value:t}]),_r_()},handleLoadBefore:function(e,t){_i_("269:a9ed7533"),_(this.loader).removeClass("hideme"),_(this.errorMessage).hide(),_(this.placeholder).hide(),_(this.wrapper).show(),this.cachedA11yFilteringMessage()&&o.announce(this.cachedA11yFilteringMessage()),_r_()},handleLinkClick:function(e){_i_("269:c1cec026"),e.preventDefault();var t=_(e.currentTarget).attr("href");n.loadUrl(t,{announceFiltering:!0});var i=_(e.currentTarget).data("page-number");i&&this.$e.trigger(this.events.PAGE_CHANGED,[{value:i}]),_r_()},handleLoadSuccess:function(e,t,i){_i_("269:eee515fa"),_(this.placeholder).html(null),_(this.placeholder).html(t),_(this.placeholder).show(),B.env.fe_show_room_id_filter&&!this.areFiltersApplied()||this.scrollToContent(),_(this.loader).addClass("hideme");var n=_(this.placeholder);n.loadComponents(),window.BUI&&(0<n.length&&window.BUI.initComponents(n.get(0)),_(this.wrapper).find("[data-bui-component]").map(function(e,t){_i_("269:3a6991a7"),t&&window.BUI.initComponents(t),_r_()})),r.initAttributesTracking(_(this.placeholder)),this.matchSelectorsWithState(),B.env.fe_show_clear_filter&&this.matchResetFilterLinkWithState(),_(window).trigger("scroll"),this.cachedA11yLoadedMessage()&&o.announce(this.cachedA11yLoadedMessage()),_r_()},handleLoadError:function(e,t){_i_("269:cd3ac2dc"),_(this.loader).addClass("hideme"),_(this.placeholder).show(),_(this.errorMessage).show(),_(this.wrapper).hide(),_r_()},scrollToContent:function(){if(_i_("269:4363314c"),this.scrollToPlaceholderOnce)return window.setTimeout(_.proxy(function(){_i_("269:ab33e568");var e=_(this.placeholder).position().top;_(this.scrollArea).scrollTop(e/2),_(this.scrollArea).animate({scrollTop:e},500,"easeOutExpo"),_r_()},this),10),this.scrollToPlaceholderOnce=!1,this.isInit||(this.isInit=!0),_r_(!0);if(!this.isInit)return this.isInit=!0,_r_(!0);window.setTimeout(_.proxy(function(){_i_("269:971c9c0a");var e=_(".bui-panel-group.bui-panel-group--filters-wrapper").height()||0;e+=_(".bui-panel-group.bui-panel-group--reviewlist").height()||0,e+=_(".review_list_score_container.scores_full_layout").height()||0,_(this.scrollArea).scrollTop(e/2),_(this.scrollArea).stop().animate({scrollTop:e},500,"easeOutExpo"),_(this.placeholder).find(".review_list:first").attr("tabindex",-1).focus(),_r_()},this),10),_r_()},matchSelectorsWithState:function(){_i_("269:6e40d664");var e=n.getState();_(this.typeSelect).trigger("setVal",e.type[0]||""),_(this.scoreSelect).trigger("setVal",e.score[0]||""),_(this.langSelect).trigger("setVal",e.lang[0]||""),B.env.fe_show_room_id_filter&&(_(this.roomIdSelect).trigger("setVal",e.room_id[0]||""),_(this.timeofyearSelect).trigger("setVal",e.time_of_year||"")),_(this.sortSelect).val(e.sort),_r_()},areFiltersApplied:function(){_i_("269:f7f01cd0");var e=n.getState();return _r_(e.type[0]&&"total"!==e.type[0]||e.score[0]||e.lang[0]||e.topics[0]||e.room_id[0]||e.time_of_year||e.text)},matchResetFilterLinkWithState:function(){_i_("269:9da4a9eb"),this.areFiltersApplied()?_(this.resetFiltersButton).attr("disabled",!1):_(this.resetFiltersButton).attr("disabled",!0),_r_()},cachedA11yLoadedMessage:function(){return _i_("269:6d98917d"),this.loadedAnnounce||(this.loadedAnnounce=_("ul.review_list").data("js-a11y-loaded")),_r_(this.loadedAnnounce)},cachedA11yFilteringMessage:function(){return _i_("269:117e21cb"),this.filteringAnnounce||(this.filteringAnnounce=_("ul.review_list").data("js-a11y-filtering")),_r_(this.filteringAnnounce)},on:function(e,t){if(_i_("269:8103c2ae1"),!e||"string"!=typeof e||!t||"function"!=typeof t)return _r_(!1);this.$e.on(e,t),_r_()}},_r_()}),B.when({events:"ready"}).require(["hotel/review-list"],function(e){_i_("269:2448170b"),e.init(),_r_()}),function(t){_i_("269:92ad86da");var i=t.require("jquery"),n=function(){_i_("269:130b23d7");var e=t.env.b_hotel_id;i.ajax({method:"GET",url:"/has_seen_review_list",data:{hotel_id:e},error:function(e){},success:function(){}}),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:f949a1cb"),_i_("269:7ddbf135"),t.events.on("hotel:reviewlist:success:tab",n),_r_(),_r_()}),_r_()}(window.booking),function(e){_i_("269:958aa250");var a=e.require("jquery"),t=e.require("hotel/reviews"),i={isInit:!1,dirty:!1,modaleInputs:"#reviews_filters_lang_modal [data-js-review-language]",modalButton:"#reviews_filters_lang_modal_button",init:function(){_i_("269:a02aae47");var e=this;this.modal=window.BUI.createInstance("Modal",document.createElement("div"),{id:"reviews_filters_lang_modal",onBeforeOpen:function(){_i_("269:f138186e"),e.dirty=!1,_r_()},onAfterOpen:function(){_i_("269:947271b1"),a(e.modaleInputs).click(function(){_i_("269:9e2e9f93"),e.dirty=!0,_r_()});var _=t.getState().lang||[];a(e.modaleInputs).each(function(e,t){_i_("269:9387a129");var i=a(t),n=i.val(),r=0<=_.indexOf(n);i.prop("checked",r),_r_()}),_r_()},onBeforeClose:function(){if(_i_("269:4f1e9b48"),!e.dirty)return _r_(!0);var r=[];a(e.modaleInputs).filter(":checked").each(function(e,t){_i_("269:0bd8edc1");var i=a(t).val(),n=r.indexOf(i);i&&n<0&&r.push(i),_r_()}),e.dirty=!1,t.load({lang:r,offse:0}),n.updateInputState(r),_r_()}}),this.modal.mount(),_r_()},open:function(){_i_("269:c3cc9363"),this.modal.open(),_r_()}},n={pageInputs:"[data-js-review-language].reviews_filters_language_main",modalButton:"#reviews_filters_lang_modal_button",init:function(){_i_("269:38481e91"),i.init(),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:18242491"),a(this.modalButton).on("click",function(){_i_("269:caa3e56d"),i.open(),_r_()}),a(this.pageInputs).on("change",this.onPageInputChange.bind(this)),t.on(t.events.LOAD_AFTER,this.matchSelectedWithState.bind(this)),_r_()},matchSelectedWithState:function(){_i_("269:cc5b5560");var e=t.getState().lang||[];this.updateInputState(e),_r_()},updateInputState:function(_){_i_("269:63043827"),a(this.pageInputs).each(function(e,t){_i_("269:c31b6574");var i=a(t),n=i.val(),r=0<=_.indexOf(n);i.prop("checked",r),_r_()}),_r_()},onPageInputChange:function(e){_i_("269:949304f3");var o=t.getState().lang||[];a(this.pageInputs).each(function(e,t){_i_("269:3b843ea4");var i=a(t),n=i.val();if(!n)return _r_(!0);var r=i.is(":checked"),_=o.indexOf(n);r&&_<0&&o.push(n),!r&&0<=_&&o.splice(_,1),_r_()}),t.load({lang:o,offset:0}),_r_()}};e.when({events:"ready"}).run(function(e){_i_("269:a4fc650a"),n.init(),_r_()}),_r_()}(window.booking),function(t){_i_("269:2587ae0f");var r=t.require("jquery"),i=r("#review_list_score_container").find(".score_bar_value"),n=function(e){_i_("269:eaf81f36"),e&&e.each||(e=i),e.each(function(e,t){_i_("269:307dd1a2");var i=r(t),n=i.data("score")+"%";i.animate({width:n}),_r_()}),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:e3577036"),_i_("269:e5523c99"),t.events.on("reviews-tab-opened",n),_r_(),t.hotel.hashedTabs&&t.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&window.setTimeout(n,400),_r_()}),_r_()}(window.booking),function(i){_i_("269:00bd59b3");var n=i.require("jquery"),e=function(e){_i_("269:8f943aad");var t=n("#guidelines_content");e.preventDefault(),i.lightbox.show(t),t.focus(),function(){_i_("269:e1ecf883");var e=i.require("ga-tracker");e.trackEvent(e.clickTracker,"Action: reviewlist","Review guidelines open"),_r_()}(),_r_()},t=function(){_i_("269:455ac795"),n(".js-guidelines_open_link").bind("click",e),_r_()};i.when({events:"ready"}).run(function(){_i_("269:54f9426c"),t(),i.events.on("REVIEWS:fetched",t),_r_()}),_r_()}(window.booking),function(t){_i_("269:4f951b9d");var n=t.require("jquery"),r=t.lightbox,e=function(){_i_("269:459bd5f1");var e=n(this).find("img").data("image"),i=document.createElement("img");i.onload=function(){_i_("269:d96b0679"),r.show(i,{customWrapperClassName:"review_photo_lightbox",positionAfterCallBack:function(){_i_("269:e2008a73");var e=parseInt(i.width,10)+48,t=parseInt(i.height,10)+48;n(".modal-wrapper").css({width:e,height:t,left:Math.max(0,n(window).width()/2-e/2)}),_r_()}}),_r_()},i.src=e,_r_()},i=function(){_i_("269:6471278b"),n(".review_item_photo").bind("click",e),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:47d4021e"),_i_("269:638bf7bd"),"reviews_hotel"!==t.env.b_action&&"reviews_review"!==t.env.b_action||i(),"hotel"===t.env.b_action&&(t.events.on("REVIEWS:fetched",function(){_i_("269:1f58c0c4"),i(),_r_()}),t.events.on("RECENT_REVIEWS:fetched",function(){_i_("269:1f58c0c41"),i(),_r_()}),t.hotel.hashedTabs&&t.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&window.setTimeout(function(){_i_("269:51c48f4d"),i(),_r_()},250)),_r_(),_r_()}),_r_()}(window.booking),function(e){_i_("269:382859b8");var t=e("sliding-panel-model"),i=e("events"),n=e("jquery"),r=B.hotel.hashedTabs,_=t.get("hp-reviews-sliding");n(window).hashchange(function(){if(_i_("269:6ed0eeae"),!_.isPanelShown())return _r_();var e=window.location.hash.slice(1);"tab-reviews"!==e&&"tab-4"!==e&&_.hide(),_r_()}),i.on("sliding-panel/on:hide",function(e){_i_("269:caa937e7"),i.trigger("open-tab",{tab:"main"}),_r_()}),_.on(t.EVENTS.show,function(){}),r.getVisibleTab().is("#blockdisplay4")&&_.show(),i.on("reviews-tab-opened",function(){_i_("269:b1ab4391"),_.show(),_r_()}),i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(){_i_("269:a3e65c3b"),t.hideAll(),_r_()}),_r_()}(B.require),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:b6b16571");var t=e("et"),i=e("sliding-panel-model"),n=i.get("hp-reviews-sliding");n.on(i.EVENTS.show,function(e){_i_("269:914e8a9b"),t.stage("adUAVYCdFNLGZaZQMHSNECHTeUVIZdRRT",1),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:231e827e");var t=e("et"),i=e("sliding-panel-model"),n=i.get("hp-reviews-sliding");n.on(i.EVENTS.show,function(){_i_("269:8ddf4f88"),t.stage("adUAVYCIFbNXGDJdRfWPbUbcTBPBLRSXQBAYO",4),_r_()}),_r_()}),B.define("atlas-tools/public-map-api",function(){return _i_("269:c56389e6"),_r_(function(t){_i_("269:97b79eb4");var i=null,n=[],r=null;function e(e){return _i_("269:2734888f"),_r_(function(){_i_("269:aac7c079"),i?i[e].apply(i,arguments):n.push({method:e,args:Array.prototype.slice.call(arguments)}),_r_()})}return _r_({init:function(e){if(_i_("269:4553ef72"),r)return _r_(r);return r=t(e).then(function(e){_i_("269:0e36a606"),i=e,r=null,_i_("269:970a0174"),n.forEach(function(e){_i_("269:38f6b451"),i[e.method].apply(i,e.args),_r_()}),n=[],_r_(),_r_()}).catch(function(){_i_("269:f98fe1d4"),r=null,_r_()}),_r_(r)},isInitialized:function(){return _i_("269:7e9f9693"),_r_(!!i)},getState:function(){return _i_("269:d5ce6605"),_r_(this.isInitialized()?i.getState():{})},trigger:function(e,t){return _i_("269:02edc89b"),_r_(this.isInitialized()?i.trigger(e,t):null)},on:e("on"),off:e("off"),once:e("once")})})}),B.define("hotel/map",function(_){_i_("269:c8bffa36");var o=_("promise"),a=_("async-loader"),e=_("atlas-tools/public-map-api"),s=_("trap-focus"),l=_("et"),c=e(function(e){var t,i;_i_("269:3caa643c");var n=window.performance&&window.performance.now();c.on("load",function(){_i_("269:ca75c872");var e=Math.round(window.performance.now()-n);l.goalWithValue("js_location_www_hp_map_load",e),_r_()}),c.once("markers-rendered",function(){_i_("269:ee792c17"),n&&l.goalWithValue("js_location_www_hp_map_time_till_marker_visible",Math.round(window.performance.now()-n)),_r_()}),t=a.load({js:"cn"===B.env.b_guest_country?"async_atlas_v2_cn_js":"async_atlas_v2_non_cn_js"}),i=a.load({js:"async_hp_atlas_map_js",css:"async_atlas_css"});var r=document.querySelector(".b_map_container_fixed");r&&s.trap(r,null,!0);return _r_(o.all([t,i]).then(function(){_i_("269:406e1cad"),Object.assign(B.atlas,_("atlas/core.tracking"));try{return _r_(_("map/map_atlas_hp").init(e))}catch(e){B.reportError(e,"map_atlas_hp failed to initialize (WWW/HP)"),console.error(e)}_r_()}).catch(function(e){throw _i_("269:58534a99"),e}))});return _r_(c)}),B.define("Atlas/pin-favicon",[],function(){_i_("269:80ebfae2");var i=$('link[rel="shortcut icon"]').first().attr("href")+"#f={counter}",n="//cf.bstatic.com/static/img/map-pin-favicon/b96539b4bc3662d46832d3d778308b00ef283a95.png#f={counter}",r=0;function e(e){_i_("269:99c5a648");var t=(e?n:i).replace("{counter}",r++);$('link[rel="shortcut icon"]').first().attr("href",t),_r_()}return _r_({addPin:function(){_i_("269:68195cac"),e(!0),_r_()},removePin:function(){_i_("269:4c520498"),e(!1),_r_()}})}),B.when({events:"ready"}).run(function(t,e,i){_i_("269:5b767648");var n="map_opened",r=(B.require("server-data"),B.require("events")),_=B.require("Atlas/util-env"),o=(B.require("async-loader"),B.require("Atlas/pin-favicon")),a=(t=B.require("jquery"),B.require("hotel/map")),s=t(document),l=t(".map_full_overlay__wrapper"),c=t("body");function d(){_i_("269:2137f9e2"),location.hash="map_closed",_r_()}function h(e){return _i_("269:734bb954"),o.addPin(),l.addClass("b_map_container_fixed").css({display:"block"}),r.trigger("hp:main_map_opened"),c.css("overflow","hidden"),a.on("close",function(){_i_("269:fd8d0cb9");var e=document.querySelector(".show_map");e&&(e.focus(),e.blur()),_r_()}),_r_(a.init(e))}function u(){_i_("269:523e33f5");var e=new RegExp("(?:"+n+"-)(.+)","i").exec(location.hash)||[];e.length?"auto_open"===e[1]?h({atlasBbox:_.get("hotelBbox")}):h(t("#"+e[1]).data()):(_i_("269:18224d8c"),l.css({display:"none"}),c.css("overflow","auto"),o.removePin(),_r_(),r.trigger("hp:main_map_closed",{source:"hash"})),_r_()}t(window).on("hashchange",u),s.on("keyup",function(e){_i_("269:9c6d8d84"),27===e.which&&l.is(":visible")&&(d(),r.trigger("hp:main_map_closed",{source:"esc"})),_r_()}),c.find("#close_map_lightbox, .map_full_overlay__close").on("click",function(){_i_("269:e642b2ef"),d(),_r_()}),t(".map_full_overlay__mask").on("click",function(){_i_("269:e642b2ef1"),d(),_r_()}),_.get("triggerAutoOpen")?location.hash=n+"-auto_open":u(),_r_()}),B.when({action:["searchresults","hotel"],events:"ready"}).run(function(e){_i_("269:38c0f1d5");var t=e("et"),i=e("jquery"),n=e("server-data"),r="YdXfCcBUEKTQAPcMbfeaT";"searchresults"===n.b_action&&t.stage(r,1),"hotel"===n.b_action&&t.stage(r,6),"hotel"===n.b_action&&n.b_is_high_value_customer&&t.stage(r,8),t.on("view",".property_page_surroundings_block").stage(r,9),i("#hotel_sidebar_static_map").on("click",function(){_i_("269:8c464d42"),t.goalWithValue("js_location_www_hp_sidebar_static_map_clicked",1),_r_()}),i("#hotel_address").on("click",function(){_i_("269:2e20b52b"),t.goalWithValue("js_location_www_hp_address_line_marker_icon_clicked",1),_r_()}),i(".js-hp_address_subtitle").on("click",function(){_i_("269:18cf83c4"),t.goalWithValue("js_location_www_hp_address_line_text_clicked",1),_r_()}),i(".address .pub_trans").on("mouseenter",function(){_i_("269:9ed521ce"),t.goalWithValue("js_location_www_hp_address_line_transport_hovered",1),_r_()}),i(".address .pub_trans").on("click",function(){_i_("269:36c5167a"),t.goalWithValue("js_location_www_hp_address_line_transport_clicked",1),_r_()}),i(".address_clean span .show_on_map_hp_link").on("click",function(){_i_("269:c6277309"),t.goalWithValue("js_location_www_hp_address_line_show_map_clicked",1),_r_()}),i(".hp-hotel-description-header .show_on_map_hp_link").on("click",function(){_i_("269:c2efeed3"),t.goalWithValue("js_location_www_hp_description_show_map_clicked",1),_r_()}),i(".show_map_surroundings .show_on_map_hp_link").on("click",function(){_i_("269:1a27164d"),t.goalWithValue("js_location_www_hp_surroundings_show_map_clicked",1),_r_()}),i(".property_page_surroundings_block .hp-poi__walking-score").on("mouseenter",function(){_i_("269:8846e568"),t.goalWithValue("js_location_www_hp_surroundings_walking_info_hovered",1),_r_()}),i(".property_page_surroundings_block .hp-poi__walking-score").on("click",function(){_i_("269:931dd92b"),t.goalWithValue("js_location_www_hp_surroundings_walking_info_clicked",1),_r_()}),i(".hp_location_block__section_container .bui-title").on("click",function(){_i_("269:37f6b382"),t.goalWithValue("js_location_www_hp_surroundings_title_clicked",1),_r_()}),i(".hp_location_block__section_container .bui-list__item-action").on("click",function(){_i_("269:f7f47775"),t.goalWithValue("js_location_www_hp_surroundings_distance_clicked",1),_r_()}),i(".hp_location_block__section_container .bui-list__description").on("click",function(){_i_("269:6f395d93"),t.goalWithValue("js_location_www_hp_surroundings_text_clicked",1),_r_()}),i(".hp_location_block__section_container .hp_location_block__section_list_key_tag").on("click",function(){_i_("269:6f395d931"),t.goalWithValue("js_location_www_hp_surroundings_text_clicked",1),_r_()}),i(".property_page_surroundings_block #cta-surroundings").on("click",function(){_i_("269:4f1733d7"),t.goalWithValue("js_location_www_hp_surroundings_availability_clicked",1),_r_()}),_r_()}),B.define("hotel/tpi/data-api",function(e,t,i){_i_("269:5bdd187b");var _,o,a=e("promise"),s=e("et"),l=e("server-data");if("mdot"==B.env.b_site_type&&"hotel"==B.env.b_action)var c=e("hotel/roomstable/extra-charges");function d(e){_i_("269:a0cb4c70"),B.squeak&&B.env.wholesaler_configuration.tpi_track_ajax_failures&&e&&B.squeak(e),_r_()}function h(e,t){return _i_("269:c6ffc0a4"),_r_(function(){return _i_("269:084bf321"),_r_(e.apply(t,arguments))})}function n(e,t){return _i_("269:69b3547e"),_r_([t||u(e),e])}function u(e){_i_("269:bde68d8a");var t=B.utils.accounting.formatMoney(e);return _r_($("<textarea />").html(t).text())}i.exports={run:function(e,t,i,n){_i_("269:48a69ba8");var r=(B.env||{}).wholesaler_configuration||{};return o&&n&&(o.should_abort=1,_=void 0),_||(_=new a(h(function(t,i){_i_("269:6f7d7013"),(_i_("269:67c2c5e3"),l.b_tpi_rooms_available?_r_(new a(function(e){_i_("269:c3441d82");var t={data:{},status:200};l.b_tpi_rooms_available.min_room_block&&(l.b_tpi_rooms_available.min_room_block.hotel_id=l.b_hotel_id),t.data[l.b_hotel_id]=l.b_tpi_rooms_available,"0"!==l.wholesaler_configuration.b_3pi_thirdparty_api_failed?setTimeout(function(){_i_("269:62e0190f"),e(t),_r_()},700):e(t),_r_()})):_r_({then:function(){}})).then(h(function(e){_i_("269:ee567677"),this.should_abort?i("frg-aborted"):e&&e.data?t(e.data):i("frg-error"),_r_()},this),function(e,t){_i_("269:f5b8d0e4"),d(t&&"timeout"===t?r.tpi_av_timeout_squeak_name:r.tpi_av_squeak_name),i("av-error"),_r_()}),_r_()},o={}))),_r_(_)},preprocessHP:function(e){_i_("269:86cef446"),this.setExtraPriceAvg(e),this.setGrossPriceAvg(e),this.roundPrices(e),this.setShownFacilities(e),this.countBeds(e),_r_()},postprocessHP:function(e){_i_("269:0bc1ad0e"),this.setTotalPrice(e),_r_()},hasSurcharge:function(e){return _i_("269:064aa2ef"),_r_(e.price_detail&&e.price_detail.total_pay_now_and_pay_at_property_price&&n(e.price_detail.total_pay_now_and_pay_at_property_price,e.price_detail.total_pay_now_and_pay_at_property_price_pretty))},countBeds:function(e){_i_("269:47b2d6c8"),e.room_description.bed_configurations&&e.room_description.bed_configurations.forEach(function(e,t){_i_("269:6b4cafcf"),e.count=e.bed_types.length?e.bed_types.reduce(function(e,t){return _i_("269:014a7a48"),_r_(e+t.count)},0):0,_r_()}),_r_()},getDailyPrice:function(e){_i_("269:cbc41076");var t=l.tpi_search_config||l.b_search_config;return _r_(parseFloat((e/t.b_nr_rooms_needed).toFixed(2)))},getGrossPrice:function(e){if(_i_("269:8b48aa6c"),e.price_display&&!B.env.b_sr_replatforming_holdout)return _r_(n(e.price_display.gross_price,e.price_display.gross_price_formatted));var t=this.hasSurcharge(e);return _r_(t||n(e.b_price_unformatted,e.price_formatted))},getPriceInclusionCaption:function(e){if(_i_("269:df2f4c2d"),e.price_display&&!B.env.b_sr_replatforming_holdout)return"us"===l.ip_country?_r_(""):"inclusive"===e.price_display.price_inclusion?_r_(B.jstmpl.translations("sr_search_card_includes_taxes_charges")):_r_(B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:e.price_display.extra_price_formatted}));var t=this.hasSurcharge(e);return"inclusive"===e.price_inclusion||t?_r_(B.jstmpl.translations("sr_search_card_includes_taxes_charges")):_r_(B.jstmpl.translations("sr_hp_taxes_and_charges_exception"))},roundPrices:function(e){_i_("269:199d0f00"),e.b_price_unformatted&&(B.env.fe_arp_d_sr_properties_list||B.env.fe_arp_m_sr_properties_list)&&(e.price_formatted=u(e.b_price_unformatted)),_r_()},setGrossPriceAvg:function(e){_i_("269:d0732ced");var t,i=this.hasSurcharge(e);t=e.price_display?e.price_display.gross_price||e.b_price_unformatted:i?i[1]:e.b_price_unformatted,e.price_avg_unformatted=this.getDailyPrice(t),e.price_avg_formatted=u(e.price_avg_unformatted),_r_()},setExtraPriceAvg:function(e){if(_i_("269:bbca4f17"),e.price_display){var t=e.price_display.extra_price||0;e.price_display.extra_price_avg=this.getDailyPrice(t),e.price_display.extra_price_avg_formatted=u(e.price_display.extra_price_avg)}_r_()},setShownFacilities:function(e){_i_("269:ba84493e");var t=e.room_description;t.fe_shown_facilities=t.facilities,t.fe_use_mapped_facilities=t.booking_room_id&&t.use_mapped_facilities,_r_()},setTotalPrice:function(e){if(_i_("269:1f7598fc"),s.track("PPXGSCZDSSYZTNReKfdSDeSHRbdFIKe"))if("www"==B.env.b_site_type){var i=e.b_stay_prices[1].b_stays,t=JSON.parse(JSON.stringify(Object.assign({},e.b_price_breakdown[0])));Object.keys(t).forEach(function(e){_i_("269:e4dac002"),t[e]&&t[e].length&&(t[e]=t[e].map(function(e){_i_("269:5c890e81");var t=e.b_raw_value||e.b_raw_value_user_currency;if(t)return _r_(Object.assign(e,{b_value:B.utils.accounting.formatMoney(t*i),b_value_user_currency_rounded:B.utils.accounting.formatMoney(Math.round(t*i))}));return _r_(e)})),_r_()}),e.b_price_breakdown_total=[t]}else if("mdot"==B.env.b_site_type){var n=l.tpi_search_config||l.b_search_config;e.fe_total_price=Math.round(parseFloat(e.b_stay_prices[1].b_raw_price)),e.fe_total_price_formatted=u(e.fe_total_price);var r={};r.tpi_room_block=c.getExtraCharges("tpi_room_block",n.b_nr_rooms_needed,!0),e.fe_extra_charges_text=c.getExtraChargesText(r,!0)}_r_()}},_r_()}),B.define("hotel/tpi/postproc-api",function(e,t,i){_i_("269:cca324dc"),i.exports={send_postproc_request:function(e){_i_("269:97faa462");var t="";"object"==typeof e?(e.forEach(function(e){_i_("269:1bdb3ed6"),t+=e+"_",_r_()}),t=t.substring(0,t.length-1)):t=""+e;var i=B.env.b_countrycode;$.getJSON("/tpi_postproc?hotel_ids="+t+"&cc="+i+"&src=sr",null,function(){}),_r_()}},_r_()}),B.define("component/tpi/placeholder-loader",function(e,t,i){_i_("269:3576f316");var n=e("jquery"),r=n(".tpi--cst-placeholder-source");function _(e){_i_("269:5c5da1e2"),e.find('[data-placeholder="1"]').each(function(e){_i_("269:ca51c9e6"),function(e){_i_("269:f58e2041");var t,i=e.data("placeholderSource"),n=e.data("noClone");i&&(t=r.find("#"+i)),t.length&&(n?e.replaceWith(t.detach()):e.replaceWith(t.clone())),_r_()}(n(this)),_r_()}),_r_()}function o(){_i_("269:25c0dd25"),_(this),_r_()}t.loadPlaceholders=_,t.registerJQuery=function(){_i_("269:d1d50807"),n.fn.loadTPIPlaceholders=o,_r_()},_r_()}),function(){_i_("269:ff486d99");var b=B.require("jquery"),a=B.require("promise"),i=b.Deferred(),s=new a(function(e,t){_i_("269:f47983c0"),i.then(function(){_i_("269:06630aca"),e(),_r_()},function(){_i_("269:ac180d96"),t(),_r_()}),_r_()});B._tpiCSTDeferred=i,B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:b9fba16c");var t=e("et");if(B.env.b_dev_server){var i=sessionStorage.getItem("tpi_av");i&&(B.env.b_tpi_rooms_available=JSON.parse(i))}var n=(1==B.env.b_bookings_owned||B.env.ws_sp_allowed)&&B.env.wholesaler_configuration&&B.env.wholesaler_configuration.url&&B.env.wholesaler_configuration.b_bbasic_availability_api_request,r=t.track("PPXGSCZDSSYZTNReKfdSDeSHRbdFIKe")&&B.env.b_tpi_rooms_available,l=e("jstmpl"),c=e("hotel/tpi/data-api"),d=e("hotel/tpi/postproc-api"),_=e("component/tpi/placeholder-loader"),h=e("component/tpi/room_block/block_v2"),u=e("component/tpi/room_block/tmpl_data"),f=B.env.b_3pi_thirdparty_api_failed,p=b(".hprt-table > tbody"),o=function(){_i_("269:8287c28e");var e=b(l("tpi_roomblock").render({show_placeholders:!0})),t=new h;e.addClass("tpi_room_block__apif"),p.prepend(e),t.prepare({el:e[0],$el:e}),t.init&&t.init({showNoResultsFound:!0}),b(window).resize(),_r_()};if(f&&b(function(){_i_("269:a5eee273"),s.then(o),_r_()}),!n&&!r)return _r_();_.registerJQuery(),a.all([c.run(B.env.wholesaler_configuration.url,B.env.wholesaler_configuration.b_bbasic_availability_api_request,B.env.wholesaler_configuration.b_bbasic_decision_fragment_request),s]).then(function(e){_i_("269:12538ab6");var t,_,i,n=e[0],r=B.env.b_hotel_id,o=n[r],a=l("tpi_roomblock"),s=n.exps||{};o&&(Array.isArray(o)?(t=[],o.forEach(function(e){_i_("269:c97cf4d3"),t.push(e.min_room_block),_r_()})):t=[o.min_room_block],_=t.length,i=t.reverse().map(function(e,t){_i_("269:7a44da34");var i=new h,n=Object.assign({room_block:e,exps:s,booking_rooms_facilities:B.env.wholesaler_configuration.b_booking_rooms_facilities},u);c.preprocessHP(n.room_block),n.tpi_search_config=B.env.tpi_search_config;var r=b(a.render(n));return f?b(".tpi_room_block__apif").after(r):p.prepend(r),i.prepare({el:r[0],$el:r}),i.init&&i.init(e,s,_-t-1),c.postprocessHP(n.room_block),_r_(i)}),b(window).resize(),b(document).ready(function(){_i_("269:f5701d94"),h.bindToRoomsTable(i.map(function(e){return _i_("269:052a55f9"),_r_(e.mappedRoomData)})),d.send_postproc_request(r),_r_()})),_r_()}).catch(function(){}),_r_()}),_r_()}(),_i_("269:fbd0027c"),B.when({events:"ready"}).run(function(o){_i_("269:a4b58f14");var a=o("jquery");!function(){_i_("269:25016e2d");var e,t,i="tpi_counters__hotel_id__"+B.env.b_hotel_id,n=Date.now(),r={};if(a.cookie(i)&&(r=JSON.parse(a.cookie(i))),r.timestamp&&n-r.timestamp<36e5){var _=o("et");"book1"==r.last_seen?(r.last_seen="hp1",_.goal("bbasic_bp_hp_1")):"book2"==r.last_seen?(r.last_seen="hp2",_.goal("bbasic_bp_hp_2")):"book3"==r.last_seen&&(r.last_seen="hp3",_.goal("bbasic_bp_hp_3")),r.timestamp=n,e=r,t=i,_i_("269:b723ffd0"),a.cookie(t,JSON.stringify(e),{expires:1,path:"/",domain:".booking.com"}),_r_()}_r_()}(),_r_()}),_r_(),B.define("dismiss-item",function(e,t,i){_i_("269:4fa1a5b8");var n=e("jquery");i.exports=function(e){if(_i_("269:ffcf03b7"),!e)throw new Error("param itemId is required");return _r_(n.ajax({url:"/dismiss_item",type:"POST",data:{item_id:e}}))},_r_()}),B.define("component/dismissible-item/block",function(e,t,i){_i_("269:1d6e38f0");var n=e("component"),r=e("dismiss-item"),_=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:60262eac"),this.options=_(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),this._bindEvents(),_r_()},_bindEvents:function(){_i_("269:bc2d0b27"),this.$el.on("click",".js-close",function(){_i_("269:5fb0e455"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){return _i_("269:40f33ccd"),_r_(r(this.options.itemId))},hide:function(){_i_("269:9a2d9335"),this.$el.hide(),_r_()}}),_r_()}),B.define("component/dismissible-item/on-init",function(e,t,i){_i_("269:8d48d686");var n=e("component"),r=e("dismiss-item"),_=e("read-data-options");i.exports=n.extend({init:function(){return _i_("269:16676dbf"),this.options=_(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),_r_(r(this.options.itemId))}}),_r_()}),booking.jstmpl("lists_share_template",function(){_i_("269:4ff53ab4");var n=["\n    "," padding: 5px; color: #1d3386; font-size: 12px; ","\n\n"," width: 100%; font-size: 13px; padding: 4px; ",'\n\n<div style="','">\n    <p>\n        ',"/private/share_list_with_friend_3/name",'\n    </p>\n    <p>\n        <input\n            class="js-lists-share-input"\n            style="','"\n            readonly\n            type="text"\n            value="','">\n    </p>\n</div>\n',"\n"],r=["lists_share_appearance","lists_share_input_appearance","sharing_url"];return _r_(function(e){_i_("269:f3d6fcd5");var t="",i=this.fn;return t=function(e){_i_("269:51b9b038");var t="";return t+=n[1],i.MN(r[0],t),e+=n[2],t="",t+=n[3],i.MN(r[1],t),e+=[n[4],i.MB(r[0]),n[5],i.ME(n[6],i.MB,i.MN,null),n[7],i.MB(r[1]),n[8],i.MB(r[2]),n[9]].join(""),_r_(e)}(t+=n[0]),t+=n[10],_r_(t)})}()),booking.jstmpl("price_watch_example_email",function(){_i_("269:21d415a9");var n=['\n    <div class="price-watch-example">\n        <div class="price-watch-example__text">','</div>\n        <img class="price-watch-example__image" src="','">\n    </div>\n'],r=["annotrans_price_watch_example_1"];return _r_(function(e){_i_("269:12eb874a");var t="",i=this.fn;return t+=[n[0],i.MB(r[0]),n[1],i.STATIC_HOSTNAME("/static/img/pricewatch/price-watch-sample.jpg",0,0,0,0),n[2]].join(""),_r_(t)})}()),booking.jstmpl("price_watch_banner",function(){_i_("269:003c616c");var r,_=["\n    ",'<div class="price-watch-banner">\n\t<span class="pw-icon"></span>\n\t<div class="pw-inner">\n\t','\n\t\t<button class="b-button b-button_primary pw-stop-button" type="button">','</button>\n\t\t<strong class="pw-title">','</strong>\n\t\t<p class="pw-text">',"</p>\n\t",'\n\t\t<button\n\t\t\tclass="',"b-button b-button_primary pw-start-button ","pw-banner-start-button",'"\n\t\t\ttype="button"\n\t\t>',"</a>",'<a class="pw-link" href=#>',"\n\t</div>\n</div>\n","\n"],o=["deals_price_watch9","deals_price_watch_1","deals_price_watch_2","watching","b_include_dropdown","deals_price_watch6","deals_price_watch1","deals_price_watch7"];return _r_(function(e){_i_("269:81b3c087");var t,i="",n=this.fn;return i+=_[0],t=i,_i_("269:b2ba87ba"),t+=_[1],n.MD(o[3])?t+=[_[2],n.MB(o[0]),_[3],n.MB(o[1]),_[4],n.MB(o[2]),_[5]].join(""):(t+=_[6],t+=_[7],n.MD(o[4])&&(t+=_[8]),t+=[_[9],n.MB(o[5]),_[3],n.MB(o[6]),_[4],(e.unshift({end_link:_[10],start_link:_[11]}),r=n.MB(o[7]),e.shift(),r),_[5]].join("")),t+=_[12],i=_r_(t),i+=_[13],_r_(i)})}()),booking.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2",function(){_i_("269:a7b923a4");var o,a=["\n    <div class='big_tooltip_x'>\n        <h1>","</h1>\n        ","\n            <p>\n                <strong>\n                    ","\n                        ",", ","\n                    ","\n                </strong>\n                <br />\n            </p>\n        ","\n        <hr/>\n\n        <p>\n            <strong>","/private/bp_dates_num_nights_1/name","</strong><br />\n        </p>\n        <p>\n            ","/private/check_in/name",": </span>","\n        </p>\n        <p>\n            ","/private/check_out/name","\n        </p>\n\n    </div>\n\n    <div class='big_tooltip_message'>\n        ","\n            ","/private/ge_boost_hp_rt_reserve_button_hover_nongenius/name","\n        ","\n                ","/private/hp_rt_reserve_hover_no_account_2_minutes/name","\n    </div>\n\n    ",'\n            <div class="big_tooltip_message big_tooltip_message__green pay_later">\n                ',"/private/hp_rt_pay_at_property/name","\n            </div>\n        ","\n    ","\n\n"],s=["b_hotel_name","b_room_details","b_room_name","b_interval","b_checkin_localized_date_with_weekday","b_checkout_localized_date_with_weekday","b_user_auth_level_is_low_or_high","b_all_rooms_have_pay_later","b_is_lightbox"];return _r_(function(e){_i_("269:5bac2ea0");var t="",i=this.fn;if(t+=[a[0],i.F.html(i.MC(s[0])),a[1]].join(""),i.MD(s[1])){t+=a[2];var n=i.MC(s[1])||[];e.unshift(null);for(var r=1,_=n.length;r<=_;r++)e[0]=n[r-1],t+=[a[3],i.F.html(i.MC(s[2]))].join(""),i.MJ(r==n.length)||(t+=a[4]),t+=a[5];e.shift(),t+=a[6]}return t+=[a[7],(e.unshift({num_nights:i.MC(s[3])}),o=i.ME(a[8],i.MB,i.MN,i.MO(i.MC(s[3]),null,a[8])),e.shift(),o),a[9],i.ME(a[10],i.MB,i.MN,null),a[11],i.MC(s[4]),a[12],i.ME(a[13],i.MB,i.MN,null),a[11],i.MC(s[5]),a[14]].join(""),i.MJ(i.track_experiment("dDfPJeaILYDCMMWZNKdPYOWdDC"))?t+=[a[15],i.ME(a[16],i.MB,i.MN,null),a[17]].join(""):(t+=a[15],i.MD(s[6])?t+=[a[18],i.ME(a[16],i.MB,i.MN,null),a[15]].join(""):t+=[a[18],i.ME(a[19],i.MB,i.MN,null),a[15]].join(""),t+=a[17]),t+=a[20],i.MK(i.MC(s[8]))&&(t+=a[17],i.MD(s[7])&&(t+=[a[21],i.ME(a[22],i.MB,i.MN,null),a[23]].join("")),t+=a[24]),t+=a[25],_r_(t)})}()),booking.jstmpl("cheapest_banner_block",function(){_i_("269:2391b89d");var n,r=['\n    <tr id=\'cheapestBanner\' class="blockBanner" data-cheapest-room-id="','" data-cheapest-block-id="',"\">\n        <td\n            colspan=\"4\"\n            class='cheapest_banner'>\n            <div class='cheapest_banner_content'>\n            <i class='bicon-pricetag'></i>\n            <span>\n                ","/private/hp_rt_jackpot_cheapest_youve_seen_city/name","</b>","<b>","\n                <br><br>\n                <b>\n                    ","     ","   ","\n                    ","    ","  ","\n\n                    ","/private/hp_best_priced_your_search_v2_jackpot_dates/name","\n                </b>\n            </span>\n            </div>\n        </td>\n    </tr>\n"],_=["room_id","block_id","in_city_name","fe_localized_checkin_date","checkin_date","fe_localized_checkout_date","checkout_date","num_nights"];return _r_(function(e){_i_("269:00ed6e12");var t="",i=this.fn;return t+=[r[0],i.MC(_[0]),r[1],i.MC(_[1]),r[2],(e.unshift({end_bold:r[4],in_city_name:i.MB(_[2]),start_bold:r[5]}),n=i.ME(r[3],i.MB,i.MN,null),e.shift(),n),r[6]].join(""),i.MN(_[3],[r[7],i.DATE(i.MB(_[4]),"short_date_with_weekday_without_year","","",""),r[8]].join("")),t+=r[9],i.MN(_[5],[r[10],i.DATE(i.MB(_[6]),"short_date_with_weekday_without_year","","",""),r[11]].join("")),t+=[r[12],(e.unshift({date_with_short_weekday_without_year:i.MB(_[3]),date_with_short_weekday_without_year_1:i.MB(_[5]),num_nights:i.MB(_[7])}),n=i.ME(r[13],i.MB,i.MN,i.MO(i.MC(_[7]),null,r[13])),e.shift(),n),r[14]].join(""),_r_(t)})}()),booking.jstmpl("hp_book_now_summary",function(){_i_("269:0dcb9eeb");var n,r=["/private/{summary_copy}/name","\n"],_=["fe_accommodation_type","fe_num","fe_price"];return _r_(function(e){_i_("269:a6990732");var t="",i=this.fn;return i.MJ(201==i.MB(_[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_apartments"):i.MJ(220==i.MB(_[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_holiday"):i.MJ(213==i.MB(_[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_villa"):i.MJ(228==i.MB(_[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_chalet"):i.MJ(!/^(204|205)$/.test(i.MB(_[0])))?i.MN("summary_copy","gsb_hp_book_now_cta_alt"):i.MN("summary_copy","gsb_hp_book_now_cta_room"),t+=[(e.unshift({group_recommendation_price:i.MB(_[2]),num:i.MB(_[1])}),n=i.ME(r[0],i.MB,i.MN,i.MO(i.MC(_[1]),null,r[0])),e.shift(),n),r[1]].join(""),_r_(t)})}()),booking.jstmpl("template_gallery_new_photo",function(){_i_("269:bee9dd28");var n=["\n    ","\n        ","/private/prc_pg_new_photo/name","/private/prc_pg_recent_photo/name","\n"],r=["isNew"];return _r_(function(e){_i_("269:3cf270a5");var t="",i=this.fn;return t+=n[0],i.MD(r[0])?t+=[n[1],i.ME(n[2],i.MB,i.MN,null),n[0]].join(""):t+=[n[1],i.ME(n[3],i.MB,i.MN,null),n[0]].join(""),t+=n[4],_r_(t)})}()),booking.jstmpl("template_gallery_new_photo_modal",function(){_i_("269:9023a643");var n=['\n    <div class="bh-photo-modal-recent__body js-img-width">\n        <span class="bh-photo-modal-recent__badge">\n            ',"\n                ","/private/prc_pg_new_photo/name","\n            ","/private/prc_pg_recent_photo/name","\n        </span>\n    </div>\n"],r=["isNew"];return _r_(function(e){_i_("269:c372a28d");var t="",i=this.fn;return t+=n[0],i.MD(r[0])?t+=[n[1],i.ME(n[2],i.MB,i.MN,null),n[3]].join(""):t+=[n[1],i.ME(n[4],i.MB,i.MN,null),n[3]].join(""),t+=n[5],_r_(t)})}()),function(){_i_("269:98d34168");var e=window.booking,r=e.require("jquery"),n=e.require("ga-tracker"),_="Price Alert: ",o=function(){};try{"object"==typeof localStorage&&localStorage["debug:price_watch"]&&(o=function(){_i_("269:5344e470"),console.log.apply(console,arguments),_r_()})}catch(e){}function a(){_i_("269:4cf9ef28"),this.watching=booking.env.b_price_alert_exists,booking.events.Emitter.extend(this),_r_()}function s(){var e;if(_i_("269:08731006"),n.trackEvent(n.clickTracker,_+"Signin form"),e=r(".js-user-access-menu-lightbox .user_access_form"),booking.command("show-auth-lightbox").run({titleSignin:booking.env.priceWatch.b_signin_header}),e.each(function(e,t){_i_("269:958e384c");var i=r.extend({},booking.hotel.priceWatch.data(),{for_price_alert:1}),n=[];r.each(i,function(e,t){_i_("269:40c9f1b9"),n.push('<input type="hidden" name="price_alert_'+e+'" value="'+t+'">'),_r_()}),r(t).append(n.join("")),_r_()}),!1===booking.hotel.priceWatch.watching)try{localStorage.setItem("price_watch_after_login",1),o("Setting delayed price watch")}catch(e){}_r_()}a.prototype.data=function(){return _i_("269:3162e1ea"),_r_({checkin:booking.env.b_checkin_date,checkout:booking.env.b_checkout_date,currency:booking.env.b_selected_currency||booking.env.b_hotel_currencycode,hotel_id:booking.env.b_hotel_id,language:booking.env.b_lang,adults:booking.env.b_occupancy.adults,children:booking.env.b_occupancy.children,rooms:booking.env.priceWatch.b_price_alert_rooms,price:booking.env.priceWatch.b_price_alert_price})},a.prototype.params=function(e){return _i_("269:bc70cd6a"),_r_(r.extend({aid:booking.env.b_aid,sid:booking.env.b_sid,stype:booking.env.b_site_type_id,lang:booking.env.b_lang_for_url},e))},a.prototype.watchNotify=function(){_i_("269:2a9c0248");var e=window.location.search;if(!this.watching||e.indexOf("auth_success=1")<0&&e.indexOf("account_created=1")<0)return _r_();try{o("Checking delayed price watch");var t=localStorage.getItem("price_watch_after_login");localStorage.removeItem("price_watch_after_login"),t&&(o("Triggering delayed price watch"),setTimeout(function(){_i_("269:cff1088c"),booking.lightbox.show(r(".js-price-watch-unsubscribe--watch"),{customWrapperClassName:"price-watch-unsubscribe-wrapper"}),_r_()},0))}catch(e){}_r_()},a.prototype.subscribe=function(t){_i_("269:76721fc7");var i=this,e=this.data();o("Subscribing",e),r.post("/pricealerts/subscribe",this.params(e),function(e){if(_i_("269:93a0da05"),"success"==e.status||"already_subscribed"==e.reason)i.watching=!0,i.emit("change"),o("Subscribe successful",e);else{if("failed"!=e.status)throw new Error("Price alert subscribe failed - "+[e.param,e.reason].join(" "));i.emit("error",e),e.reason&&i.emit("error:"+e.reason),o("Subscribe failed",e)}"function"==typeof t&&t(e),_r_()}),_r_()},a.prototype.unsubscribe=function(t){_i_("269:2fdec292");var i=this,e={checkin:booking.env.b_checkin_date,checkout:booking.env.b_checkout_date,hotel_id:booking.env.b_hotel_id};o("Unsubscribing",e),r.post("/pricealerts/unsubscribe",this.params(e),function(e){if(_i_("269:42fead06"),"success"==e.status)i.watching=!1,i.emit("change"),o("Unsubscribe successful",e);else{if("failed"!=e.status)throw new Error("Price alert unsubscribe failed - "+[e.param,e.reason]);i.emit("error",e),e.reason&&i.emit("error:"+e.reason),o("Unsubscribe failed",e)}"function"==typeof t&&t(e),_r_()}),_r_()},e.when({events:"ready"}).run(function(e){_i_("269:7cf71914"),booking.hotel.priceWatch=new a,booking.hotel.priceWatch.watchNotify(),booking.hotel.priceWatch.on("error:not_logged_in",s);var t=function(){_i_("269:afe76cb7");var e=r.fly.dropdown.extend({defaults:{extraClass:"ge-price-watch",position:booking.env.rtl?"bottom left":"bottom right",content:function(){return _i_("269:000c2e25"),_r_(this.template.render(this.data()))}},init:function(){_i_("269:40ede596"),this.template=booking.jstmpl("price_watch_dropdown"),_r_()},data:function(){return _i_("269:53dc7a9f"),booking.env.priceWatch.watching=booking.hotel.priceWatch.watching,_r_(booking.env.priceWatch)},onrootready:function(){_i_("269:21f6b005");var t=this,e=this.root();this.bind(this.events.show,function(){_i_("269:8880bd5c"),n.trackEvent(n.clickTracker,_+"Show dropdown"),_r_()}),booking.hotel.priceWatch.on("change",this.update,this),booking.hotel.priceWatch.on("error:not_logged_in",this.hide,this),booking.hotel.priceWatch.on("error:too_many_alerts",function(){_i_("269:a0631179"),t.error("too-many-alerts"),_r_()}),booking.hotel.priceWatch.on("error",function(){_i_("269:6e4e3e22"),t.loading(!1),_r_()}),e.delegate(".pw-start-button","click",function(e){if(_i_("269:9df922f9"),/loading/.test(e.target.className))return _r_();t.loading(),t.error(!1),n.trackEvent(n.clickTracker,_+"Subscribe","dropdown"),booking.hotel.priceWatch.subscribe(),e.preventDefault(),_r_()}),e.delegate(".pw-stop-button","click",function(e){if(_i_("269:b058ee92"),/loading/.test(e.target.className))return _r_();t.loading(),t.error(!1),n.trackEvent(n.clickTracker,_+"Unsubscribe","dropdown"),booking.hotel.priceWatch.unsubscribe(),e.preventDefault(),_r_()}),e.delegate(".pw-sample-link","click",function(e){_i_("269:d2b6ba6c"),e.preventDefault(),n.trackEvent(n.clickTracker,_+"Example");var t=booking.jstmpl("price_watch_example_email").render();booking.lightbox.show(t),_r_()}),e.bind("click",function(e){_i_("269:e354901c"),e.stopPropagation(),_r_()}),_r_()},error:function(e){_i_("269:7bfa9d44"),this.root().find(".js-alert").hide(),e&&this.root().find(".js-alert--"+e).show(),_r_()},update:function(){_i_("269:dea737c6");var e=booking.hotel.priceWatch.watching;o("Updating dropdown",e),this.redraw();var t=this.handle().find(".js-price-watch-icon");t.toggleClass("ge_price_watch_icon_small_selected",e),t.toggleClass("ge_price_watch_icon_small",!e),_r_()},loading:function(e){_i_("269:42edeeac"),e=!arguments.length||e,this.root().find(".b-button_primary").toggleClass("loading",e),_r_()}});return _r_(e)}(),i=function(){_i_("269:68cf4095");var e={root:r(".price-watch-banner-container"),template:booking.jstmpl("price_watch_banner"),init:function(){return _i_("269:faa34f2c"),this.events(),_r_(this)},update:function(){_i_("269:6fb65d32"),this.root.html(this.template.render({watching:booking.hotel.priceWatch.watching})),_r_()},loading:function(){_i_("269:74428458"),this.root.find(".b-button_primary").addClass("loading"),_r_()},events:function(){_i_("269:7ebfc4ff");var t=this;this.root.delegate(".pw-start-button, .pw-link","click",function(e){if(_i_("269:476481e8"),/loading/.test(e.target.className))return _r_();t.loading(),n.trackEvent(n.clickTracker,_+"Subscribe","banner"),booking.hotel.priceWatch.subscribe(),e.preventDefault(),_r_()}),this.root.delegate(".pw-stop-button","click",function(e){if(_i_("269:be444433"),/loading/.test(e.target.className))return _r_();t.loading(),n.trackEvent(n.clickTracker,_+"Unsubscribe","banner"),booking.hotel.priceWatch.unsubscribe(),e.preventDefault(),_r_()}),booking.hotel.priceWatch.on("change",this.update,this),_r_()}};return _r_(e)}();t.create(".js-price-watch-dropdown-handle"),i.init(),booking.env.priceWatch&&booking.env.priceWatch.b_price_alert_canceled&&booking.lightbox.show(r(".js-price-watch-unsubscribe--one"),{customWrapperClassName:"price-watch-unsubscribe-wrapper"}),o(booking.hotel.priceWatch),_r_()}),_r_()}(),B.define("read-data-options",function(e,t,i){_i_("269:b2e7a21d1"),i.exports=function(r,_){_i_("269:9b133c1b1");var o={};return r.jquery&&(r=r[0]),Object.keys(_).forEach(function(e){_i_("269:dcce88771");var t=_[e],i="data-"+e,n=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!r.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}n=r.getAttribute(i);if(t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}o[e]=n,_r_()}),_r_(o)},_r_()}),B.define("component/core/lightbox/trigger",function(e,t,i){_i_("269:65afa4321");var n=e("read-data-options"),r=e("lightbox");i.exports=e("component").extend({init:function(){_i_("269:77c342bc1");var e=this.$el.data("event")||"click";this.options=n(this.el,{bCloseButton:{name:"close-button",type:Boolean},bCanScroll:{name:"scrollable",type:Boolean},bOverflowVisible:{name:"overflow-visible",type:Boolean},autoWidth:{name:"auto-width",type:Boolean},ajax:{name:"ajax",type:Boolean},iframe:{name:"iframe",type:Boolean},customWrapperClassName:{name:"wrapper-class",type:String},customMaskClassName:{name:"mask-class",type:String},bMaskClick:{name:"mask-click",type:Boolean},trigger:{name:"trigger",type:String},position:{name:"position",type:String},autoCenter:{name:"auto-center",type:Boolean},limitHeight:{name:"limit-height",type:Boolean},cloneElement:{name:"clone-element",type:Boolean},trapFocus:{name:"trap-focus",type:Boolean},modalLabeledById:{name:"modal-labeled-by-id",type:String},bAnimation:{name:"animation",type:Number},addDialogStartEndText:{name:"add-dialog-start-end-text",type:Boolean}}),"page-load"===e?(this.target=this.$el,$(document).ready(function(){_i_("269:55c7125e1"),setTimeout(this.open.bind(this),150),_r_()}.bind(this))):(this.target=this.$el.attr("href")||this.$el.data("src")||this.target,this.$el.bind(e,this.open.bind(this))),_r_()},open:function(e){_i_("269:44868de71"),e&&e.preventDefault&&e.preventDefault(),r.show(this.target,this.options),this.options.trigger&&B.events.trigger(this.options.trigger,e,this.target),_r_()}}),_r_()}),function(n){_i_("269:3ffe5162"),n.define("hotel/rooms-table/filter-core",function(e,t){_i_("269:fc78f261");var _,r=e("jquery");function o(t,i){_i_("269:740a87e5"),Object.keys(t).forEach(function(e){_i_("269:a74bd293"),t[e].forEach(function(e){var t;_i_("269:e8c15643"),i?(t=e,_i_("269:d31d9b01"),t.removeClass("roomRateSingle room-rate__disabled"),_r_()):function(e){_i_("269:e99e4ea0"),e.addClass("room-rate__disabled"),"msie"===n.env.b_browser&&e.addClass("roomRateSingle");_r_()}(e),_r_()}),_r_()}),_r_()}function a(e){return _i_("269:e8081b75"),_r_(e.reduce(function(e,t){_i_("269:9ec9fb40");var i=t.attr("data-room-id");return e.rooms[i]||e.order.push(i),e.rooms[i]=e.rooms[i]||[],e.rooms[i].push(t),_r_(e)},{rooms:{},order:[]}))}function i(){_i_("269:414f44de");var e=Array.prototype.slice.call(arguments);return _r_(function(i){return _i_("269:c40b34af"),_r_(e.reduce(function(e,t){return _i_("269:1e96d4e7"),_r_(e||t(i))},!1))})}t.match=function(e,n){return _i_("269:5af548db"),_r_(e.reduce(function(e,t){_i_("269:52d05998");var i=r(t);return e[n(i)?"success":"fail"].push(i),_r_(e)},{success:[],fail:[]}))},t.apply=function(e,t){_i_("269:71d4fcfe");var i=a(e.success),n=a(e.fail),r=!e.fail.length&&e.success.length;!_&&r&&(_=i.order[0]);o(i.rooms,!0),o(n.rooms,!1),e.fail.length&&i.order.forEach(function(e){_i_("269:c9639b4e"),i.rooms[e]=i.rooms[e].sort(function(e,t){_i_("269:35b11198");var i=parseFloat(e.data("ratePrice")),n=parseFloat(t.data("ratePrice"));return _r_(i-n)}),_r_()});_r_()},t.filterTypes={or:i,and:function(){_i_("269:e4a71021");var e=Array.prototype.slice.call(arguments);return _r_(function(i){return _i_("269:25676b4f"),_r_(e.reduce(function(e,t){return _i_("269:d9a85a30"),_r_(e&&t(i))},!0))})},radio:i},t.filters={occupancy:function(e,t){if(_i_("269:36077c69"),e&&e.filterValue)return _r_(t.data("occupancy")===e.filterValue);throw"`filterValue` must be provided"},breakfast:function(e,t){if(_i_("269:af1b50ad"),e){var i=t.is("[data-filter-breakfast-included=1]");if(e.filterValue)return _r_(i);return _r_(!i)}_r_()},cancellation:function(e,t){if(_i_("269:df83a147"),e&&e.filterValue)return _r_(t.data("filterCancellation")===e.filterValue);_r_()},meal:function(e,t){if(_i_("269:aab25d1a"),e&&e.filterValue)return _r_(t.data("filterMealIncluded")===e.filterValue);_r_()},any:function(){return _i_("269:2b9083c0"),_r_(!0)}},_r_()}),_r_()}(window.booking),function(o){_i_("269:7e4ac1cd"),o.define("component/hotel/rooms-table/filter-ui",function(e,t,i){_i_("269:69a56bfa");var u=e("jquery"),n=e("component"),f=e("hotel/rooms-table/filter-core"),r=e("jstmpl"),_=e("events");function p(r,e){_i_("269:b9883b58");r=Object.keys(r).reduce(function(e,t){_i_("269:fed070a2");var i=r[t],n=Object.keys(i.values).filter(function(e){return _i_("269:56276e7d"),_r_("on"===i.values[e].filterState)}).map(function(e){return _i_("269:6a664535"),_r_(f.filters[t].bind(null,i.values[e]))});return 0<n.length&&e.push(f.filterTypes[i.config.filterType].apply(null,n)),_r_(e)},[]);return _r_(r.length?f.filterTypes[e].apply(null,r):f.filters.any)}function l(e,t){_i_("269:858e774b");var i=e.values[t].filterState;if("disabled"===i)return _r_();return"off"===i?e.values[t].filterState="on":"on"===i&&(e.values[t].filterState="off"),_r_(!0)}i.exports=n.extend({setupComponent:function(){_i_("269:2bee4d3e");var e=this.$el,t=e.data();Object.assign(t,{filterType:"and"}),this.config=t,this.$filterCount=e.find(".js-rt-filter-count"),this.filters={},this.items=u(t.items).toArray(),_r_()},setupFilters:function(){_i_("269:134bfb2b");var e=this.$el,r=this.filters;e.find("[data-filter]").each(function(){_i_("269:6c6b569a");var e=u(this),t=e.attr("data-filter"),i=e.attr("data-filter-type")||"radio",n=r[t]=r[t]||{};n.config=n.config||{},n.values=n.values||{},n.config.filterType=i,e.find("[data-filter-value]").each(function(){_i_("269:ada7995b");var e=u(this),t=e.attr("data-filter-value"),i=e.data();n.values[t]=n.values[t]||{},Object.assign(n.values[t],{filterState:"off"},i),_r_()}),_r_()}),_r_()},applyFilter:function(){_i_("269:3fb2db11");var e=p(this.filters,this.config.filterType),t=this.match=f.match(this.items,e);_.emit(this.events.filterMatched,t),f.apply(t,this.items),_.emit(this.events.filterApplied,this.filters),_r_()},setupEventHandlers:function(){_i_("269:07729e25");var e=this.$el,s=this;e.on("click","[data-filter-value]",function(e){_i_("269:b279d597"),e.preventDefault();var t=u(this),i=t.closest("[data-filter]"),n=i.attr("data-filter"),r=s.filters[n],_=r.config.filterType,o=t.attr("data-filter-value"),a=s.filterTypes[_]||s.filterType[l];a.call(s,r,o)&&(s.applyFilter(),s.updateUI()),_r_()}),_r_()},updateUI:function(){_i_("269:690ef1e5");var e=this.$el,d=this.filters,h=this,t=this.match.success.length;this.$filterCount.html(r.translations("hp_rt_filters_header",t,{num_rates:t})),e.find("[data-filter]").each(function(){_i_("269:b3ad9aa8");var e=u(this),s=e.attr("data-filter"),l=d[s],c=l.config.filterType;e.find("[data-filter-value]").each(function(){_i_("269:607c616b");var e=u(this),t=e.attr("data-filter-value"),i=l.values[t],n=i.filterState;if("on"!==n){var r=u.extend(!0,{},d),_=u.extend(!0,{},l);_.values[t].filterState="off",h.filterTypes[c].call(h,_,t),r[s]=_;var o=p(r,h.config.filterType),a=f.match(h.items,o);i.filterState=a.success.length?"off":"disabled"}e.attr("data-filter-state",i.filterState),_r_()}),_r_()}),_r_()},events:{filterApplied:o.hotel.Events.RT.FILTER_APPLIED,filterMatched:o.hotel.Events.RT.FILTER_MATCHED},filterTypes:{radio:function(t,i){_i_("269:608a2988");var e=t.values[i].filterState;{if("disabled"===e)return _r_();"off"===e?Object.keys(t.values).forEach(function(e){_i_("269:3eef1bee"),"disabled"!==t.values[e].filterState&&(t.values[e].filterState=e===i?"on":"off"),_r_()}):"on"===e&&Object.keys(t.values).forEach(function(e){_i_("269:f69b0b7f"),"disabled"!==t.values[e].filterState&&(t.values[e].filterState="off"),_r_()})}return _r_(!0)},and:l,or:l},init:function(){_i_("269:fd0a8b19"),this.setupComponent(),this.setupFilters(),this.applyFilter(),this.setupEventHandlers(),_r_()}}),_r_()}),_r_()}(window.booking),B.define("utils/deepequal",function(e,t,i){_i_("269:2885b5f1"),i.exports=function e(t,i,n){if(_i_("269:b8431e73"),typeof t!=typeof i)return _r_(!1);var r;for(r in i){if(!i.hasOwnProperty(r))continue;if(!t.hasOwnProperty(r))return _r_(!1);if("object"==typeof t[r]){if(!e(t[r],i[r],n))return _r_(!1);continue}if(n){if(t[r]!=i[r])return _r_(!1)}else if(t[r]!==i[r])return _r_(!1)}for(r in t){if(!t.hasOwnProperty(r))continue;if(!i.hasOwnProperty(r))return _r_(!1)}return _r_(!0)},_r_()}),_i_("269:216c409b"),B.when({action:"hotel",events:"ready",experiment:"OATBaQDSRVLLAZfFHKBVT"}).run(function(){_i_("269:1483e681");var e=document.querySelector(".js-header__logo"),t=document.querySelector(".js-hp-logo-prompt");e&&t&&e.addEventListener("click",function(e){_i_("269:cf530290"),e.preventDefault(),t.style.display&&"none"!==t.style.display?t.style.display="none":t.style.display="block",_r_()}),_r_()}),_r_(),B.when({action:"hotel"}).run(function(e){_i_("269:c0b22bce");var _=null,o=e("jquery"),a=e("jstmpl"),t=e("events"),i=o('[data-lang-item="true"]'),n=o(".reviewer_type_filter");t.on("hotel:reviewlist:success:tab",function(){_i_("269:4cf6a14b");var e=n.val();if(e===_)return _r_();_=e,i.each(function(e,t){_i_("269:5fa50ec1");var i=o(t),n=i.find(".language_review_count"),r=parseInt(i.data("review-count-"+_),10)||0;n.text(a.translations("reviews_number_hotel_display",r,{number_of_reviews:r.toString()})),_r_()}),_r_()}),_r_()}),function(e){_i_("269:d1ae6d14"),e.when({events:"ready",action:"hotel",condition:function(){return _i_("269:6f6b8e9c"),_r_(document.querySelectorAll(".hprt-table-cell-conditions").length&&document.querySelectorAll(".hprt-table .hprt-conditions-tooltip").length)}}).run(function(e){_i_("269:946b880e");var i=e("jquery"),n=window.BUI;i(".hprt-table .hprt-conditions-tooltip").each(function(){_i_("269:964bf7a2");var e=i(this).attr("data-policy-long-id"),t=i("#"+e).html();n.createInstance("Tooltip",this,{text:t}).mount(),_r_()}),_r_()}),_r_()}(booking),_i_("269:f3d136be"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:9d520dcf");var t=e("jquery"),i=t(".hprt-table .hprt-table-header").outerHeight();t(".js-fake-header").css({height:i}),B.events.emit("fake-header-loaded"),_r_()}),_r_(),B.when({}).run(function(e){_i_("269:11179fb9");var i=e("jquery");i(document).on("click",".js--rt-lightbox-reviews-container-close",function(e){_i_("269:724f65f2");var t=i(this).parents(".rt-lightbox-reviews-container").first();t.length&&t.addClass("g-hidden"),_r_()}),_r_()}),B.require(["please"],function(t){_i_("269:30a7a1be");function i(e,t,i){_i_("269:043efd7a");var n=e;i.target&&(n=$(i.target)),n[i.action].apply(n,t),_r_()}["empty","hide","show","remove","addClass","removeClass","toggleClass"].forEach(function(e){_i_("269:dd6253a8"),t.addAction(e,i),_r_()}),_r_()}),B.require(["please"],function(e){function t(e,t){_i_("269:456524a8"),B.et.customGoal(t[0],t[1]),_r_()}_i_("269:07fe50ab"),e.addAction("track",function(e,t){_i_("269:e27024b9"),B.et.track(t[0]),_r_()},{once:[]}),e.addAction("stage",function(e,t){_i_("269:52ce2044"),B.et.stage(t[0],t[1]),_r_()},{once:[]}),e.addAction("customGoal",t,{once:[]}),e.addAction("goal",t,{once:[]}),_r_()}),function(){_i_("269:6ebdb419");var l="action";B.define("please",function(e,t,i){_i_("269:2a3f1939");var n=[],r=B.debug("please");function _(e,t){return _i_("269:77d9fc05"),_r_(function(){return _i_("269:825d0223"),_r_(t.apply(this,[e].concat(Array.prototype.slice.call(arguments))))})}function o(e,t){if(_i_("269:acee3ab8"),!t)return _r_();t.on&&0!=t.on.length||(t.on=["init"],r.warn('Missing event-name on "'+t[l]+'". Will use on(init) instead.'));var i=_(function(){},function(){_i_("269:07cfb184"),function(e,t){_i_("269:5d52a65a"),n[t[l]]?n[t[l]](e,t.arguments,t):r.warn('Undetected action "'+t[l]+'", probably missing action plugin for please-component ');_r_()}(e,t),_r_()}.bind(this));switch(t.delay&&t.delay[0]?t.delay=function(e){_i_("269:450a64ea");var t=parseInt(e);return e.match(/\d+s/im)?t*=1e3:e.match(/\d+m(in)?$/im)&&(t=60*t*1e3),_r_(t)}(t.delay[0]):t.delay=0,i=_(i,function(e){_i_("269:d95be803"),setTimeout(e,t.delay),_r_()}),t.on[0]){case"view":B.tools.dom.watchIfBlockVisibleInViewport(e,i,!0);break;case"click":case"hover":case"focus":case"blur":case"mouseover":case"mouseenter":case"mouseleave":e.on(t.on.join(","),i);break;case"init":i();break;default:r.warn('Undetected event type: "'+t.on+'"')}_r_()}function a(e){_i_("269:74670c63");for(var t,i=[],n=!1,r=[],_=0;_<e.length;_++)" "===(t=e[_])||","===t?n?r.push(t):0<r.length&&(i.push(r.join("")),r=[]):"'"===t||'"'===t?n===t?n=!1:!1===n?(n=t,r.push("")):r.push(t):r.push(t);return 0<r.length&&(i.push(r.join("")),r=[]),_r_(i)}function s(e){_i_("269:fbde15b7");var n={},t=e.match(/\w+(\(.*?\))?/gim);if(!t)return 0<e.trim().length&&r.warn("Can't parse string, probably syntax error: "+e),_r_(!1);return t.forEach(function(e,t){_i_("269:c2de00fb");var i=e.indexOf("(");-1<i?0!=t?n[e.substring(0,i)]=a(e.substring(i+1,e.length-1)):(n[l]=e.substring(0,i),n.arguments=a(e.substring(i+1,e.length-1))):0!=t?n[0!=t?e:l]="":n[l]=e,_r_()}),_r_(n)}r.log("Core initialized"),i.exports={addAction:function(e,t,i){_i_("269:82ba9465"),n[e]=t,_r_()},go:function(e,t){_i_("269:c9283373"),e.split(";").map(s,this).forEach(function(e){_i_("269:1a9ba08a"),o(t,e),_r_()}.bind(this)),_r_()}},_r_()}),B.define("component/please",function(e,t,i){"use strict";_i_("269:d32de52b");var n=e("component"),r=e("please"),_=B.debug("please");i.exports=n.extend({init:function(){_i_("269:3b81329e"),_.log("[component] Incoming please-string: "+this.$el.attr("data-please")),r.go(this.$el.attr("data-please"),this.$el),_r_()}}),_r_()}),_r_()}(),B.define("hotel/price-control",function(e,t,i){_i_("269:4a1aaf5a");var n=e("event-emitter"),r=e("jstmpl"),_=function(){_i_("269:5e7c26d1"),this.options={classes:{active:"hp-availability-section--active",noNightsCount:"hp-availability-section--no-nights-count",nightsStayControl:"hp-availability-section--ns-control"}},this.$element=$(".js-hp-availability-section"),this.$checkin=this.$element.find(".lp_bold_date_picker_checkin span"),this.$checkout=this.$element.find(".lp_bold_date_picker_checkout span"),n.extend(this),this._addHandlers(),_r_()};return $.extend(_.prototype,{_addHandlers:function(){_i_("269:86f0334c");var t=this;this.$element.find(".lp_bold_date_picker_select").on("click",function(){_i_("269:2e2d86b1"),t._showCalendar(),_r_()}),this.$element.find(".lp_bold_date_picker_btn").on("click",function(){return _i_("269:a14636b4"),t._showCalendar(),_r_(!1)}),this._getNightsStayControlContainer().on("change",function(){_i_("269:a0bf6116"),t._setNightsStayCount(t._getNightsStayControl().val()),_r_()}),this._getNightsStayControlContainer().on("click",function(e){_i_("269:0f0101a8"),e.stopPropagation(),_r_()}),this.on("datesChanged",function(e){_i_("269:2f6774fb"),t._changeDates(e),_r_()}),_r_()},_showCalendar:function(){_i_("269:91a5a08d"),this.trigger("JACK:showCalendar"),this._enableCTA(),this._showNightStayControl(),_r_()},_enableCTA:function(){_i_("269:d92a044a"),this.$element.find(".lp_bold_date_picker_btn").prop("disabled",!1).removeClass("b-button_disabled"),this.$element.addClass(this.options.classes.active),_r_()},_showNightStayControl:function(){_i_("269:65f83452");var e=this;e.$element.addClass(e.options.classes.noNightsCount),setTimeout(function(){_i_("269:670b0811"),e._getNightsStayPresenter().hide(),e.$element.addClass(e.options.classes.nightsStayControl),_r_()},300),_r_()},_getNightsStayPresenter:function(){return _i_("269:ffc8868e"),_r_(this.$element.find(".b-form-number-of-nights"))},_getNightsStayControl:function(){return _i_("269:5a859a22"),_r_(this.$element.find(".js-hp-availability-section__nights-count"))},_getNightsStayControlContainer:function(){return _i_("269:23b5e451"),_r_(this._getNightsStayControl().parent())},_setNightsStayCount:function(e){_i_("269:bf7e866b"),this.trigger("JACK:changeNightsStayCount",e||1),_r_()},_getNightsStayCount:function(){return _i_("269:7daaff63"),_r_(this._getNightsStayControl().val())},_changeNightsStayTranslation:function(){_i_("269:cd473c44");var e=this._getNightsStayCount(),t=this._getNightsStayControlContainer(),i=this._getNightsStayControl().clone();i.find("option").removeAttr("selected"),i.find("option[value="+e+"]").attr("selected","selected"),t.html(r.translations("deals_flexi_calendar_nights_stay_selector",this._getNightsStayCount(),{number_nights:$("<div />").append(i).html()})),_r_()},_changeDates:function(e){_i_("269:fe28ed38");var t=B.formatter.date(e.checkinDate),i=B.formatter.date(e.checkoutDate);this._setCheckinDate(t),this._setCheckoutDate(i),_r_()},_setCheckinDate:function(e){_i_("269:10218408"),this.$checkin.text(e||""),_r_()},_setCheckoutDate:function(e){_i_("269:2cdf8319"),this.$checkout.text(e||""),_r_()}}),_r_(_)}),B.when({events:"ready",action:"hotel",condition:$("[data-ribbon-clickable=true]").length}).run(function(e){_i_("269:17e83f4a");var t,i=e("jquery"),n=e("window-scroller"),r=i("[data-ribbon-clickable=true]"),_="room_with_ribbon",o=_+"__highlighted",a=function(){_i_("269:b345f637");var e=r.attr("data-ribbon-percent"),t=i("[data-room-with-percentage="+e+"]");if(t&&t.length)return _r_(t.closest("tr").first());_r_()}(),s=!0;if(!a||!a.length)return r.on("click",function(){_i_("269:c0908f6f"),_i_("269:6e02b913"),n.scrollToBlock(i("#maxotel_rooms")),_r_(),_r_()}),_r_();t=a.add(a.prevAll(".maintr:first")),0<a.prevUntil(".maintr").length&&(s=!1),t.addClass(_),r.on("click",function(){_i_("269:fecb38eb"),function(){_i_("269:2611df2a"),a&&a.length&&n.scrollToBlock(a,s,void 0,s?90:void 0).then(function(){_i_("269:96c454cd"),_i_("269:b4f85fe1"),t.addClass(o),setTimeout(function(){_i_("269:6fb8236c"),t.removeClass(o),_r_()},600),_r_(),_r_()});_r_()}(),_r_()}),_r_()}),B.define("component/tpi/payment-icons",function(e,t,i){_i_("269:0ed6e17f");var n=e("jstmpl"),r=e("jquery");function _(e){_i_("269:a304cbb6"),this.$el=e,this._tmpl=n("tpi_roomblock_payment_icons"),this.endpointURL=B.env.wholesaler_configuration.payment_methods_url,_r_()}_.prototype._render=function(e){_i_("269:cb2dcc5f"),this.$el.html(this._tmpl.render({fe_payment_methods:e.payment_methods})),_r_()},_.prototype._fetchPaymentMethods=function(){return _i_("269:33c47559"),_r_(r.ajax({type:"GET",cache:!1,xhrFields:{withCredentials:!0},dataType:"json",contentType:"application/json; charset=utf-8",timeout:2e4,url:this.endpointURL,data:{cc1:B.env.b_guest_country,currency:B.env.b_selected_currency}}))},_.prototype.fetchAndRender=function(){_i_("269:09b23a37"),this._fetchPaymentMethods().then(this._render.bind(this)),_r_()},_.prototype.fetch=function(e){_i_("269:3bac7f11"),this._fetchPaymentMethods().then(e),_r_()},_.prototype.render=function(e){_i_("269:f6e9f07a"),this._render(e),_r_()},i.exports=_,_r_()}),B.define("component/tpi/room_block/tmpl_data",function(e,t,i){_i_("269:8b52e572");var n=B.env.wholesaler_configuration||{};i.exports={fe_tpi_breakfast_score:parseFloat(n.fe_tpi_breakfast_score||0),fe_tpi_breakfast_review_nr:parseInt(n.fe_tpi_breakfast_review_nr||0),no_paid_breakfast_included:n.no_paid_breakfast_included,breakfast_costs_extra:n.breakfast_costs_extra,b_checkin_checkout_interval_is_1:n.b_checkin_checkout_interval_is_1,b_checkin_checkout_interval:B.env.b_checkin_checkout_interval,fe_max_occupants:n.fe_max_occupants,b_is_aspiring_genius:n.b_is_aspiring_genius,fe_show_raf_disclaimer:n.fe_show_raf_disclaimer,b_hotel_class:B.env.b_hotel_class,b_companyname:B.env.b_companyname,fe_guest_country:B.env.b_guest_country,fe_terms_conditions_url:B.env.b_terms_and_conditions_url,b_lang:B.env.b_lang,b_lang_is_cjk:B.env.b_lang_is_cjk,b_lang_is_rtl:n.b_lang_is_rtl,b_book_window_zero:n.b_book_window_zero,b_show_citizen_vat_message:n.b_show_citizen_vat_message,paid_in_some_blocks:n.paid_in_some_blocks,b_tpi_optional_mealplans:n.b_tpi_optional_mealplans,b_is_eligible_to_show_bundles:B.env.b_is_eligible_to_show_bundles,b_search_config:B.env.b_search_config,ip_country:B.env.ip_country,b_3pi_thirdparty_api_failed:B.env.b_3pi_thirdparty_api_failed},_r_()}),B.define("component/tpi/room_block/block_v2",function(t,e,i){"use strict";_i_("269:b01a9218");var n,r,_,o,a=t("component"),s=t("jstmpl"),l=t("component/tpi/room_block/lightbox/lightbox_v2"),c=t("et"),d=t("events"),h=t("hotel/redux/actionTypes"),u=t("hotel/store"),f=B.env.wholesaler_configuration||{},p=t("component/tpi/room_block/tmpl_data"),b=[];function m(e,t,i){return _i_("269:f386f57a"),"hide"===t?e.hide():e.show(),_r_(e)}function v(e){return _i_("269:03cf715a"),!e&&n||(n=$(".hprt-nos-select")),_r_(n)}function g(){_i_("269:a952ddfc"),(_i_("269:2de80f59"),r||(r=v().filter(function(){return _i_("269:8d3a7d45"),_r_(0===$(this).parents(".wholesalers_table__select_rooms").length)})),_r_(r)).attr("disabled",!1),_r_()}function M(){var t;return _i_("269:296e4285"),_||(t=$(".wholesalers_table__reserve_container"),_=[".hprt-booking-summary-best-price",".ge-room-upgrade-label",".hprt-booking-summary-dont-worry",".hprt-booking-cta-ticker",".hprt-no-cc-needed",".rt_no_cc"].map(function(e){return _i_("269:e542b073"),_r_(t.find(e))})),_r_(_)}function w(e){return _i_("269:8a319e31"),e&&M().forEach(function(e){_i_("269:71c7224b"),e.is(":visible")&&b.push(e),_r_()}),_r_(b)}function y(t){_i_("269:19de3c5f");var i=$(".wholesalers_table__reserve_container");[".wholesalers_table__reserve_column_extras",".wholesalers_table__booknow__reassurance"].map(function(e){_i_("269:e134bc23");var t=i.find(e);return _r_(t)}).forEach(function(e){_i_("269:49e244e22"),m(e,t),_r_()}),_r_()}function k(e){_i_("269:0fbbdb1e"),e.find("td.ws-table-cell").addClass("hprt-table-cell"),_r_()}var C=a.extend({init:function(e,t,i){_i_("269:292cb31a"),this.needToAnim=!1,this.needToStopAnim=!1,this.needToShowNoAvailability=!1,this._addFirstRoomIdToUrl(e),(this.roomData=e).showNoResultsFound?(this._showNoResultsFound(),d.emit(B.hotel.Events.ThirdPartyInventory.TPI_NO_RESULTS_FOUND)):(this.roomIdx=i,this.exps=t,$(".cta-list-item--immediate-conf").hide(),this._render()._bindEvents(),d.emit(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED,e)),_r_()},_addFirstRoomIdToUrl:function(e){if(_i_("269:58535ac6"),B.env.wholesaler_configuration.b_send_first_room_id_to_bp_feature){var t=$(".hprt-roomtype-scroll-target").first().attr("name");e.booking_url+=";first_room_id="+t+"&"}_r_()},_updateReserveColumn:function(){_i_("269:9c3d0c0f");var e=s("tpi_roomblock_reservation_column_extras"),t=$(".hprt-table-cell.-last");t.addClass("wholesalers_table__reserve_container").attr("id","hprt-ws--reserve-column");var i=Object.assign({room_block:this.roomData||{},exps:this.exps||{}},p);t.find(".wholesalers_table__reserve_column_extras").length&&t.find(".wholesalers_table__reserve_column_extras").remove(),$(e.render(i)).insertAfter(t.find(".hprt-reservation-cta")),t.find(".hprt-block.reserve-block-js").append(),_r_()},_showVisibleElements:function(){_i_("269:08e1c5f9");var e=this.$el;e.find(".wholesalers_table__roomname__content").show(),e.find(".wholesalers_table__price__lower").show(),e.find(".wholesalers_table__bed_options__holder").show(),e.find(".wholesalers_table__bed_option").show(),e.find(".wholesalers_table__options__meal_plan").show(),e.find(".wholesalers_table__options__meal_plan_text__with_score").show(),e.find(".wholesalers_table__options__meal_plan span.mp-icon").show(),_r_()},_render:function(){_i_("269:c9013e42");var e,t,i,n=this.$el,r=this.roomData,_=this.mappedRoomData=function(e){_i_("269:afec43b0");var t,i=c.track("PPXGSCZDSSYZTNReKfdSDeSHRbdFIKe");if(i)t=e.b_stay_prices;else{t=[{b_raw_price:e.b_price_unformatted,b_price:"",b_stays:0},{b_raw_price:e.b_price_unformatted,b_price:e.price_formatted,b_stays:1}];var n=e.price_detail&&e.price_detail.total_pay_now_and_pay_at_property_price_pretty,r=e.price_detail&&e.price_detail.total_pay_now_and_pay_at_property_price;n&&r&&(t[0].b_raw_price=r,t[1].b_raw_price=r,t[1].b_price=n);var _=B.env.tpi_search_config.b_nr_rooms_needed,o=1<_,a=e.price_detail&&e.price_detail.total_pay_now_and_pay_at_property_price_pretty;o&&(t[1].b_raw_price=e.price_avg_unformatted*_,t[1].b_price=a?e.price_detail.total_pay_now_and_pay_at_property_price_pretty:e.price_formatted,t[1].b_stays=_),e.price_display&&(t[1].b_raw_price=e.price_display.gross_price,t[1].b_price=e.price_display.gross_price_formatted)}return _r_({b_id:e.room_id,b_name:e.room_name,b_has_a11y_facilities:0,b_has_room_inventory:1,b_roomtype_id:o?e.room_description.room_type_id:null,b_blocks:[{b_stay_prices:t,b_book_now_pay_later:0,b_nr_stays:o?_:1,b_max_persons:parseInt(f.search_config_adults||"0",10),b_rate_is_genius:0,b_rate_is_cug_business_rate:0,b_price:e.price_formatted,b_cancellation_type:"non_refundable",b_raw_price:"110.00",b_mealplan_included_name:null,b_block_id:i?"bbasic_":"bbasic_"+e.room_id}]})}(this.roomData);return this._showVisibleElements(),k(n),B.env.b_reserve_button_on_each_block?n.find(".wholesalers_table__booknow__button").attr("href",r.booking_url):(0===this.roomIdx&&this._updateReserveColumn(),e=s("tpi_roomblock_select_rooms"),(t=n.find(".hprt-table-room-select.wholesalers_table__select_rooms .hprt-block")).html(e.render({fe_hprt_block:_.b_blocks[0],fe_hprt_room:{b_id:_.b_id}})),t.loadComponents(),n.data("block-id",_.b_blocks[0].b_block_id),v(!0)),1==B.env.b_is_eligible_to_show_bundles&&$(".hprt-conditions-tooltip__wholesaler").css("top","62px"),$("li.wholesalers_table__options__no_invoice").show(),$("span.hprt-conditions-tooltip-with-no-invoice__wholesaler").show(),$("span.hprt-conditions-tooltip-without-no-invoice__wholesaler").hide(),(0<$(".hprt-table-cheapest-block-banner-wrapper").length||0<$(".hprt-table-cell.hprt-table-cell-price").length)&&($(".hprt-table-cheapest-block-banner-wrapper").hide(),$(".hprt-table-cell.hprt-table-cell-price").removeClass("hprt-table-cheapest-block-arrow"),$(".hprt-cheapest-block-row.hprt-cheapest-block-row-active").css("height","0"),setTimeout(function(){_i_("269:5d374dc0"),$(".hprt-table-cell.hprt-table-cell-price").removeClass("hprt-table-cheapest-block-arrow"),_r_()},2e3)),n.show(),window.BUI.initComponents(n.get(0)),c.initAttributesTracking(n),$(".wholesalers_table__payment_methods").hide(),o||(o=new l,i=$('<div class="hprt-ws-lightbox"></div>'),o.prepare({el:i[0],$el:i}),o.init&&o.init(r)),r.b_new_conf_policy&&$(".wholesalers_table__reserve_container .hprt-booking-cta-ticker .cta-list-item--immediate-conf").remove(),n.find(".wholesalers_table__facilities_wrapper").show(),_r_(this)},_bindEvents:function(){_i_("269:769c320a");var e=this.$el,r=this.roomData;return e.find(".wholesalers_table__booknow__info_icon").hide(),e.find(".wholesalers_table__booknow__info_text").hide(),e.on("click",".hprt-ws-roomtype-link",function(e){_i_("269:1643ad94"),e.preventDefault(),o.show(this.roomData,this.exps),_r_()}.bind(this)),e.on("click",".wholesalers_table__facilities_openlink",function(){_i_("269:36939f64"),$(this).hide(),e.find(".wholesalers_table__facilities_closelink").show(),e.find(".wholesalers_table__facilities_holder_overflow").slideDown("fast"),setTimeout(function(){_i_("269:784b4cfa"),$(window).trigger("resize"),_r_()},1e3),_r_()}),e.on("click",".wholesalers_table__facilities_closelink",function(){_i_("269:9227c30f"),$(this).hide(),e.find(".wholesalers_table__facilities_openlink").show(),e.find(".wholesalers_table__facilities_holder_overflow").slideUp("fast"),setTimeout(function(){_i_("269:784b4cfa1"),$(window).trigger("resize"),_r_()},1e3),_r_()}),B.env.b_reserve_button_on_each_block||$("#hprt-form").on("submit",function(e){_i_("269:2a6b4829");var t=u&&u.getState().roomsTable.js_selection,i=t&&t.blockIDs&&t.blockIDs.length?t.blockIDs:[],n=-1;i.some(function(e){return _i_("269:7d0391c8"),n=e.indexOf("bbasic"),_r_(0<=n)})&&(e.preventDefault(),e.stopPropagation(),window.location=r.booking_url),_r_()}.bind(this)),_r_(this)},_showNoResultsFound:function(){_i_("269:32226e5d");var i=this.$el;k(i),this._updateReserveColumn(),i.show(),w(!0),i.find(".wholesalers_table__col__temp_placeholders").show();var n=i.find(".wholesalers_table__loader");n.find(".wholesalers_table__loader__checking").show(),n.find(".wholesalers_table__loader__text_title").show();var r=$(".ws-table-cell").filter(function(){return _i_("269:e46e00ba"),_r_(!$(this).hasClass("-last"))}),e=function(){_i_("269:0bdbe3c9");var e=0;r.each(function(){_i_("269:8e6183b5"),e+=$(this).outerWidth(),_r_()}),e=e||i.width();var t=Math.floor((e-400)/2)+"px";B.env.wholesaler_configuration.b_lang_is_rtl?n.css("right",t):n.css("left",t),_r_()};e(),n.show(),$(window).on("resize",e),setTimeout(function(){_i_("269:1409d5d9"),$("html, body").animate({scrollTop:i.offset().top},1e3),i.find(".wholesalers_table__loader__checking").fadeOut(function(){_i_("269:25d4959e"),i.find(".wholesalers_table__loader__missed").fadeIn(),_r_()}),_r_()},600),_r_()}});C.wholesalersReserveCaptions={},C.booking_urls={},C.updateSelectionEnablement=function(){_i_("269:817c4dae");var e,t,i,n,r=u.getState().roomsTable.js_selection;0<r.roomCount?(e=r.blockIDs.filter(function(e){return _i_("269:717c7bae"),_r_(0<=e.indexOf("bbasic_"))}),r.blockIDs.filter(function(e){return _i_("269:62b51b25"),_r_(e.indexOf("bbasic_")<0)}).length&&(_i_("269:7144f62f"),$("tr.tpi_table__row .hprt-nos-select").attr("disabled",!0),_r_()),e.length&&(n=e[0],_i_("269:f0afc28b"),v().not("select.hprt-nos-select[data-block-id='"+n+"']").attr("disabled",!0),_r_(),i="hide",_i_("269:962e29c4"),M().forEach(function(e){_i_("269:49e244e2"),m(e,i),_r_()}),_r_(),y("show"))):(_i_("269:7406268e"),$("tr.tpi_table__row .hprt-nos-select").attr("disabled",!1),_r_(),g(),y("hide"),t="show",_i_("269:ddcdd888"),w(!1).forEach(function(e){_i_("269:49e244e21"),m(e,t),_r_()}),_r_()),_r_()},C.bindToRoomsTable=function(e){_i_("269:d29c3af8");var i=t("component/hotel/new-rooms-table/summary/fade");u.dispatch({type:h.ADD_TPI_ROOMS,rooms:e}),w(!0),setTimeout(function(){_i_("269:45d88bfc");var e=$("#hprt-ws--reserve-column"),t=new i;t.prepare({el:e[0],$el:e}),t.init&&t.init(),C.updateSelectionEnablement(),_r_()},8),u.subscribe(C.updateSelectionEnablement.bind(this)),d.emit(B.hotel.Events.ThirdPartyInventory.TPI_ALL_BLOCKS_LOADED),_r_()},i.exports=C,_r_()}),B.define("component/tpi/room_block/lightbox/lightbox_v2",function(e,t,i){_i_("269:c17de941");var n=e("component"),r=e("et"),_=e("jstmpl"),o=e("hotel/rooms_table/lightbox/gallery"),a=e("component/tpi/room_block/tmpl_data"),s=e("hotel/tpi/data-api"),l=!1,c=!0,d=e("server-data"),h=e("search-config"),u=e("fragment"),f=e("utils/throttled"),p=e("utils/inviewport"),b=B.env.tpi_search_config.b_children_total,m=n.extend({init:function(e){if(_i_("269:2712ee23"),this._tmpl=_("tpi_lightbox"),e.room_description&&e.room_description.fe_use_mapped_facilities){var t,i="scroll.roomLigthox-tpi";$(document).on(i,t=f(function(){_i_("269:a848bcd6"),this.roomFragmentLoaded?$(document).off(i,t):!this.roomFragmentIsLoading&&p($("#hprt-table .tpi_room_block__rt"))&&(this._load(e),$(document).off(i,t)),_r_()}.bind(this),250))}_r_()},_render:function(t,e){_i_("269:129fa156"),s.setShownFacilities(t),t.room_description&&t.room_description.room_images&&t.room_description.room_images.length||(c=!1,B.squeak(d.wholesaler_configuration&&d.wholesaler_configuration.tpi_hp_no_photo_squeak_name)),r.goal("bbasic_www_tpi_reached_room_info");var i=Object.assign({room_block:t,exps:e||{},fe_lightbox_show_right:t.room_description.fe_shown_facilities&&t.room_description.fe_shown_facilities.length},a);return l=i.fe_lightbox_show_right,b&&(i.search_config_adults=B.env.tpi_search_config.b_adults_total,i.search_config_children=B.env.tpi_search_config.b_children_total,i.search_config_children_ages=B.env.tpi_search_config.b_children_ages_total),this.$el.html(this._tmpl.render(i)),r.initAttributesTracking(this.$el),t.room_description.fe_use_mapped_facilities&&this._load(t).then(function(e){_i_("269:a55981df"),this._renderMappedFacilities(e,t),_r_()}.bind(this)),_r_(this)},_load:function(e){if(_i_("269:418be2ab"),this.roomFragmentLoaded)return _r_(Promise.resolve(this.data));var t={room_id:e.room_description.booking_room_id,hotel_id:d.b_hotel_id,max_persons:void 0,search_config:h.getRawValue(),other_available_room_ids:d.b_available_room_ids||[],hide_existing_bed_rules:d.b_hiding_existing_beds,with_privacy_level:d.fe_pl_frag_fetch};return d.b_checkin_date&&"undefined"!=d.b_checkin_date&&(t.checkin=d.b_checkin_date),d.b_checkout_date&&"undefined"!=d.b_checkout_date&&(t.checkout=d.b_checkout_date),this.roomFragmentIsLoading=!0,_r_(u.call("room.lightbox",t).then(function(e){if(_i_("269:ee3d7238"),e=Object.assign({},e,{b_guest_country:d.b_guest_country,b_checkin_checkout_interval:d.b_checkin_checkout_interval,b_has_valid_dates:d.b_has_valid_dates,b_has_valid_dates_not_in_past:d.b_has_valid_dates_not_in_past,b_rooms_have_different_privacy_level:d.fe_pl_frag_rwdpl,fe_show_fam_web_room_details_ceb_info:d.fe_show_fam_web_room_details_ceb_info}),"www"===d.b_site_type&&e.rooms.length&&d.fe_txp_work_friendly_room){var t=e.rooms[0].b_room_id,i=!1,n=d.fe_txp_work_friendly_room;for(var r in n)i=!(!n.hasOwnProperty(t)||1!==n[t]);e.rooms[0].b_room_data[0].b_txp_room_is_w_friendly=i}return this.data=e,this.roomFragmentIsLoading=!1,this.roomFragmentLoaded=!0,_r_(e)}.bind(this),function(e){return _i_("269:065856f2"),this.roomFragmentIsLoading=!1,_r_(Promise.reject())}.bind(this)))},_renderMappedFacilities:function(e,t){if(_i_("269:4a1214c1"),e){var i=$(_("room_lightbox_async").render(e)).find(".hprt-lightbox-right-container,.hprt-lightbox-container--no-gallery");i.find(".hprt-roomtype-ceb").remove(),i.find(".roomtype-no-margins").replaceWith(_("tpi_bed_config").render({room_block:t,fe_show_property_select_copy:1,fe_family_search:B.env.b_search_config.b_children_total,fe_show_beds_label:"or"})),i.find("#hp_rt_room_gallery_modal_room_name").text(t.room_name),this.$el.find(".hprt-ws-lightbox-right-container").append(i).hide().fadeIn(500).loadComponents(),this.$el.find(".rt-lightbox-reviews-container").hide(),r.initAttributesTracking(this.$el),window.BUI.initComponents(this.$el.get(0)),r.track("OTfdASFAdJYcDHBdJUKeYEGWe")&&$(".room-lightbox-container").on("keypress",".js-hotel-thumb",function(e){_i_("269:e1fe7d4b"),$(e.target).is(".js-hotel-thumb")&&(32!==e.keyCode&&13!==e.keyCode||($(e.target).trigger("click"),e.preventDefault())),_r_()})}_r_()},_showVisibleElements:function(){_i_("269:2e86fbcc");var e=this.$el;return e.find(".wholesalers_table__options__meal_plan").show(),e.find(".wholesalers_table__options__meal_plan_text__with_score").show(),e.find(".wholesalers_table__options__meal_plan span.mp-icon").show(),_r_(this)},show:function(e,t){_i_("269:3948df9f"),this._render(e,t)._showVisibleElements();var i=this.$el.find(".hprt-ws-lightbox-gallery-container");i.length&&i.loadTPIPlaceholders&&!this.$el.data("placeholders-loaded")&&(i.loadTPIPlaceholders(),this.$el.data("placeholders-loaded",1)),this.buiModal||(this.buiModal=window.BUI.createInstance("Modal",null,{id:"hprt-ws-modal",size:l&&c?894:554,template:this.$el[0]}),this.buiModal.mount()),this.buiModal.open(),r.stage("PPXGSCZDSSYZTNReKfdSDeSHRbdFIKe",6),r.stage("PPXGSCZFRURURNLVBHVRVKaMUHGeFZBQIO",2),setTimeout(function(){_i_("269:43b1394d");var e=document.querySelector("#hprt-ws-modal .bui-modal__close");e&&e.blur(),_r_()},100),i.length&&!i.hasClass("slicked")&&(i.addClass("slicked"),setTimeout(function(){_i_("269:010123e1"),new o(i),_r_()})),_r_()}});i.exports=m,_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.wholesaler_configuration}).run(function(e){_i_("269:13619ce7");var _=e("jquery")(".tpi_last_image_text_new");e("events").on(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED,function(e){if(_i_("269:74212d48"),e&&e.price_formatted){var t=B.env.b_hotel_name,i=B.env.b_map_nights,n=B.env.wholesaler_configuration.user_name,r=B.env.wholesaler_configuration.location_score;n?8<=r?_.text(B.jstmpl.translations("tpi_hp_gallery_dates_top_location_personalised",null,{user_first_name:n,hotel_name:t,location_score:r,basic_price:e.price_formatted})):_.text(B.jstmpl.translations("tpi_hp_gallery_dates_basic_price_personalised",null,{user_first_name:n,hotel_name:t,basic_price:e.price_formatted,num_nights:i})):8<=r?_.text(B.jstmpl.translations("tpi_hp_gallery_dates_top_location",null,{hotel_name:t,location_score:r,basic_price:e.price_formatted})):_.text(B.jstmpl.translations("tpi_hp_gallery_dates_basic_price",null,{hotel_name:t,basic_price:e.price_formatted,num_nights:i}))}_r_()}),_r_()}),B.require(["et","jquery"],function(e,_){_i_("269:f204af18"),"msie"==B.env.b_browser&&9==B.env.b_browser_version&&_(function(){_i_("269:70cab70e");var e=_("#photo_wrapper"),r=e.find(".hp-gallery-slides");e.on("click",function(){_i_("269:bdf57ab5");var e=r.slick("getSlick"),t=_(e.$slides[e.getCurrent()]),i=t.attr("data-photoid");if("last_item_cta"===i){var n=t.attr("data-slick-index");return _r_(_(".bh-photo-modal").trigger("setPos",[parseInt(n,10),"gallery"]))}if(B.env.fe_hotel_has_360_photos&&"thumb_360_view"===i){n=t.attr("data-slick-index");return _r_(!1)}t.hasClass("hp-gallery__slide--landmark")&&(i=t.attr("data-landmarkid")),_(".bh-photo-modal").trigger("openPhotoId",i),_r_()}),_r_()}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(){_i_("269:61c66ac2");var e=B.require("growl"),a=B.require("jquery"),t=B.require("et"),i=null,n=null,r=B.env.is_rooms_table_rewrite?a(".hprt-table"):a("table.roomstable"),_=a(window);if(!(r.length&&_&&t&&e))return _r_();function o(){_i_("269:1218916a"),i&&(a.noticeRemove(i),i=null),_r_()}function s(){_i_("269:ded578e5"),_.scrollTop()+_.height()<r.offset().top||_.scrollTop()>r.offset().top+r.height()?n&&(i||(i=e.trigger("abandoned_rooms_table"))&&i.find(".abandoned-rt-summary").empty().append(n)):o(),_r_()}function l(e){_i_("269:520a4e3e"),o(),_.scroll(s),(n=e.clone()).find(".book_now_best_price_reinforcement").remove(),n.find(".tp-boxit").removeClass("tp-boxit"),n.find(".site_price").removeClass("site_price"),n.show(),_r_()}function c(){_i_("269:4daf520d"),o(),_.off("scroll",s),n=null,_r_()}if(B.env.is_rooms_table_rewrite){var d=B.require("hotel/store");d.subscribe(function(){_i_("269:6277388d");var e=d.getState().roomsTable.js_selection;if(e.roomCount){var t=B.require("hotel/utils/rooms-selected-copy"),i=a(".hprt-summary-dates"),n=i.length?i.html():"",r=a("<div>"+t(e.roomTypes,e.roomCount)+' <div class="hprt-reservation-total-price">'+e.totalPriceFormatted+"</div>"+n+"</div>"),_=B.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(B.env.b_guest_country),o=B.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(B.env.b_guest_country);(_||o)&&r.find(".hprt-reservation-total-price").after('<div class="hp-abandoned-cart-charges-text">'+(e.chargesText||"")+"</div>"),l(r)}else c();_r_()})}else B.events.on(B.hotel.Events.RT.SUMMARY_CHANGE,l),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,c);_r_()}),function(e){"use strict";_i_("269:41b40da8"),e.require(["jquery","hotel/rooms_table/gently_select_rooms"],function(e,t){_i_("269:bb0bfb4a");e(".hp-scroll-up-to-dates").on("click keydown",function(e){if(_i_("269:15eb836e"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();t.scrollToRoomsTable(),_r_()}),_r_()}),_r_()}(window.booking),function(e){_i_("269:8bcddd61");var t=e.require("jquery"),r="data-breakfast-included";!function(){_i_("269:a1f1b63e");var i=t("#booking-summary .breakfast-included"),n={};e.events.on(e.hotel.Events.RT.ROOM_SELECTED,function(e){_i_("269:f2cb7e4d");var t=parseInt(e.no_rooms,10);n[e.block_id]=0<t?e:null,function(n){_i_("269:79fea952");var e=Object.keys(n).filter(function(e){return _i_("269:351d6510"),_r_(n[e])});return _r_(e.length&&e.reduce(function(e,t){_i_("269:b0588238");var i=n[t];return _r_(e&&"1"===i.$el.closest("tr").attr(r))},!0))}(n)?i.removeClass("g-hidden"):i.addClass("g-hidden"),_r_()}),_r_()}(),_r_()}(window.booking),function(i){_i_("269:b02ac359"),i.when({events:"ready"}).run(function(){_i_("269:2f324896");var t=i.require("jquery"),e=i.require("search/searchbox/model").getInstance("main");e.use("group"),e.on("change",function(e){_i_("269:7590bdf5"),"group"==e.group&&t(".lp_bold_date_picker_btn").removeClass("b-button_disabled").removeAttr("disabled"),_r_()}),_r_()}),_r_()}(window.booking),B.define("hotel/rooms_table/select_room_tooltip_alert",["jquery","events"],function(e,t){_i_("269:4cfd18fa");var n,i,r,_,o=30;!function(){_i_("269:9b0454be"),_=e(".select_room_tooltip_alert_container"),i=e(".roomstable"),e(".hp-rt-sticky-av-header-message").length&&(o=60);r=i.find(".b_room_selectbox"),_r_()}();var a=(_i_("269:138fc72a"),_r_(function(){_i_("269:e020f6d9");var i,e=(_i_("269:71e7a5d8"),r.each(function(e,t){if(_i_("269:387f4d59"),t.getBoundingClientRect().top>o)return i=t,_r_(!1);_r_()}),_r_(i));_.insertAfter(e),_.css("display","block").animate({opacity:1},600),n=window.setTimeout(function(){_i_("269:dba5ff7f"),_.animate({opacity:0},600,function(){_i_("269:a5ea8678"),_.hide(),_r_()}),_r_()},4e3),_r_()})),s=(_i_("269:501ffec0"),_r_(function(){_i_("269:cf92aed3"),clearTimeout(n),_.stop().css({opacity:0,display:"none"}),_r_()}));return _r_({showMessage:a,resetMessage:s})}),function(){_i_("269:d1ee38aa");var e,l,c=B.require("jquery"),t=B.require("events"),d=c("#bookNow1 .js-rt__summary__reserve-button"),h={};if(B.env.b_is_tablet||!d.length)return _r_();e=d.attr("data-title"),l=B.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2"),t.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,function(e,t,i,n){_i_("269:30f2550a"),!0,function(){_i_("269:7074138e");var e,i=[],_={};c(".b_room_selectbox").each(function(){var e;_i_("269:2af7bbca");var t,i=c(this);if("0"!==i.val()&&(e=(t=i.closest("tr"))[0].className.match(/room_loop_counter(\d+)/))&&1<e.length){var n=_[e[0]]=_[e[0]]||{};n.b_room_name=t.siblings(".maintr."+e[0]).find("span:first a:first").text(),n.b_room_policies=n.b_room_policies||[];var r={};t.find(".breakfast_included_policy").length&&(r.breakfast=1),n.b_room_policies.push(r)}_r_()}),c.each(_,function(e,t){_i_("269:9c0b40ce"),i.push(t),_r_()});for(var t=!!i.lengh,n=!0,r=0,o=i.length;r<o;r++)if(i[r].b_room_policies)for(var a=0,s=i[r].b_room_policies.length;a<s;a++)i[r].b_room_policies[a].pay_later||(t=!1),i[r].b_room_policies[a].breakfast||(n=!1);h={b_all_rooms_have_pay_later:t,b_all_rooms_have_breakfast_included:n,b_hotel_name:B.env.b_hotel_name,b_interval:B.env.b_checkin_checkout_interval,b_checkin_localized_date_with_weekday:B.formatter.date(B.env.b_checkin_date,"date_with_weekday"),b_checkout_localized_date_with_weekday:B.formatter.date(B.env.b_checkout_date,"date_with_weekday"),b_check_in_time_translated:B.env.b_check_in_time_translated,b_check_out_time_translated:B.env.b_check_out_time_translated,b_room_details:i,b_user_auth_level_is_low_or_high:B.env.b_user_auth_level_is_low_or_high},e=l.render(h),d.attr("data-title",e).removeAttr("id").attr("data-tooltip-class","submit_holder_button_tooltip").addClass("tooltip_like_on_bp_bs2"),_r_()}(),_r_()}),t.on(B.hotel.Events.RT.SUMMARY_HIDE,function(){_i_("269:2e61a642"),!1,d.attr("data-title",e).removeAttr("id").removeAttr("data-tooltip-class").removeClass("submit_holder_button_tooltip"),_r_()}),d.on("mouseenter",function(){_i_("269:c5c23741"),_r_()}),_r_()}(),function(t){_i_("269:ec68f754");var i=t.require("jquery"),n=t.require("lightbox"),r=t.require("events"),_=t.require("trap-focus");i(function(){_i_("269:ef416641"),i(".av-summary-value, .av-summary-button").on("click",function(e){_i_("269:50029ad9"),n.show(i(".av-popup-lightbox"),{customWrapperClassName:"av-popup-lightbox-wrapper",bOverflowVisible:!0,ariaLabel:t.jstmpl.translations("hp_rt_sticky_search_head"),hideCallBack:function(){_i_("269:db1cc2af"),r.trigger("avblock:close"),_.release(),_r_()}},function(){_i_("269:b0d0e533"),_.trap(i(".av-popup-lightbox-wrapper")[0]),_r_()}),r.trigger("avblock:open",{triggerElement:this}),e.preventDefault(),_r_()}),_r_()}),_r_()}(booking),B.require(["jquery","booking-sticker"],function(e,t){_i_("269:48555c07");var i=function(){_i_("269:930459d1"),t.update(),_r_()};e(window).on("resize",i).hashchange(i),_r_()}),B.when({events:"ready"}).run(function(e){_i_("269:ece81fca");var c=e("jquery");if(!B.env.run_cheapest_room)return _r_();var n,r,t=B.require("search-config"),d={b_adults:+t.adults,b_children:+t.children,b_children_ages:t.childrenAges,b_nr_rooms:t.rooms&&t.rooms.length||1,b_checkin_date:B.env.b_checkin_date,b_checkout_date:B.env.b_checkout_date,b_ufi:B.env.b_ufi,b_is_group_search:t.isGroupSearch};if(d.b_is_group_search)return _r_();function i(t){_i_("269:8ec80d17");var e,i=c.ajax({method:"GET",dataType:"json",url:"/is_cheapest",data:{hotel_id:B.env.b_hotel_id,search_key:(e=d,_i_("269:4d36fdc6"),_r_([e.b_ufi,e.b_checkin_date,e.b_checkout_date,e.b_adults].join("_")))}});i.done(function(e){_i_("269:e3bd9470"),e.b_first||1!=e.is_the_cheapest?n&&function(e,t){if(_i_("269:656d20dd"),!e||!t)return _r_();var i="[id='"+t+"']",n="td.roomType."+e,r="[id='"+t+"'] > .roomPrice",_=c(i),o=c("#cheapestBanner"),a=c(i).prevAll("tr.maintr").first().find(n),s=c(r);_.length&&o.length&&s.length&&a.length&&(o.remove(),_.removeClass("cheapest_room_row"),s.removeClass("cheapest_banner_arrow"),a[0].rowSpan=a[0].rowSpan-1);_r_()}(n,r):(n=e.b_room_id,r=e.b_block_id,_i_("269:fc9bb9b1"),_r_(c("#cheapestBanner").length)||function(e,t){if(_i_("269:d6c61744"),!e||!t)return _r_();var i="[id='"+t+"']",n="td.roomType."+e,r="[id='"+t+"'] > .roomPrice",_=c(i),o=c(i).prevAll("tr.maintr").first().find(n),a=c(r);if(_.length&&a.length&&o.length){var s;s={block_id:t,room_id:e,city_name:B.env.b_city_name,in_city_name:B.env.b_in_city_name,num_nights:B.env.b_checkin_checkout_interval,checkin_date:B.env.b_checkin_date,checkout_date:B.env.b_checkout_date,num_adults:B.env.b_occupancy.adults,is_group_search:d.b_is_group_search},B.env.b_less_shouty_persuasion&&(s.less_shouty_persuasion=!0);var l=B.jstmpl("cheapest_banner_block").render(s);_.after(l),_.addClass("cheapest_room_row"),a.addClass("cheapest_banner_arrow"),o[0].rowSpan=o[0].rowSpan+1}_r_()}(n,r)),t&&"function"==typeof t&&t(),_r_()}),i.fail(function(){}),_r_()}i(),c(window).bind("focus",function(){_i_("269:c347f15f"),i(),_r_()}),_r_()}),B.when({action:"hotel",condition:!B.env.is_rooms_table_splitter,events:B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE}).run(function(e){_i_("269:f1478115"),e("jquery")(".rt-summary-dates").removeClass("g-hidden"),_r_()}),B.when({events:"mouseenter .reviews-carousel",experiment:"ABcLAVAPOSdLEWCFZVfCdWe",stage:1}),B.define("component/reviews/review-book-button",["jquery","component"],function(t,e){_i_("269:8026bd5e");var i=B.hotel.hashedTabs;return _r_(e.extend({init:function(){_i_("269:b09fdd5d"),this.$submitButton=this.$el.find("button"),this.roomId=this.$el.attr("data-room-id"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:077ca89f"),this.$submitButton.click(this.goToRoom.bind(this)),_r_()},goToRoom:function(){_i_("269:396a1585");var e=t("#"+this.roomId);if(e.length||(e=t("#no_availability_msg")),!e.length)return _r_();i.showTab("main"),window.location.hash="",t("html, body").animate({scrollTop:e.offset().top-t(".roomstable thead").height()-10},500,"easeOutCubic"),_r_()}}))}),B.require(["jquery","et","events","hotel/utils/click-area"],function(_,e,t){_i_("269:588c2d65");var i=_("#photos_distinct"),o=_(".bh-photo-modal"),a=_(".hp-gallery-container .hp-gallery");i.on("click",".js-hotel-thumb",function(e){_i_("269:cdb72c51");var t=_(this),i=t.attr("data-photoid"),n=_(e.target);if(_('.hp-gallery-navigation-link[data-toggle="hp-gallery-streetview"]').length)return _r_();if(n.hasClass("hp-gallery-categories__list_item"))return _r_();if("last_item_cta"===i){var r=a.find(".js-gallery__last-item").attr("data-slick-index");return _r_(o.trigger("setPos",[parseInt(r,10),"thumbnail"]))}if(t.hasClass("hotel_thumbs-landmark")&&(i=t.attr("data-landmarkid")),t.hasClass("hotel_video_thumb"))return _r_();if(B.env.fe_hotel_has_360_photos&&t.hasClass("js-hotel-gallery-thumb")){r=a.find(".js-hp-gallery-360-slide").attr("data-slick-index");return _r_(o.trigger("setPos",[parseInt(r,10),"thumbnail"]))}o.trigger("openPhotoId",[i,"thumbnail"]),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,function(e){_i_("269:bc22b7b7");var t=_("#photo_wrapper .hp-gallery-slides").slick("getSlick");t&&t.goTo&&t.goTo(e,!0),_r_()}),_r_()}),function(e){_i_("269:095f8280");var t=e.require("jquery"),i="ZOISdGaGLJWcFQTKbRbDHe";t(function(){_i_("269:d78ef233"),t(".hp-faq-link").on("click",function(){_i_("269:e009803d"),e.et.customGoal(i,1),_r_()}),t(".hp-faq-btn").on("click",function(){_i_("269:ab446f9b"),e.et.customGoal(i,2),_r_()}),_r_()}),_r_()}(booking),function(){_i_("269:c9597773");var e=B.require("jquery")("#js--hp-gallery-scorecard"),t="ABbDSFWJVBZEWVdSVLBLFPWHT";e.on("mouseenter",function(){_i_("269:65cc1d51"),B.et.stage(t,1),_r_()}),B.et.track(t)&&e.on("click",function(){_i_("269:c23855e5"),window.location.hash="#tab-reviews",_r_()}),_r_()}(),function(){_i_("269:a62956b2");var e=B.require("jquery"),t="ZOILOOTESdBJFDbJeZBOEQTeVT",i=!1;e(".hp_nav_bar").on("click","a",function(){_i_("269:997b8985"),e(this).hasClass("hp_nav_availability_link")?(B.et.customGoal(t,1),i=!0):i&&B.et.customGoal(t,2),_r_()}),_r_()}(),B.define("component/hotel/new-rooms-table/mx/excluded-charges",function(e,t,i){_i_("269:ed3eafaa");var n=e("component"),r=e("hotel/store");i.exports=n.extend({init:function(){_i_("269:c90305ef"),r.subscribe(function(){_i_("269:bde72935"),0<r.getState().roomsTable.js_selection.roomCount?this.$el.removeClass("g-hidden"):this.$el.addClass("g-hidden"),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/hotel/new-rooms-table/experiment_single-select-button",function(e,t,i){_i_("269:55f2fd8e");var n=e("component"),r=e("jquery");i.exports=n.extend({init:function(){_i_("269:cde5184c");var i=this.$el;i.click(function(){_i_("269:bfdbe0b1");var e,t=r('#hprt-form input[type="hidden"].js-added-room-input');t.length?t.attr("name","nr_rooms_"+i.attr("data-block-id")):(e=r('<input type="hidden" class="js-added-room-input">').attr("name","nr_rooms_"+i.attr("data-block-id")).val(1),r("#hprt-form").append(e)),r("#hprt-form").submit(),_r_()}),_r_()}}),_r_()}),B.when({events:"ready",action:"hotel",condition:B.require("jquery")("[data-hotel-select-rooms]").length}).run(function(e){_i_("269:5cdf356d");var t=e("jquery"),a=e("hotel/store"),s=e("hotel/redux/actionTypes"),i=e("hotel/rooms_table/gently_select_rooms"),n=e("lightbox"),r=e("events"),l=e("fragment"),_=t("[data-hotel-select-rooms]"),c=t("#hprt-form .hprt-table"),d="hprt-block--room-selected",h=[],u=!1,f=!1;a.subscribe(function(){if(_i_("269:f827d004"),!u)return _r_();c.find(h.join(",")).removeClass(d),u=!1,_r_()}),_.on("click",function(e){if(_i_("269:3f73d407"),e.preventDefault(),t(this).attr("disabled"))return _r_();n.hide(),i.scrollToRoomsTable(1e3,function(e){if(_i_("269:2b9dd02a"),!e.length)return _r_();var t=e.data("rooms").split(" ");if(!t.length)return _r_();if(h=[],t.forEach(function(e){if(_i_("269:5e02939a"),!e)return _r_();var t=e.split(":"),i=t[0];a.dispatch({type:s.SELECT_ROOM,block_id:i,number_of_rooms:parseInt(t[1],10)}),h.push('tr[data-block-id="'+i+'"] td.hprt-table-cell:not(.-first, .-last)'),_r_()}),c.find(h.join(",")).addClass(d),u=!0,"www"===B.env.b_site_type&&0==f){var i=!1;B.env.b_search_config&&B.env.b_search_config.b_children_total&&0<B.env.b_search_config.b_children_total&&(i=!0);var n=document.querySelector(".totalPrice > .prco-wrapper > div > div.bui-price-display__value.prco-inline-block-maker-helper"),r=a.getState().roomsTable.js_selection,_=r.totalPrice;if(0<_&&(f=!0,null!==_&&null!==n&&void 0!==n.innerText)){var o=parseInt(n.innerText.replace(/\D/g,""));o&&l.call("families.metrics.price_disparity_tracking",{rt_price:_,rb_price:o,is_family_search:i,search_config:B.env.b_search_config})}}_r_()}(t(this))),r.trigger(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED),_r_()}),_r_()}),B.when({events:"ready",condition:"hotel"===B.env.b_action,experiment:"YdXfdKNKNKPZZWLKVHNTXaJNAFfQXT"}).run(function(e){_i_("269:f9223f2c");var n=e("fragment"),r=e("server-data");e("with-capla")("property-web","property-page",function(e){_i_("269:5ad03700");var i=e.eventBus;i.subscribeOnce("CAPLA_EVENT_property-web_LOCATION_BLOCK_MOUNTED",function(e,t){_i_("269:49d308df"),i.publish("CAPLA_EVENT_property-web_LOCATION_BLOCK_AFF_DATA_ACK");n.call("hotel.location_block",{hotel_id:r.b_hotel_id,location_block_configuration:{landmark_request:{all_types:{limit:10,max_distance_km:20}},beaches_request:{limit:5,max_distance_km:10},airports_request:{limit:3,max_distance_km:100},ski_request:{lift:{limit:3,max_distance_km:50}},cafe_bars_request:{limit:3,max_distance_km:50},restaurants_request:{limit:3,max_distance_km:50}},hotel_country_code:r.b_countrycode,has_availability:r.b_availability_checked,has_kitchen:r.fe_has_kitchen}).then(function(e){_i_("269:adf82604"),e.location_score=r.b_hotel_location_score,e.bbox={northeast_latitude:r.b_bbox_northeast_latitude,southwest_latitude:r.b_bbox_southwest_latitude,northeast_longitude:r.b_bbox_northeast_longitude,southwest_longitude:r.b_bbox_southwest_longitude},i.publish("CAPLA_EVENT_property-web_LOCATION_BLOCK_DATA",e),_r_()}),_r_()}),_r_()})(),_r_()}),B.require(["jquery","et"],function(e,t){_i_("269:be9f51d1");var i=e("#left .hp-social_proof"),n=e("#faq_area"),r=e(".roomstable"),_=e(".sidebar_hotel_review_score"),o=i.offset(),a=r.offset();if(!(o&&a&&n.length&&_.length))return _r_();o.top>a.top&&(i.insertBefore(n),_.insertBefore(i)),_r_()}),B.require(["jquery","et"],function(e,t){_i_("269:c283854d"),e(".facility-badge__icon-hp").length&&t.stage("TAeKPWbOTVLeFNVBUKcfTLKGBfSBET",1),_r_()}),B.define("component/tooltip",function(e,t,i){_i_("269:9de96736");var n=e("component"),r=e("jquery"),_=e("tooltip");i.exports=n.extend({init:function(){_i_("269:edd3b0a0");var e=function(e){_i_("269:658ce0c9");var n={},t=e.data();return r.each(t,function(e,t){var i;if(_i_("269:2be7427a"),e.length<8||0!==e.indexOf("tooltip"))return _r_();i=(e=e.substring(7))[0].toLowerCase()+e.slice(1),n[i]=t,_r_()}),n.target=e,_r_(n)}(this.$el);this.tooltip=_.setup(e),_r_()}}),_r_()}),
/**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
function(){var j,I;if(_i_("269:343cc754"),!(j=this.jQuery||window.jQuery||(window.B&&B.requirejs?B.requirejs("jquery"):null)))return _r_();I=j(window),j.fn.stick_in_parent=function(e){var k,t,B,i,n,C,r,E,T,_,x,S,N;for(_i_("269:4906fa21"),null==e&&(e={}),N=e.sticky_class,C=e.inner_scrolling,S=e.recalc_every,x=e.parent,T=e.offset_top,E=e.spacer,B=e.bottoming,null==T&&(T=0),null==x&&(x=void 0),null==C&&(C=!0),null==N&&(N="is_stuck"),k=j(document),null==B&&(B=!0),_=function(e){var t,i;return _i_("269:c587f432"),window.getComputedStyle?(e[0],t=window.getComputedStyle(e[0]),i=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(i+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),_r_(i)):_r_(e.outerWidth(!0))},i=function(o,a,s,l,c,d,h,u){var f,e,p,b,m,v,g,M,t,w,y,n;if(_i_("269:c112498d"),o.data("sticky_kit"))return _r_();if(o.data("sticky_kit",!0),m=k.height(),g=o.parent(),null!=x&&(g=g.closest(x)),!g.length)throw"failed to find stick parent";if(f=p=!1,(y=null!=E?E&&o.closest(E):j("<div />"))&&y.css("position",o.css("position")),(M=function(){var e,t,i;if(_i_("269:124655f8"),u)return _r_();if(m=k.height(),e=parseInt(g.css("border-top-width"),10),t=parseInt(g.css("padding-top"),10),a=parseInt(g.css("padding-bottom"),10),s=g.offset().top+e+t,l=g.height(),p&&(f=p=!1,null==E&&(o.insertAfter(y),y.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(N),i=!0),c=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-T,d=o.outerHeight(!0),h=o.css("float"),y&&y.css({width:_(o),height:d,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:h}),i)return _r_(n());_r_()})(),d===l)return _r_();return b=void 0,v=T,w=S,n=function(){var e,t,i,n,r,_;if(_i_("269:87f12db0"),u)return _r_();if(i=!1,null!=w&&(w-=1)<=0&&(w=S,M(),i=!0),i||k.height()===m||(M(),i=!0),n=I.scrollTop(),null!=b&&(t=n-b),b=n,p?(B&&(r=l+s<n+d+v,f&&!r&&(f=!1,o.css({position:"fixed",bottom:"",top:v}).trigger("sticky_kit:unbottom"))),n<c&&(p=!1,v=T,null==E&&("left"!==h&&"right"!==h||o.insertAfter(y),y.detach()),e={position:"",width:"",top:""},o.css(e).removeClass(N).trigger("sticky_kit:unstick")),C&&(_=I.height())<d+T&&(f||(v-=t,v=Math.max(_-d,v),v=Math.min(T,v),p&&o.css({top:v+"px"})))):c<n&&(p=!0,(e={position:"fixed",top:v}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(e).addClass(N),null==E&&(o.after(y),"left"!==h&&"right"!==h||y.append(o)),o.trigger("sticky_kit:stick")),p&&B&&(null==r&&(r=l+s<n+d+v),!f&&r))return f=!0,"static"===g.css("position")&&g.css({position:"relative"}),_r_(o.css({position:"absolute",bottom:a,top:"auto"}).trigger("sticky_kit:bottom"));_r_()},t=function(){return _i_("269:edf1750f"),M(),_r_(n())},e=function(){if(_i_("269:fcbea21a"),u=!0,I.off("touchmove",n),I.off("scroll",n),I.off("resize",t),j(document.body).off("sticky_kit:recalc",t),o.off("sticky_kit:detach",e),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),g.position("position",""),p)return null==E&&("left"!==h&&"right"!==h||o.insertAfter(y),y.remove()),_r_(o.removeClass(N));_r_()},I.on("touchmove",n),I.on("scroll",n),I.on("resize",t),j(document.body).on("sticky_kit:recalc",t),o.on("sticky_kit:detach",e),_r_(setTimeout(n,0))},n=0,r=this.length;n<r;n++)t=this[n],i(j(t));return _r_(this)},_r_()}.call(this),B.define("component/toggle",function(e,t,i){_i_("269:1f2b8ea8");var n=e("component");i.exports=n.extend({init:function(){_i_("269:e25303cb"),this.$el.on("click","[data-toggle]",function(){_i_("269:17db2be7"),this.find("[data-togglable]").toggle(),this.toggleClass("-toggled"),_r_()}.bind(this.$el)),_r_()}}),_r_()}),booking.define("component/collapse",function(e,t,i){_i_("269:5c5eca6a");var n=e("component"),r=e("et");i.exports=n.extend({init:function(){_i_("269:f73ba2f7"),this.$el.on("click",this.toggle.bind(this)),this.$target=this.$el.data("collapse-target")?this.$el.closest(this.$el.data("collapse-target")):this.$el,this.trackGoal=this.$el.data("collapse-goal")||!1,_r_()},toggle:function(){_i_("269:eb99cddb"),this.$target.hasClass("b-collapse__collapsed")?(this.$target.removeClass("b-collapse__collapsed"),this.$target.addClass("b-collapse__expanded")):(this.$target.addClass("b-collapse__collapsed"),this.$target.removeClass("b-collapse__expanded")),this.trackGoal&&r.customGoal(this.trackGoal,1),_r_()}}),_r_()}),B.require(["jquery","window-scroller"],function(t,i){_i_("269:bf239557"),t(".all-inclusive-usp-btn").click(function(e){return _i_("269:05a992d3"),t(".whats-included-btn").component("core/sliding-panel-trigger").model.hide(),setTimeout(function(){_i_("269:fd378593"),i.scrollToBlock(t(".has_all_inclusive_rate:first td:first"),!0,500,42),_r_()},10),_r_(!1)}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(){_i_("269:bbbb21a8");var e=$(".hp-section__exp-highlight");if(!e.length)return _r_();B.tools.dom.watchIfBlockVisibleInViewport(e,function(){_i_("269:8d8207c8"),setTimeout(function(){_i_("269:5acae330"),e.addClass("hp-section__highlighted"),_r_()},1e3),_r_()},!0),_r_()}),B.when({events:"ready"}).run(function(e){_i_("269:f31ecbf3");var t=e("jquery");t(".rc-policy-open").on("click",function(e){_i_("269:ebb3597e"),e.preventDefault(),t(this).parents("div.rt_resort_credits_info--policy").find(".rt_resort_credits_info--policy-details").stop(!0,!0).slideToggle("fast"),_r_()}),_r_()}),function(){"use strict";_i_("269:85cc6be6");var e=B.require("jquery"),t=i();function i(){return _i_("269:e9fc1727"),_r_(B.require("sliding-panel-model").get("hp-reviews-sliding").isPanelShown())}B.when({events:"user_center_bar:init",condition:1===B.env.b_has_hotel_history&&!B.env.b_is_coming_back&&"hotel"===B.env.b_action&&!window.location.hash.match(/map_opened/)&&!t}).run(function(){_i_("269:8eec7713"),i()||e(".uc_viewed_hotels .popover_trigger").append("<span class='no-trigger-resize'></span>").find(".no-trigger-resize").trigger("click");_r_()}),_r_()}(),_i_("269:bcbea92a"),B.when({action:"hotel",events:"ready",condition:B.env.b_is_landing}).require(["jquery"],function(e){_i_("269:f3bd5891"),413084==B.env.b_partner_id&&e("html, body").animate({scrollTop:e("#hp_hotel_name").offset().top-10},2e3),_r_()}),_r_(),B.define("leaving-users-event",function(){_i_("269:be1d413a");var e=B.require("events"),t=function(){};return t.prototype.init=function(){_i_("269:32c72fd9"),this.initialized_||(this.page_=$(document.documentElement),this.lastMouseYCoords_=[],this.windowFocused_=!0,this.attachEvents_(),this.initialized_=!0),_r_()},t.prototype.attachEvents_=function(){_i_("269:8aaddd7d");var t=this;this.page_.bind({"mousemove.LeavingUsersEvent":function(e){_i_("269:f5739a101"),t.onPageMouseMove_(e),_r_()},"mouseleave.LeavingUsersEvent":$.proxy(this.onPageMouseLeave_,this)}),$(window).focus(function(){_i_("269:219944531"),t.windowFocused_=!0,_r_()}).blur(function(){_i_("269:bf32ab821"),t.windowFocused_=!1,_r_()}),_r_()},t.prototype.detachEvents_=function(){_i_("269:fb6438df"),this.page_.unbind(".LeavingUsersEvent"),_r_()},t.prototype.onPageMouseMove_=function(e){_i_("269:e532b89f"),this.writeMouseCoords_(e),_r_()},t.prototype.onPageMouseLeave_=function(){if(_i_("269:cb181ea1"),!this.wasMouseMoveUpwards_())return _r_();this.triggerTabLeaveEvent_(),_r_()},t.prototype.triggerTabLeaveEvent_=function(){_i_("269:1cbb085d"),e.trigger("leaving-users-event:tab-leave"),_r_()},t.prototype.writeMouseCoords_=function(e){_i_("269:b775bf8c1"),this.lastMouseYCoords_.push(e.pageY),2<this.lastMouseYCoords_.length&&this.lastMouseYCoords_.shift(),_r_()},t.prototype.wasMouseMoveUpwards_=function(){return _i_("269:923f268e1"),_r_(2<=this.lastMouseYCoords_.length&&this.lastMouseYCoords_[0]>this.lastMouseYCoords_[1])},_r_(new t)}),_i_("269:37d9c0e7"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:05a7a0d7");var a=e("querystring"),s=a.parseUrl(location.href),t=e("search/searchbox/events"),l=s.query,i=e("search/searchbox/model").getInstance("main");i.use("dates"),i.use("group");var c=i.group,d=i.dates,h={checkin:d.get().checkin,checkout:d.get().checkout,group_adults:c.get().adults_count,age:c.get().children_ages||[]};h.group_children=h.age.length,h.checkin&&(h.checkin=h.checkin.toString()),h.checkout&&(h.checkout=h.checkout.toString()),h.age=h.age.slice(0),t.on(t.SEARCHBOX_SUBMIT_SUCCESS,function(e){if(_i_("269:b9dcdfd8"),e&&e.options&&e.options.skipHpRefresh)return _r_();var t=d.get().checkin,i=d.get().checkout,n={checkin:null,checkout:null,group_adults:null,group_children:null,age:[]};if(t&&(n.checkin=t.toString()),i&&(n.checkout=i.toString()),c){var r=c.get().children_ages||[];n.age=r,n.group_children=r.length,n.group_adults=c.get().adults_count,l.no_rooms=c.get().rooms_count}var _=!0;for(var o in h)("age"==o&&n.age.toString()!=h.age.toString()||"age"!=o&&n[o]!=h[o])&&(_=!1);if(!_){for(var o in n)l[o]=n[o];l.req_children=n.group_children,l.req_adults=n.group_adults,l.req_age=n.age,l.hp_refreshed_with_new_dates=1,delete l.checkin_month,delete l.checkin_monthday,delete l.checkin_year,delete l.checkout_month,delete l.checkout_monthday,delete l.checkout_year,delete l.room1,setTimeout(function(){_i_("269:7addf38d"),window.location.replace(s.base+"?"+a.stringify(l)),_r_()},3e3)}_r_()}),_r_()}),_r_(),_i_("269:10d574b8"),B.when({events:"ready"}).run(function(){_i_("269:99ad3f80"),function(){_i_("269:0f83642c");var e=B.require("hotel/events");if(/from_bs2_modify=1/.test(window.location.href)){B.events.trigger("open-tab",{tab:"main"});var t=$("#tdot_rooms_table_wrapper").length?$("#tdot_rooms_table_wrapper"):$("#availability_target");setTimeout(function(){if(_i_("269:e417777a"),e.trigger(e.UI_SCROLL_STARTED),!t.length)return e.trigger(e.UI_SCROLL_COMPLETED),_r_();$("html, body").animate({scrollTop:t.offset().top-20},1e3,function(){_i_("269:a3d9c844"),e.trigger(e.UI_SCROLL_COMPLETED),_r_()}),_r_()},500)}_r_()}(),_r_()}),_r_(),B.define("utils/photo-ml-tag-copy",function(e,t,i){_i_("269:bebaf1ae"),i.exports={getCopyForMLTags:function(e){var t;_i_("269:bfec5736");for(var i={6:"bh_fun_photo_kitchen_v4",7:"bh_fun_photo_whole_rm_v1",8:"bh_fun_photo_seating_gf_v2",9:"bh_fun_photo_dining_gf_v1",11:"bh_fun_photo_whole_rm_v2",12:"bh_fun_photo_media_v1",15:"bh_fun_photo_outdoor_v3",16:"bh_fun_photo_outdoor_v3",17:"bh_fun_photo_outdoor_v3",20:"bh_fun_photo_family_v1",21:"bh_fun_photo_nabe_v1",22:"bh_fun_photo_nabe_v2",23:"bh_fun_photo_nabe_v1",24:"bh_fun_photo_views_generic_v4",25:"bh_fun_photo_views_generic_v4",26:"bh_fun_photo_nabe_v1",27:"bh_fun_photo_views_generic_v4",28:"bh_fun_photo_views_generic_v4",29:"bh_fun_photo_views_generic_v4",30:"bh_fun_photo_views_generic_v4",31:"bh_fun_photo_views_generic_v4",32:"bh_fun_photo_views_generic_v4",33:"bh_fun_photo_views_generic_v4",34:"bh_fun_photo_views_generic_v4",37:"bh_fun_photo_bbq_v1",39:"bh_fun_photo_nabe_v2",63:"bh_fun_photo_family_v2",64:"bh_fun_photo_family_v2",65:"bh_fun_photo_family_v2",66:"bh_fun_photo_pets_v1"},n=0;n<e.length;n++){if(parseFloat(e[n].score)<.95)continue;if(!i[e[n].id])continue;(!t||t.score<parseFloat(e[n].score))&&(t={tagId:+e[n].id,copy:i[e[n].id],score:parseFloat(e[n].score)})}return _r_(t&&t.copy)}},_r_()}),B.define("hotel/track/photo-modal",function(e){_i_("269:190e0ccf");var t=e("events"),i=B.hotel.Events,n=e("ga-tracker"),r=e("et"),_=e("server-data"),o=n.hotelPageTracker,a="PhotoGrid";function s(t,i){_i_("269:9ae9d4b3"),_.b_facilities_tracking&&_.b_facilities_tracking.facilities&&_.b_facilities_tracking.facilities.forEach(function(e){_i_("269:7afab589"),_.b_facilities_tracking.photos[e]&&_.b_facilities_tracking.photos[e].includes(t)&&r.customGoal(_.b_facilities_tracking.experiment_hashes[e],i),_r_()}),_r_()}t.on(i.PhotoGrid.USER_CLICKED_ON_GRID_IMAGE,function(e){_i_("269:678cd40f"),r.goal("hp_gallery_grid_photo_clicked"),s(e,4),_r_()}),t.on(i.PhotoGrid.USER_HOVERED_ON_GRID_IMAGE,function(e){_i_("269:c3a90fc4"),s(e,3),_r_()}),t.on(i.PhotoGrid.HP_GALLERY_GRID_SCROLL_TO_END,function(){_i_("269:29a44168"),r.goal("hp_gallery_grid_scroll_to_end"),_r_()}),t.on(i.PhotoGrid.USER_CLICKED_BACK_TO_GRID,function(){_i_("269:f4fa9eae"),r.goal("hp_gallery_back_to_grid_clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_OPENED,function(){_i_("269:e7d6b839"),r.goal("bh_modal_gallery_open"),_r_()}),t.on(i.PhotoGrid.GRID_SEE_ALL_CLICKED,function(){_i_("269:5f72cc5a"),n.trackEvent(o,a,"See all clicked"),_r_()}),t.on(i.PhotoGrid.GRID_ELEMENT_CLICKED,function(){_i_("269:efbfd992"),n.trackEvent(o,a,"Grid Picture clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_GROUP_CLICKED,function(){_i_("269:bdafa297"),n.trackEvent(o,a,"Modal Group Clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_SAW_GENERAL_GROUP,function(){_i_("269:29e65078"),n.trackEvent(o,a,"Modal Saw General Picture"),_r_()}),t.on(i.PhotoGrid.MODAL_RESERVE_CLICKED,function(){_i_("269:01983d17"),n.trackEvent(o,a,"Modal Reserve button/link Clicked"),r.goal("bh_modal_gallery_cta_click"),_r_()}),t.on(i.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED,function(){_i_("269:4c0f5b5e"),n.trackEvent(o,a,"Modal Closed button Clicked"),r.goal("hp_gallery_grid_close_modal"),_r_()}),t.on(i.PhotoGrid.MODAL_VIEW_ALL_PHOTOS,function(){_i_("269:1fabd70c"),n.trackEvent(o,a,"Modal All Pictures Viewed"),_r_()}),t.on(i.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG,function(){_i_("269:977c5fa4"),n.trackEvent(o,a,"Modal Saw Persuasive Tag"),_r_()}),t.on(i.PhotoGrid.MODAL_CATEGORY_CHANGED,function(e){_i_("269:5545166f"),n.trackEvent(o,a,"Grid Category clicked: "+e),_r_()}),_r_()}),B.define("component/bh-photo-modal",function(e,t,i){_i_("269:ed9e8d2e");var n=e("component"),l=e("events"),m=e("jquery"),c=B.hotel.Events,r=e("et"),_=e("utils/photo-ml-tag-copy"),o=e("watcher"),a=e("trap-focus"),s=e("persistent-view"),d=e("tabbed-nav"),h=e("utils/inviewport"),u=e("page-scroll-block"),v=e("server-data"),f=e("utils/throttled"),p=e("lazy-loader-image"),b=e("browser-storage-handler"),g=v.hotelPhotos,M="hotelsGalleryWasViewdFor",w=!1,y=!1,k="gallery-side-reviews-wrapper",C="js-bh-photo-modal-change-layout",E="bh-photo-modal-grid-image",T="bh-photo-modal-grid-item-wrapper",x="bh-photo-modal-masonry-grid-item",S="bh-photo-modal-masonry-grid-sizer",N="photo-view",j="grid",I="photosGallery";"hotel"===v.b_action&&e("hotel/track/photo-modal");var L=B.debug("px_d_hp_photos_gallery");i.exports=n.extend({created:!1,opened:!1,photos:null,currPos:null,currMainPos:null,photosCache:{},vrPhotosCache:{},photoByIdCache:{},photosViewed:[],review_scores_gallery:[],trackedPhotosViewed:!1,animationRunning:!1,gridColumns:4,hideReviewsOnGridLayout:!1,init:function(){_i_("269:e94575a8"),L.log("[bh-photo-modal] init called"),this.isRtl=this.$el.data("is-rtl")||0,this.photos=v.hotelPhotos,this.viewedPhotos=[],"www"===v.b_site_type&&v.b_pmc_has_virtual_tour&&(v.show_virtual_tour_help=1),this.$modal=m(".bh-photo-modal"),this.$imageContainer=m(".bh-photo-modal-image-container"),this.$caption=m(".bh-photo-modal-caption-inner"),this.$captionContainer=m(".bh-photo-modal-caption-thumbs"),this.$thumbsViewport=m(".bh-photo-modal-thumbs-viewport"),this.$thumbsContainer=m(".bh-photo-modal-thumbs-container"),this.$reviews=m(".bh-photo-modal-reviews"),this.isWithReviews=this.$reviews.length,this.$photoTags=m(".bh-gallery__photo_tags");var i=this;void 0!==v.review_scores&&m.each(v.review_scores,function(e,t){_i_("269:a56f7674"),8<=t.score&&i.review_scores_gallery.push(t),_r_()}),d.registerDefaultTab(),this.$backToGallery=this.$el.find(".js-back-to-gallery-wrapper"),this.$masonryGridContainer=this.$el.find(".bh-photo-modal-masonry-grid"),this.initGrid(),this.initLayout(),this.initMasonryGrid(),this.bindEvents(),this.$el.on("openPhotoId",function(e,t,i){_i_("269:fb136d4f");var n=!1;"gallery"!=i&&"thumbnail"!=i||(n=!0),this.openModal({showGridLayout:n,photoId:t}),_r_()}.bind(this)),this.$el.on("setPos",function(e,t,i){_i_("269:7b00989e"),this.photos[t]&&this.photos[t].id?this.openModal({showGridLayout:"gallery"==i||"thumbnail"==i,photoId:this.photos[t].id}):this.openModal(),setTimeout(this.setPos.bind(this,t),10),_r_()}.bind(this)),this.$el.on("showModal",function(){_i_("269:8a20147d"),this.openModal(),setTimeout(this.setPos.bind(this,0),10),_r_()}.bind(this)),this.$el.on("showNext",function(){_i_("269:481d7a1d"),this.showNext(),_r_()}.bind(this)),this.$el.on("reCreate",function(){_i_("269:bd2980ec"),this.photos=v.hotelPhotos,this.createDOM(!0),_r_()}.bind(this)),v.fe_hotel_has_360_photos&&this.$el.on("closeModal",function(){_i_("269:098fe1fa"),this.closeModal(),_r_()}.bind(this)),this.activePhotoId=void 0,u.init(),this.registerModalTab(),_r_()},bindEvents:function(){_i_("269:6574deed"),L.log("[bh-photo-modal] bind events called");var e=m(".bh-photo-grid");m(".hp-gallery-grid").on("click",".js-hotel-thumb",this.gridItemClick.bind(this)),e.on("click",".bh-photo-grid-item",this.gridItemClick.bind(this)),this.$modal.on("click",".hp_gallery_attr_slide__attr_details__text.first",this.reserveClicked.bind(this)),this.$modal.on("click",".gallery__last-item__cta",this.reserveClicked.bind(this)),this.$modal.on("click",'[data-elem="reserve-btn"]',this.reserveClicked.bind(this)),this.$modal.on("click",".gallery-info__rn, .gallery-info__fc, .gallery-info__um, .gallery-info__rl, .js-gallery-scroll-to-room",this.scrollToRoom.bind(this)),this.$modal.on("click",".bh-photo-modal-thumb",this.modalThumbClick.bind(this)),this.$modal.on("click",".bh-group-pill",this.modalGroupClick.bind(this)),this.$modal.on("click",".bh-photo-modal-close",this.closeModal.bind(this,{closeButtonClicked:!0})),this.$modal.on("click",".bh-close-modal",this.closeModal.bind(this)),this.$modal.on("click",".bh-photo-modal-prev",this.showPrev.bind(this)),this.$modal.on("click",".bh-photo-modal-next, .bh-photo-modal-image-container",this.showNext.bind(this)),this.$modal.on("click",".bh-photo-modal-name-cta button, .js-reserve-button",function(e){_i_("269:078417d4"),this.sendPhotoId.call(this),this.reserveClicked.call(this,e),_r_()}.bind(this)),this.$modal.on("click",function(e){_i_("269:94c3e634");var t=m(e.target);t.closest(".reviewFloater").length||t.closest(".bh-photo-modal-thumbs-container").length||t.closest(".js-no-close").length||this.closeModal(),t.data("triggerModalEvent")&&setTimeout(function(){_i_("269:e21079a6"),setTimeout(function(){_i_("269:8ecf678c"),String(t.data("triggerModalEvent")).split(/ +/).forEach(function(e){_i_("269:271deb81"),l.emit(m.trim(e)),_r_()}),_r_()},0),_r_()},0),_r_()}.bind(this)),this.$backdrop.on("click",this.closeModal.bind(this)),this.$modal.on("click","."+C,this.clickedChangeLayoutButton.bind(this)),this.$modal.on("click",".js-room-clickable",this.gridItemScrollToRoomClick.bind(this)),m(window).on("load",this.createDOM.bind(this)),m(window).on("resize",this.windowResize.bind(this)),m(document).on("keyup",this.keyUp.bind(this)),m(document).on("keydown",this.keyDown.bind(this)),_r_()},buildThumbs:function(){_i_("269:fa454bc7"),L.log("[bh-photo-modal] buildThumbs called");var e,t,i,n=this.photos.length,r="",_="",o=B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder");for(e=0;e<n;e++)i=(t=this.photos[e]).thumb_className||"",_=t.thumb_contains_jstmpl?B.jstmpl(t.thumb_contains_jstmpl).render(t.thumb_contains_jstmpl_data||{}):"",r+='<a data-id="'+t.id+'" title="'+o+'" href="'+t.large_url+'" target="_blank" class="bh-photo-modal-thumb '+i+'" >',r+='<img alt="'+(t.name||o)+'" src="'+t.thumb_url+'"/>',t.thumb_contains&&(r+=t.thumb_contains),_&&(r+=_),r+="</a>";return _r_(r)},isLastSlide:function(){return _i_("269:ec39e8f1"),_r_(!!this.$imageContainer.find(".js-gallery__last-item").length)},createDOM:function(e){if(_i_("269:e21db1cf"),L.log("[bh-photo-modal] createDOM called"),!0!==e&&(this.created||!this.photos))return _r_();this.$thumbsContainer.html(this.buildThumbs()),this.created=!0,l.emit(c.PhotoGrid.MODAL_DOM_READY),_r_()},goToId:function(e,t,i){_i_("269:75b2142e"),e=e.toString();var n=this.findPosById(e);this.setPos(n,t,i),_r_()},gridItemClick:function(e){_i_("269:23ed8f43"),L.log("[bh-photo-modal] gridItemClick called");var t=m(e.currentTarget),i=t.data("id"),n=this.findPosById(String(i)),r=t.data("previewImageLayout");l.emit(c.PhotoGrid.GALLERY_PREVIEW_IMAGE_CLICKED,i,n,r);var _=t.hasClass("js-bh-photo-grid-item-see-all");return _?l.emit(c.PhotoGrid.GRID_SEE_ALL_CLICKED):l.emit(c.PhotoGrid.GRID_ELEMENT_CLICKED),_&&(this.currPos=0),this.openModal({showGridLayout:!0,photoId:i}),_r_(!1)},gridItemScrollToRoomClick:function(e){_i_("269:052d5bdf"),L.log("[bh-photo-modal] gridItemScrollToRoomClick called");var t=m(e.currentTarget).closest("."+T).data("id");return t&&(this.currPos=this.findPosById(t.toString()),this.scrollToRoom(e)),_r_(!1)},goToSlide:function(e,t){_i_("269:a4f08b42"),L.log("[bh-photo-modal] goToSlide called");var i=m(e).data("nav"),n=null,r=null,_=t.photos.length,o=m(".bh-photo-grid-photo1");"next"==i?n=_<=t.currMainPos+1?0:t.currMainPos+1:"prev"==i&&(n=t.currMainPos-1<0?_-1:t.currMainPos-1),o.data("id",t.photos[n].id),o.data("thumb-url",t.photos[n].thumb_url),o.attr("href",t.photos[n].large_url),t.vrPhotosCache[n]?o.css("background-image","url("+t.photos[n].large_url+")"):(o.css("background-image","url("+t.photos[n].thumb_url+")"),(r=new Image).src=t.photos[n].large_url,m(r).on("load.vrGallery",function(){_i_("269:507cb905"),o.data("id")==t.photos[n].id&&(o.css("background-image","url("+t.photos[n].large_url+")"),o.data("loaded",1),m(this).data("id",n).off("load.vrGallery"),t.vrPhotosCache[n]=r),_r_()})),o.find("img").attr("src",t.photos[n].large_url),t.currMainPos=n,_r_()},modalThumbClick:function(e){_i_("269:63eb39a6"),L.log("[bh-photo-modal] modalThumbClick called");var t=m(e.currentTarget).data("id");if(l.emit(c.PhotoGrid.MODAL_THUMB_CLICKED),t){this.goToId(t);var i=this.findPosById(String(t));l.emit(c.PhotoGrid.GALLERY_SLIDER_NAVIGATED,t,i)}return _r_(!1)},modalGroupClick:function(e){_i_("269:6a9268b2"),L.log("[bh-photo-modal] modalGroupClick called");var t=m(e.currentTarget).data("first-photo-id");return l.emit(c.PhotoGrid.MODAL_GROUP_CLICKED),t&&this.goToId(t),_r_(!1)},trackOnView:function(e){var t,i;if(_i_("269:ad6fc2ed"),L.log("[bh-photo-modal] trackOnView called"),e.constructor!==Array)return _r_();for(i=0;i<e.length;i++)(t=e[i]).hash&&(t.stage||t.customGoal)&&(t.stage&&r.stage(t.hash,t.stage),t.customGoal&&r.customGoal(t.hash,t.customGoal));_r_()},getPhotoHTML:function(e){_i_("269:c559dd3e"),L.log("[bh-photo-modal] getPhotoHTML called");var t=e.className||"",i=1<(window&&window.devicePixelRatio?window.devicePixelRatio:1)&&e.highres_url?e.highres_url:e.large_url,n='<div class="bh-photo-modal-image '+t+'">',r=B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder");(n+='<div class="bh-photo-modal-image-element">',e.has_virtual_tour)?n+=B.jstmpl("virtual_3d_tour_container").render({url:e.virtual_tour_url,lang:v.rtl,width:"100%",height:"100%",show_help_message:v.show_virtual_tour_help}):n+='<img class="" alt="'+r+'" src="'+i+'">';return n+="</div>",e.contains?n+=m(e.contains).html():!v.gallery_missing_info_survey||e.tags&&_.getCopyForMLTags(e.tags)||(n+=m(v.gallery_missing_info_survey).html()),e.created&&(n+='<div data-photo-created="'+e.created+'"></div>'),_r_(n+="</div>")},alignPhoto:function(e){_i_("269:d19ac1c0"),L.log("[bh-photo-modal] alignPhoto called");var t=this.$imageContainer.find(e.verticalAlign);if(0<t.length)try{var i=(this.$imageContainer.height()-t.height())/2;!isNaN(parseFloat(i))&&isFinite(i)&&t.css("margin-top",Math.floor(i))}catch(e){}_r_()},getPhotoCaption:function(e,t){_i_("269:28c54ceb"),L.log("[bh-photo-modal] getPhotoCaption called");var i='<div class="bh-photo-modal-caption-left">'+(t+1)+" / "+this.photos.length;return e.caption_left?i+=" &mdash; "+e.caption_left:e.name&&(i+=" &mdash; "+e.name),i+="</div>",e.caption_right&&(i+='<div class="bh-photo-modal-caption-right">'+e.caption_right+"</div>"),_r_(i)},setActiveThumb:function(e){_i_("269:70a8823c"),L.log("[bh-photo-modal] setActiveThumb called");var t=this.$modal.find(".bh-photo-modal-thumb");t.removeClass("active");var i=t.filter('[data-id="'+e+'"]');i.addClass("active");var n=this.$thumbsViewport.width(),r=this.$thumbsContainer.width(),_=i.width(),o=i.position(),a=n/2-_/2-(o?this.isRtl?r-o.left-_-10:o.left:0);0<a?a=0:a<n-r+10&&(a=n-r+10),r<n?this.$thumbsContainer.css(this.isRtl?"right":"left",0):this.$thumbsContainer.css(this.isRtl?"right":"left",a),_r_()},updatePhotoTagPosition:function(){_i_("269:f90dd109"),L.log("[bh-photo-modal] updatePhotoTagPosition called");var e=m(".bh-photo-modal-image-element"),t=e.find("img"),i=Math.min(e.width(),t.width());if(t.length&&i){var n=t.offset();n.top+=t.height()-this.$photoTags.height(),this.$photoTags.offset(n).width(i+1)}else setTimeout(this.updatePhotoTagPosition.bind(this),100);_r_()},getScoreForMLCopy:function(e){_i_("269:097294ff"),L.log("[bh-photo-modal] getScoreForMLCopy called");return _r_({bh_fun_photo_kitchen_v4:"bh_fun_gallery_sproof_review_kitchen",bh_fun_photo_whole_rm_v1:"bh_fun_gallery_sproof_review_clean",bh_fun_photo_seating_gf_v2:"bh_fun_gallery_persuade_review_comfort",bh_fun_photo_dining_gf_v1:"bh_fun_gallery_sproof_review_kitchen",bh_fun_photo_media_v1:"bh_fun_gallery_sproof_review_fac",bh_fun_photo_family_v1:"bh_fun_gallery_sproof_review_fac",bh_fun_photo_nabe_v1:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_nabe_v3:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_outdoor_v3:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_bbq_v1:"bh_fun_gallery_sproof_review_fac"}[e])},setPhotoTag:function(e){if(_i_("269:158a3be1"),L.log("[bh-photo-modal] setPhotoTag called"),!e.tags||this.isLastSlide())return this.$photoTags.hide(),_r_();var t=_.getCopyForMLTags(e.tags);if(!t)return this.$photoTags.hide(),_r_();l.emit(c.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG),this.$photoTags.show().find("span").html(B.jstmpl.translations(t)),this.updatePhotoTagPosition(),_r_()},setPos:function(e,t,i){if(_i_("269:3a03879a"),L.log("[bh-photo-modal] setPos called"),isNaN(parseFloat(e))||!isFinite(e))return _r_();var n=this.photos[e];if(this.currentLayout==j){if(!n)return _r_();this.currPos=e,this.activePhotoId=n.id;var r=this.$thumbsGridContainer.find("img[data-id="+this.activePhotoId+"]");i&&(this.activeGridPhotoId=this.activePhotoId,this.$thumbsGridContainer.find("."+T).removeClass("active glowEffect"),r.closest("."+T).addClass("active glowEffect").focus());var _=r;if(r.closest("."+x).length?_=r.closest("."+x):r.closest("."+T).length?_=r.closest("."+T):r.closest("."+E).length&&(_=r.closest("."+E)),_.length){var o=_.get(0).offsetTop-this.$thumbsGridContainer.get(0).offsetTop,a=this.$thumbsGridContainer.parent();t?a.scrollTop(o-15):(a.scrollTop(o-100),a.stop().animate({scrollTop:o-15},750,"swing",function(){}))}l.emit(c.PhotoGrid.MODAL_PICTURE_CHANGED,{modal:this})}else{var s;this.activePhotoId=n.id,n.track&&this.trackOnView(n.track),this.$imageContainer.html(this.getPhotoHTML(n)),this.$imageContainer.loadComponents(),this.$caption.html(this.getPhotoCaption(n,e)),this.setActiveThumb(n.id),this.setContainerSize(),n.verticalAlign&&this.alignPhoto(n),this.$photoTags.length&&this.setPhotoTag(n),s=null===this.currPos||e===this.currPos?null:e>this.currPos,this.currPos=e,this.photosCache[e]=!0,this.updatePhotosViewed(e),l.emit(c.PhotoGrid.MODAL_PICTURE_CHANGED,{modal:this}),void 0!==v.is_bh_property_page&&1==v.is_bh_property_page&&this.showCustomReviewScore(e),this.isWithReviews&&(this.updateReviewsPos(),null!==s&&l.trigger(c.ReviewFloater.FORCE_SLIDE,[s])),this.setImgWidthRelated(),this.preloadPhoto(this.getPrevPos()),this.preloadPhoto(this.getNextPos())}_r_()},showCustomReviewScore:function(e){if(_i_("269:de740f6b"),L.log("[bh-photo-modal] showCustomReviewScore called"),void 0===this.review_scores_gallery||0===this.review_scores_gallery.length||!m(".best-review-score-label")[0]||!m(".best-review-score-number")[0])return _r_();var t=e%this.review_scores_gallery.length;m(".best-review-score-label").first().html(this.review_scores_gallery[t].txt),m(".best-review-score-number").first().html(this.review_scores_gallery[t].score_string),_r_()},resetReviewScore:function(){_i_("269:55b9da3e"),this.baseReview&&(this.baseReview=!1,m(".best-review-score-number")[0].innerHTML=this.baseReviewScore,m(".best-review-score-label")[0].innerHTML=this.baseReviewText),_r_()},preloadPhoto:function(e){_i_("269:683ea478");var t=this.photos[e];if(!t||this.photosCache[e])return _r_();document.createElement("img").src=t.large_url,this.photosCache[e]=!0,_r_()},findPosById:function(e){_i_("269:77bcd78b");var t,i=this.photos.length;for(t=0;t<i;t++)if(this.photos[t].id===e)return _r_(t);return _r_(0)},keyUp:function(e){if(_i_("269:7f2623b9"),!this.opened)return _r_();27===e.which&&this.closeModal(),_r_()},keyDown:function(e){if(_i_("269:8ab40c8a"),!this.opened)return _r_();if(this.currentLayout===j)return _r_();37===e.which?this.isRtl?this.showNext():this.showPrev():39===e.which&&(this.isRtl?this.showPrev():this.showNext()),_r_()},windowResize:function(){if(_i_("269:00c193d0"),L.log("[bh-photo-modal] windowResize called"),!this.opened)return _r_();if(this.setContainerSize(),this.setImgWidthRelated(),this.isWithReviews&&this.updateReviewsPos(),this.$photoTags.length&&this.updatePhotoTagPosition(),this.currentLayout===j){this.createDOM(!0),this.buildGrid(),this.initMasonryGrid();var e=this.$thumbsGridContainer.parent();e.scrollTop(0),e.scrollLeft(0),this.currentLayout===j&&this.loadGridImages(),this.$masonryGrid&&this.$masonryGrid.masonry("layout")}_r_()},hashChange:function(){_i_("269:c0ab0498"),"#gallery"===window.location.hash?this.openModal({skipHashUpdate:!0}):this.closeModal({skipHashUpdate:!0}),_r_()},getPrevPos:function(){return _i_("269:2aa701bd"),_r_(0===this.currPos?this.photos.length-1:this.currPos-1)},showPrev:function(e){_i_("269:835fc6b2"),L.log("[bh-photo-modal] showPrev called"),l.emit(c.PhotoGrid.MODAL_SHOW_PREVIOUS);var t=this.getPrevPos(),i=this.photos[t].id;return l.emit(c.PhotoGrid.GALLERY_SLIDER_NAVIGATED,i,t),this.setPos(t),e&&e.stopPropagation&&e.stopPropagation(),document.activeElement&&document.activeElement.blur(),_r_(!1)},getNextPos:function(){return _i_("269:8f2b32f5"),_r_(this.currPos===this.photos.length-1?0:this.currPos+1)},showNext:function(e){_i_("269:7147aa44"),L.log("[bh-photo-modal] showNext called");try{l.emit(c.PhotoGrid.MODAL_SHOW_NEXT);var t=this.getNextPos(),i=this.photos[t].id;l.emit(c.PhotoGrid.GALLERY_SLIDER_NAVIGATED,i,t),this.setPos(t)}catch(e){}return e&&e.stopPropagation&&e.stopPropagation(),document.activeElement&&document.activeElement.blur(),_r_(!1)},activateTab:function(e,t){var i;_i_("269:ddaf70e2"),L.log("[bh-photo-modal] activateTab called"),i=t||m(e.currentTarget);m("button",i).addClass("bui-tab__link--selected");var n=i.attr("data-tab-type"),r=i.attr("data-tab-type-other"),_="";"bath"==n?_="dataTypeBath":"food"==n?_="dataTypeFood":"room"==n&&(_="dataTypeRoom"),this.photos=_?v.hotelPhotos.filter(function(e){return _i_("269:ec67d9dd"),_r_(1==e[_])}):void 0!==r&&!1!==r?v.hotelPhotos.filter(function(e){return _i_("269:f81c6c4e"),_r_(!e.dataTypeBath&&!e.dataTypeFood&&!e.dataTypeRoom)}):v.hotelPhotos,this.createDOM(!0),this.currPos=void 0,this.setPos(0),_r_()},initLayout:function(){_i_("269:b78e99ac"),L.log("[bh-photo-modal] initLayout called"),this.currentLayout=null,this.$parent=this.$el.parents("."+k),this.$layoutHolders=m(".js-bh-photo-modal-layout"),this.$layoutChangers=m("."+C),_r_()},showLayout:function(e,t){if(_i_("269:1fd04c5f"),L.log("[bh-photo-modal] showLayout called"),!e)return _r_();this.activePhotoId=void 0;var i='[data-layout="'+(this.currentLayout=e)+'"]';this.$layoutHolders.filter(i).show(),this.$layoutHolders.not(i).hide(),this.$layoutChangers.filter(i).addClass("active"),this.$layoutChangers.not(i).removeClass("active"),this.hideReviewsOnGridLayout=!1,this.windowResize(),this.currentLayout===N?(this.hideReviewsOnGridLayout&&this.$parent.addClass(k),this.$backToGallery.show(),t&&this.goToId(t)):(this.hideReviewsOnGridLayout&&this.$parent.removeClass(k),this.$backToGallery.hide(),this.initMasonryGrid(),this.loadGridImages(function(){if(_i_("269:f0462696"),t)this.goToId(t,!1,!0);else{var e=this.$thumbsGridContainer.parent();e.scrollTop(0),e.scrollLeft(0)}_r_()}.bind(this)),""==this.activePhotoId&&l.emit(c.PhotoGrid.MODAL_PICTURE_CHANGED,{modal:this})),l.trigger(c.PhotoGrid.MODAL_LAYOUT_CHANGED,e),_r_()},clickedChangeLayoutButton:function(e){_i_("269:b6eb501d");var t=m(e.currentTarget);t.hasClass(C)||(t=t.closest("."+C));var i=t.data("layout");if(i!==this.currentLayout){if(i===j){var n=this.findPosById(this.activePhotoId);l.emit(c.PhotoGrid.USER_CLICKED_BACK_TO_GRID,this.activePhotoId,n)}this.showLayout(i,this.activePhotoId)}_r_()},initGrid:function(){_i_("269:8cb4c31f"),L.log("[bh-photo-modal] initGrid called"),this.$thumbsGridContainer=m(".bh-photo-modal-thumbs-grid__main"),this.$belowThumbsGridContainer=m(".bh-photo-modal-thumbs-grid__below"),this.$backdrop=m(".bh-photo-modal-backdrop"),this.unsetGridPhotos=[],this.previouslyLoadedImages={},this.$thumbsGridContainer.on("click"," ."+T,this.onClickGridPhoto.bind(this)),this.$thumbsGridContainer.on("mouseleave mouseenter"," ."+T,f(this.onHoverOffGridThumb.bind(this),700)),this.$thumbsGridContainer.on("scroll wheel",f(this.onScrollGrid.bind(this),100)),_r_()},buildGrid:function(){_i_("269:d2f6df5f"),L.log("[bh-photo-modal] buildGrid called"),this.$thumbsGridContainer.find(".bh-photo-modal-grid-column").remove(),this.$thumbsGridContainer.find("."+T).remove(),this.$belowThumbsGridContainer.html(""),this.$masonryGridContainer.css("height","auto"),this.$thumbsGridContainer.find("."+x).remove(),this.$masonryGrid&&(this.$masonryGrid.masonry("destroy"),this.$masonryGrid=null),this.loadingCount=0,this.loadingInViewportCount=0;var e=window.innerWidth||m(window).width();e&&(this.gridColumns=e<1440?4:e<1920?5:6,this.hideReviewsOnGridLayout||this.gridColumns--);var b=B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder");this.unsetGridPhotos=[],this.photos.forEach(function(e,t){_i_("269:801cf6a2"),this.loadingCount++;var i=document.createElement("a");i.setAttribute("href",e.large_url),i.setAttribute("target","_blank"),i.setAttribute("area-label",e.name||b),i.setAttribute("data-id",e.id),i.classList.add(T),i.addEventListener("click",function(e){_i_("269:59c944fc"),e.preventDefault(),_r_()});var n=document.createElement("img");n.classList.add(E),n.setAttribute("data-id",e.id),n.setAttribute("alt",e.name||b);var r=this.$masonryGridContainer.outerWidth(),_=(r-8*(this.gridColumns-1))/this.gridColumns,o=Math.floor(9900*_/r)/100+"%",a=document.createElement("div");if(a.classList.add(x),a.classList.add("caption_hover"),m(a).css("width",o),e.grid&&e.grid.photo_width&&e.grid.photo_height){var s=_/e.grid.photo_width*e.grid.photo_height;n.setAttribute("height",Math.min(1.5*_,s)+"px")}if(this.previouslyLoadedImages[e.large_url]?n.setAttribute("src",e.large_url):(i.classList.add("loading"),n.setAttribute("data-src",e.large_url),n.setAttribute("data-srcset",e.large_url),n.classList.add("js-lazy-load-masonry-image")),t==this.photos.length-1&&n.classList.add("photo-modal-masonry-grid-last-item"),e.grid&&e.grid.thumb_contains){var l=document.createElement("a");l.setAttribute("onclick","return false;"),l.setAttribute("href",e.large_url),l.setAttribute("target","_blank"),l.setAttribute("title",e.name||b),l.setAttribute("data-id",e.id),l.classList.add("bh-photo-modal-grid-thumb-wrapper"),l.appendChild(n);var c=document.createElement("div");c.classList.add("bh-photo-modal-grid-thumb-content"),c.innerHTML=e.grid.thumb_contains,l.appendChild(c),i.appendChild(l)}else i.appendChild(n);if(e.grid&&(e.grid.content&&(e.grid.is_landmark||!v.fe_property_is_bh19||e.grid.is_beach_landmark)||e.grid.contains)){var d=document.createElement("div");d.classList.add("bh-photo-modal-grid-item-content-hint"),d.innerHTML='<svg class="bk-icon -streamline-info_sign" fill="#6B6B6B" height="16" width="16" viewBox="0 0 24 24" role="presentation" aria-hidden="true" focusable="false"><path d="M14.25 15.75h-.75a.75.75 0 0 1-.75-.75v-3.75a1.5 1.5 0 0 0-1.5-1.5h-.75a.75.75 0 0 0 0 1.5h.75V15a2.25 2.25 0 0 0 2.25 2.25h.75a.75.75 0 0 0 0-1.5zM11.625 6a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zM22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zm1.5 0c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12z"/></svg>',i.appendChild(d);var h=document.createElement("div");h.classList.add("bh-photo-modal-grid-item-content"),e.grid.content?h.innerHTML=e.grid.content:h.innerHTML=m(e.grid.contains).html(),i.appendChild(h)}if(e.grid&&e.grid.gridTrack&&Array.isArray(e.grid.gridTrack))for(var u,f=e.grid.gridTrack,p=0;p<f.length;p++)(u=f[p]).on&&u.track&&i.setAttribute("data-et-"+u.on,(m(i).attr("data-et-"+u.on)||"")+" "+u.track);a.appendChild(i),this.$masonryGridContainer.append(a),_r_()}.bind(this)),p.initializeLazyLoaderImage("js-lazy-load-masonry-image",function(e,t){_i_("269:d410920b"),this.previouslyLoadedImages[t]=!0,m(e).closest("."+T).removeClass("loading"),m(e).hide().fadeIn(),this.$masonryGrid&&this.$masonryGrid.masonry&&this.$masonryGrid.masonry("layout"),_r_()}.bind(this)),r.initAttributesTracking(this.$thumbsGridContainer),_r_()},loadGridImages:function(n){_i_("269:338a3599"),L.log("[bh-photo-modal] loadGridImages called"),this.isLoadingImagesComplete=!1,this.loadingGridTimer&&clearTimeout(this.loadingGridTimer);var r=this.$thumbsGridContainer.parent()[0];this.unsetGridPhotos.length?this.unsetGridPhotos.forEach(function(t){_i_("269:a3163b88");var i=t.dataset.url;this.previouslyLoadedImages[i]?this.onGalleryGridImageLoaded(t,i,n):o.watch(t,r).when(o.conditions.isPartiallyInViewport).then(function(){_i_("269:12e1230f"),this.loadingInViewportCount++;var e=document.createElement("img");e.src=i,e.complete?(this.onGalleryGridImageLoaded(t,i,n),this.loadingInViewportCount--):e.addEventListener("load",function(){_i_("269:523cacd8"),this.onGalleryGridImageLoaded(t,i,n),this.loadingInViewportCount--,_r_()}.bind(this)),o.unwatch(t,o.conditions.isPartiallyInViewport,r),_r_()}.bind(this)),_r_()}.bind(this)):this.opened&&!this.isLoadingImagesComplete&&(this.isLoadingImagesComplete=!0,this.loadingCount=0,this.loadingInViewportCount=0,n&&n.call(this),w||(l.emit(c.PhotoGrid.GRID_IMAGES_DISPLAYED,g),w=!0)),this.unsetGridPhotos=[],_r_()},onGalleryGridImageLoaded:function(e,t,i){_i_("269:39de3d44"),L.log("[bh-photo-modal] onGalleryGridImageLoaded called"),this.loadingCount--,this.previouslyLoadedImages[t]=!0,e.classList.remove("loading"),e.setAttribute("src",t),m(e).closest("."+T).removeClass("loading"),i&&(this.loadingGridTimer=setTimeout(function(){_i_("269:99bd474d");var e=this.$thumbsGridContainer.parent()[0];m(e).trigger("resize"),this.loadingGridTimer=void 0,this.opened&&!this.isLoadingImagesComplete&&(this.isLoadingImagesComplete=!0,this.initMasonryGrid(),i&&i.call(this)),_r_()}.bind(this),500)),_r_()},onClickGridPhoto:function(e){_i_("269:5e83f8aa"),L.log("[bh-photo-modal] onClickGridPhoto called");var t=m(e.currentTarget).data("id"),i=this.findPosById(String(t));t&&this.showLayout(N,t),l.emit(c.PhotoGrid.USER_CLICKED_ON_GRID_IMAGE,t,i),_r_()},onHoverOffGridThumb:function(e){_i_("269:ac78b761"),L.log("[bh-photo-modal] onHoverOffGridThumb called"),e.stopPropagation(),e.target&&this.activeGridPhotoId&&!this.loadingInViewportCount&&e.target.dataset.id==this.activeGridPhotoId&&(null!=this.hoverGridTimer&&clearTimeout(this.hoverGridTimer),this.hoverGridTimer=setTimeout(function(){_i_("269:c9adf27b"),this.hoverGridTimer=void 0,this.activeGridPhotoId=void 0,this.$thumbsGridContainer.find("."+T).removeClass("glowEffect"),_r_()}.bind(this),500));var t=m(e.currentTarget).data("id"),i=this.findPosById(String(t));l.emit(c.PhotoGrid.USER_HOVERED_ON_GRID_IMAGE,t,i),_r_()},onScrollGrid:function(e){_i_("269:ad065ecb"),L.log("[bh-photo-modal] onScrollGrid called"),this.$thumbsGridContainer.parent().stop(),null!=this.hoverGridTimer&&clearTimeout(this.hoverGridTimer),this.hoverGridTimer=setTimeout(function(){_i_("269:60383fac"),this.hoverGridTimer=void 0,this.activeGridPhotoId=void 0,this.$thumbsGridContainer.find("."+T).removeClass("glowEffect"),_r_()}.bind(this),500),B.eventEmitter.trigger("et-scroll-observer:scroll",e),y||h(m("."+x).last())&&(l.emit(c.PhotoGrid.HP_GALLERY_GRID_SCROLL_TO_END),y=!0),_r_()},initMasonryGrid:function(){if(_i_("269:7d5176a4"),L.log("[bh-photo-modal] initMasonryGrid called"),this.opened&&m.fn.masonry){var e=this.$masonryGridContainer.outerWidth(),t=(e-8*(this.gridColumns-1))/this.gridColumns,i=Math.floor(9900*t/e)/100+"%";this.$el.find("."+x).css("width",i),this.$el.find("."+S).css("width",i),this.$masonryGrid?this.$masonryGrid.masonry("layout"):(this.$masonryGrid=this.$masonryGridContainer.masonry({columnWidth:"."+S,itemSelector:"."+x,horizontalOrder:!1,percentPosition:!0,transitionDuration:0,gutter:8,originLeft:!v.rtl}),this.$masonryGrid.imagesLoaded().progress(function(){_i_("269:cfc625e3"),this.$masonryGrid.masonry("layout"),_r_()}.bind(this)))}_r_()},openModal:function(e){if(_i_("269:e1f31483"),L.log("[bh-photo-modal] openModal called"),e||(e={}),this.opened)return _r_();if(v.b_pmc_has_virtual_tour){m(".bh-photo-modal-thumb[data-id^='vt-']").addClass("txp-vt-thumb").append('<svg class="bk-icon -streamline-3d_sync txp-vt-thumb-icon" height="24" width="24" viewBox="0 0 24 24" role="presentation" aria-hidden="true" focusable="false"><path d="M0 12C.001 18.628 5.375 24 12.003 24c3.776 0 7.33-1.778 9.597-4.798a.75.75 0 0 0-1.2-.9 10.501 10.501 0 0 1-8.397 4.198c-5.8.001-10.502-4.7-10.503-10.5A.75.75 0 0 0 0 12zm17.25 7.5H21l-.75-.75v3.75a.75.75 0 0 0 1.5 0v-3.75A.75.75 0 0 0 21 18h-3.75a.75.75 0 0 0 0 1.5zm-2.25-3a3.75 3.75 0 0 0 3.75-3.75v-1.5A3.75 3.75 0 0 0 15 7.5h-1.5a.75.75 0 0 0-.75.75v7.5c0 .414.336.75.75.75H15zm0-1.5h-1.5l.75.75v-7.5L13.5 9H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 15zM6.75 9.75A.75.75 0 0 1 7.5 9l1.132.005a1.12 1.12 0 0 1 1.079 1.15c-.016.6-.5 1.083-1.1 1.095-.979.02-.979 1.48 0 1.5a1.123 1.123 0 0 1 .005 2.245L7.496 15a.75.75 0 0 1-.746-.75.75.75 0 0 0-1.5 0A2.25 2.25 0 0 0 7.5 16.5l1.138-.005a2.623 2.623 0 0 0 .004-5.245v1.5a2.623 2.623 0 0 0 .012-5.245L7.504 7.5A2.25 2.25 0 0 0 5.25 9.75a.75.75 0 0 0 1.5 0zM24 12C23.999 5.372 18.625 0 11.997 0 8.22.001 4.667 1.779 2.4 4.799a.75.75 0 0 0 1.2.9 10.501 10.501 0 0 1 8.397-4.198c5.8-.001 10.502 4.7 10.503 10.5A.75.75 0 0 0 24 12zM6.75 4.5H3l.75.75V1.5a.75.75 0 0 0-1.5 0v3.75c0 .414.336.75.75.75h3.75a.75.75 0 0 0 0-1.5z"/></svg>')}var t,i;s.isLoading()||(window.location.hash?("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):(t=document.body.scrollTop,i=document.body.scrollLeft,window.location.hash="",document.body.scrollTop=t,document.body.scrollLeft=i),s.replaceWith(I)):s.push(I));u.freeze(),a.trap(this.$modal.get(0)),this.$modal.addClass("opened"),this.created||this.createDOM(),this.$backdrop.addClass("opened"),m("body").addClass("bh-photo-modal-opened"),this.isWithReviews&&1100<this.$modal.width()&&this.$reviews.append(m("#reviewFloater")),this.isWithReviews&&this.updateReviewsPos(),this.$photoTags.length&&this.updatePhotoTagPosition(),this.opened=!0,this.buildGrid(),e.showGridLayout?(this.initMasonryGrid(),this.showLayout(j,e.photoId)):this.showLayout(N,e.photoId),l.emit(c.PhotoGrid.MODAL_OPENED);var n=v.b_hotel_id,r=[];b.getSessionValue(M)&&((r=JSON.parse(b.getSessionValue(M)||"{}"))instanceof Array||(r=[])),n&&-1===r.indexOf(n)&&(r.push(n),b.addSessionValue(M,JSON.stringify(r)),m.ajax({url:"/track_gallery_viewed_for_hotel_id",method:"POST",type:"JSON",data:{hotel_id:n}})),_r_()},updateReviewsPos:function(){_i_("269:817488cb"),L.log("[bh-photo-modal] updateReviewsPos called");var e=this.photos[this.currPos];if(e&&e.contains||"grid"==this.currentLayout)return this.$reviews.addClass("g-hidden"),_r_();var t=m(".bh-photo-modal-image-element img"),i=t.width();if(0<i){var n=m(".bh-photo-modal-image-element").width();n<i&&(i=n);var r,_=t.position(),o=this.$imageContainer.position(),a=this.$reviews.removeClass("g-hidden").outerWidth(),s=m(".bh-photo-modal-next"),l=s.position(),c=s.width(),d=o.top-10;this.isRtl?(r=_.left-a)<3*c/4&&(d+=10,r+=a):(r=_.left+i)+a>l.left+c/4&&(d+=10,r-=a),this.$reviews.css({top:d+"px",left:r+"px"})}else this.$reviews.addClass("g-hidden"),setTimeout(this.updateReviewsPos.bind(this),100);_r_()},setContainerSize:function(){_i_("269:971054eb");try{var e=this.$imageContainer.position(),t=this.$captionContainer.position().top-e.top-26;this.currentHeight&&t===this.currentHeight||(this.currentHeight=t,this.$imageContainer.css("height",t+"px"))}catch(e){}_r_()},setImgWidthRelated:function(){_i_("269:5fb90552");var t,i=this,n=this.$imageContainer.find(".js-img-width"),r=function(){_i_("269:c1a69a9b"),n.css("width",""),_r_()},e=function(){_i_("269:06dd3d6d");var e=t.width();if(e)return e<=(i.$imageContainer.find(".bh-photo-modal-image-element").width()||0)?n.css("width",e):r(),_r_(!0);return _r_(!1)};n.length&&(t=this.$imageContainer.find("img"),e()||(r(),t.on("load",e))),_r_()},closeModal:function(e,t){if(_i_("269:88c8a28f"),L.log("[bh-photo-modal] closeModal called"),!this.opened)return _r_();if(u.unfreeze(),!s.isLoading())if(window.history.state&&0<window.history.state.step)s.back(-1);else{var i=s.current;s.replaceWith(s.defaultView),s.push(i),s.back(-1)}e||(e={}),this.opened=!1,e.closeButtonClicked&&l.emit(c.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED),this.isWithReviews&&m("#reviewFloater").css({top:0,left:0}).appendTo(m(".hp-gallery-review")),this.$modal.removeClass("opened"),this.$backdrop.removeClass("opened"),m("body").removeClass("bh-photo-modal-opened"),l.emit(c.PhotoGrid.MODAL_CLOSED,this.currPos);var n=[],r=null;this.viewedPhotos=m(".bh-photo-modal-grid-image").map(function(){if(_i_("269:4e05fd59"),!m(this).hasClass("js-lazy-load-masonry-image")&&(r=String(m(this).data("id")),-1===n.indexOf(r)))return n.push(r),_r_(r);_r_()}).get(),l.emit(c.PhotoGrid.GRID_IMAGES_VIEWED,this.viewedPhotos),t&&t.stopPropagation?t.stopPropagation():e&&e.stopPropagation&&e.stopPropagation(),_r_()},registerModalTab:function(){_i_("269:33d4002b"),s.register(I,{load:function(){_i_("269:e688c7a5"),this.openModal({showGridLayout:!0}),this.setPos(0),_r_()}.bind(this),destroy:function(){_i_("269:9e99ea0f"),this.closeModal(),_r_()}.bind(this)}),_r_()},scrollToReserve:function(e){_i_("269:1ad0f29a"),L.log("[bh-photo-modal] scrollToReserve called"),this.closeModal();var t=m("#availability_target");if(0<t.length){var i=t.offset();m("html, body").animate({scrollTop:i.top-10},400)}l.emit(c.PhotoGrid.MODAL_RESERVE_CLICKED),_r_()},updatePhotosViewed:function(e){_i_("269:ed9521e7"),void 0!==typeof e&&-1===m.inArray(e,this.photosViewed)&&this.photosViewed.push(e),this.trackedPhotosViewed||this.photosViewed.length!==this.photos.length||(this.trackedPhotosViewed=!0,l.emit(B.hotel.Goals.Gallery.VIEW_ALL_PHOTOS),l.emit(c.PhotoGrid.MODAL_VIEW_ALL_PHOTOS)),_r_()},scrollToRoom:function(e){_i_("269:f20117a1"),L.log("[bh-photo-modal] scrollToRoom called");var t,i=this.photos[this.currPos],n=i.room_id,r=i.isGroupRecommendation||!1;if(!n&&i.associated_rooms&&i.associated_rooms.length&&(n=i.associated_rooms[0]),!n)return _r_();l.emit(c.PhotoGrid.USER_CLICKED_ON_GALLERY_ROOM_NAME,this.activePhotoId,this.currPos,n);var _=m(".hprt-table").find("> thead:not(.sticked-placeholder)").height()||30;if(r?(t=m(".hp-group_recommendation__title"),_=0):t=m('a[name^="RD'+n+'"]'),!t.length||!t.offset().top)return _r_();if(this.closeModal(),!r){var o=m("[name=RD"+n+"]").parents(".hprt-table-cell").first(),a="roomType--highlight hprt-table-cell-roomtype--active";m(".hprt-table").find(".hprt-table-cell.-first").removeClass(a).removeClass("roomType--highlight"),o.addClass(a)}m("html, body").animate({scrollTop:t.offset().top-_},1e3),_r_()},reserveClicked:function(e){_i_("269:df737ea2"),this.scrollToReserve(e),_r_()},sendPhotoId:function(e){_i_("269:58b97975"),L.log("[bh-photo-modal] sendPhotoId called");var t={hotel_id:v&&v.b_hotel_id,photo_id:this.activePhotoId};m.ajax({type:"post",dataType:"json",url:"/hotel_reserve_photo_log",data:t}),_r_()}}),_r_()}),function(){"use strict";_i_("269:9af6498e"),B.when({condition:!B.env.b_is_vacation_rental,action:"hotel",events:"ready"}).require(["jquery"],function(e){_i_("269:5f7450b9");var t=e(".reviews-floater-collapse"),i=e(".reviews-carousel-scroll"),n=!0;_i_("269:e18f8c39"),t.on("click",function(e){_i_("269:6b8c100f"),i.toggleClass("hide"),t.toggleClass("move-up").find(".bicon").removeClass("bicon-downchevron bicon-upchevron"),n?t.find(".bicon").addClass("bicon-downchevron"):t.find(".bicon").addClass("bicon-upchevron"),n=!n,_r_()}),_r_(),_r_()}),_r_()}(),B.when({events:"ready",condition:"hotel"===B.env.b_action&&B.env.fl_bhgwe_do_you_agree}).run(function(e){_i_("269:f43565c1");var t=e("jquery"),i=t("#bhgwe-feedback-loop"),n=i.data("fl-poll"),r=i.data("fl-property-type-ml"),_={poll:n,hotel_id:B.env.b_hotel_id,action:B.env.b_action,property_type_ml:r};i.on("click",".bhgwe-feedback-loop__button:not(.bhgwe-feedback-loop__button--submit)",function(e){_i_("269:846b99f7"),e.preventDefault(),e.stopPropagation(),function(e){_i_("269:366cc214");var t=e.data("fl-name");e.is("button")?_[t]=e.data("fl-value"):_[t]=e.val(),_r_()}(t(this)),t(".bhgwe-feedback-loop__button").attr("disabled","disabled"),t.ajax({url:"/receive_content_feedback",method:"post",data:_}),_i_("269:4cd7d6b7"),t("#bhgwe-feedback-loop").addClass("bui-u-hidden"),t(".bhgwe-feedback-loop__thank-you").removeClass("bui-u-hidden"),_r_(),_r_()}),_r_()}),B.define("watcher",function(e,t,i){"use strict";_i_("269:04598cf3");var u=e("jquery"),r=e("utils/throttled"),f=[],p=[];function n(t,e,i){_i_("269:fadcf08b");var n=f.filter(function(e){return _i_("269:d8f694c2"),_r_(e.el===t&&e.parent===i)})[0];if(!n)return _r_();var r=p.filter(function(e){return _i_("269:9d4e9b45"),_r_(e.el===i)})[0];if(e){var _=n.conditions.indexOf(e);n.conditions.splice(_,1),n.checks.splice(_,1),0===n.checks.length&&r.children.splice(r.children.indexOf(n),1)}else r.children.splice(r.children.indexOf(n),1);0===r.children.length&&(u(n.parent).off("resize scroll",r.handler),p.splice(p.indexOf(r),1)),_r_()}function _(_,t,o,a,s){_i_("269:2b491703");var l=u(_),c=u(t),d=s&&"function"==typeof s,h=t===window,e=function(){_i_("269:2391de69");var e=l.offset().top,t=l.innerHeight(),i={top:e,bottom:e+t,height:t},n=h?window.pageYOffset:c.offset().top,r=h?c.height():c.innerHeight();o(i,{top:n,bottom:n+r,height:r})?a(_):d&&s(_),_r_()},i=f.filter(function(e){return _i_("269:d8f694c21"),_r_(e.el===_&&e.parent===t)})[0];i?(i.conditions.push(o),i.checks.push(e)):(i={el:_,parent:t,conditions:[o],checks:[e]},f.push(i));var n=p.filter(function(e){return _i_("269:9d4e9b451"),_r_(e.el===t)})[0];n?n.children.push(i):(n={el:t,children:[i],handler:r(function(){_i_("269:3ef8b039"),n.children.forEach(function(e){_i_("269:fa0590ce"),e.checks.forEach(function(e){_i_("269:0af2e944"),e(),_r_()}),_r_()}),_r_()},150)},p.push(n),c.on("resize scroll",n.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("269:b78d60b6"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("269:74e6c26e"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("269:a70bfd92"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("269:08d1ea98"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)},isPartiallyInViewport:function(e,t){return _i_("269:43d0faf8"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top>=t.top&&e.top<=t.bottom||e.bottom>=t.top&&e.bottom<=t.bottom)}},unwatch:function(e,t,i){_i_("269:7ec0c4c1"),i=i instanceof u?i[0]:i||window,e instanceof u?e.each(function(){_i_("269:cdfeb4df"),n(this,t,i),_r_()}):n(e,t,i),_r_()},watch:function(n,r){return _i_("269:bed8bf4e"),_r_({when:function(i){return _i_("269:4a13cbc2"),r=r instanceof u?r[0]:r||window,_r_({then:function(e,t){if(_i_("269:c0457ca3"),n instanceof u)n.each(function(){_i_("269:d244cd94"),_(this,r,i,e,t),_r_()});else{if(!(n instanceof Node))throw new TypeError("invalid element provided to watcher");_(n,r,i,e,t)}_r_()}})}})}})}),B.define("component/bh/exposure-counter",function(e,t,i){_i_("269:45876f6a");var n=e("component"),r=e("et"),_=e("watcher"),o=e("browser-storage-handler"),a="bh_awareness_exposure_v2";function s(e){_i_("269:21306266");var t=JSON.parse(o.getPermanentValue(a)||"{}"),i=t.elements?t.elements:[];-1===i.indexOf(e.name)&&i.push(e.name),t.score=t.score?t.score+e.value:e.value,t.elements=i,o.addPermanentValue(a,JSON.stringify(t)),_r_()}function l(e){_i_("269:68b26508");var t=e.data("exposure-parent-selector");return _r_($(t).length?$(t):void 0)}function c(e){_i_("269:b7268411");var t=parseInt($(e).data("exposure-value"),10)||0,i=l($(e)),n=$(e).data("exposure-name");r.goalWithValue("js_bh_awareness_exposure",t),n&&s({name:n,value:t}),_.unwatch(e,null,i),_r_()}i.exports=n.extend({init:function(){_i_("269:fd78b1f0");var e=l(this.$el);_.watch(this.$el,e).when(_.conditions.isInViewport).then(c),_r_()},add:function(e,t){_i_("269:745ba71d"),s({name:e,value:t=parseInt(t,10)||0}),_r_()}}),_r_()}),function(e){if(_i_("269:2910c3e5"),!(e&&e.env&&e.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(e.env.b_guest_country)))return _r_();e.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:ca53bf28");var t=e("hotel/store"),i=$(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");if(!i.length)return _r_();t.subscribe(function(){_i_("269:1aaa719a");var e=t.getState().roomsTable.js_selection;if(!e.roomCount)return i.css({display:"none"}),_r_();i.css({display:"block"}),i.html(e.chargesText||""),_r_()}.bind(this)),_r_()}),_r_()}(booking),function(e){if(_i_("269:b441d8d2"),!(e&&e.env&&e.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(e.env.b_guest_country)))return _r_();e.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:ca53bf281");var t=e("hotel/store"),i=$(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");if(!i.length)return _r_();t.subscribe(function(){_i_("269:1aaa719a1");var e=t.getState().roomsTable.js_selection;if(!e.roomCount)return i.css({display:"none"}),_r_();i.css({display:"block"}),i.html(e.chargesText||""),_r_()}.bind(this)),_r_()}),_r_()}(booking),function(e){_i_("269:9113c6c2"),e.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:03483229");var t=e("hotel/store"),i=$("#earn-credit-placeholder");if(!i.length)return _r_();t.subscribe(function(){_i_("269:2620b65b");var e=t.getState().roomsTable.js_selection;if(!e.roomCount||""===e.earnCreditText)return i.css({display:"none"}),_r_();i.css({display:"block"}),i.html(e.earnCreditText||""),_r_()}.bind(this)),_r_()}),_r_()}(booking),booking.jstmpl("fe_js_genius_badge_summary_column",function(){_i_("269:cacf9f26");var n,r=['\n    <span\n        data-bui-component="Popover"\n        data-popover-content-id="hp-rt-summary-genius-benefit"\n        data-popover-position="end"\n    >\n        ',"22","genius/new_identity/genius_badge",'\n    </span>\n\n    <div id="hp-rt-summary-genius-benefit" class="bui-card bui-u-hidden">\n        <div class="bui-card__content">\n            ',"\n        </div>\n    </div>\n"],_=["fe_tooltip_text"];return _r_(function(e){_i_("269:85a283b8");var t="",i=this.fn;return t+=[r[0],(e.unshift({height:r[1],name:r[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[3],i.F.entities(i.MC(_[0])),r[4]].join(""),_r_(t)})}()),function(o){_i_("269:ab4f75c2"),o.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:866bf1e7");var t=e("hotel/store"),n=e("et"),r=$("#value-merchandising-badges-placeholder"),_={neutral:"bui-badge--neutral",outlined:"bui-badge--outline",primary:"bui-badge--brand-primary bui-badge--primary",constructive:"bui-badge--constructive",accent:"bui-badge--accent",callout:"bui-badge--callout",destructive:"bui-badge--destructive",genius_badge:"bui-badge--genius"};if(!r.length)return _r_();t.subscribe(function(){_i_("269:e9625274");var e=t.getState().roomsTable.js_selection;if(!e.roomCount||!e.benefits.length)return r.css({display:"none"}),_r_();r.css({display:e.benefits.length?"block":"none"});var i="";e.benefits.forEach(function(e){if(_i_("269:67fa97d7"),/genius/gim.test(e.b_id))i+=o.jstmpl("fe_js_genius_badge_summary_column").render({fe_tooltip_text:e.b_copy_alt});else{var t=Math.floor(1e4*Math.random())+100;i+='<span class="c-deals-container__badge-box c-deals-container__badge-box_inline" data-bui-component="Popover" data-popover-content-id="hp-rt-summary-benefit-'+t+'" data-popover-position="end"><span class="bui-badge '+_[e.b_variant]+'" data-bui-component="Badge"><span class="bui-badge__text">'+e.b_copy+'</span></span></span><div id="hp-rt-summary-benefit-'+t+'" class="bui-card bui-u-hidden"><div class="bui-card__content">'+e.b_copy_alt+"</div></div>"}_r_()}),r.html('<div class="hprt-table-cell__badge">'+i+"</div>"),window.BUI.initComponents(r.get(0)),n.initAttributesTracking(r),_r_()}.bind(this)),_r_()}),_r_()}(booking),B.define("component/askr",function(e,t,i){_i_("269:160f3ee4");var n=e("component"),y=e("jquery"),k=e("jstmpl"),_=e("browser-storage-handler"),o=[],C=null;i.exports=n.extend({init:function(){if(_i_("269:b6f3e16d"),_.getSessionValue("askr-viewed"))return _r_(!1);try{o=JSON.parse(_.getPermanentValue("askr-pass-srvs"))||[]}catch(e){o=[]}var t=this,e=this.$el;if(t.platform=e.data("platform")||"desktop",t.scope=e.data("scope")||"",t.action_name=e.data("action-name")||"",t.additional_params_str=e.data("additional-params")||"",t.additional_params={},"string"==typeof t.additional_params_str)for(var i=t.additional_params_str.split("||"),n=0;n<i.length;n++){var r=i[n].split("=");if(2!==r.length)continue;t.additional_params[r[0]]=r[1]}B.require("fragment").call("askr.surveys",{action:t.action_name,e_names:B.jset.r,pass_s:o,platform:t.platform}).then(function(e){if(_i_("269:a91cec8d"),!e||!e.length)return _r_();if(!(C=e[0]).survey_id)return _r_();t.title=C.name,t.description=C.description||"",t.agree_btn=B.jstmpl.translations("www_surveygizmo_intro_yes",null,{}),t.cancel_btn=B.jstmpl.translations("www_surveygizmo_intro_no",null,{}),t.resid="",t.invite_position=C.invite_position||"bottom",C.hasOwnProperty("is_fullscreen")?t.is_fullscreen=C.is_fullscreen?1:0:t.is_fullscreen=1,C.hasOwnProperty("is_async")?t.is_async=C.is_async?1:0:t.is_async=0,C.hasOwnProperty("show_delay_ms")?(t.show_delay_ms=parseInt(C.show_delay_ms),isNaN(t.show_delay_ms)&&(t.show_delay_ms=0)):t.show_delay_ms=0,t.is_async||t.runSurveyWithDelay(),_r_()}),_r_()},runSurveyWithDelay:function(){_i_("269:7fc870f0");var e=this;setTimeout(function(){_i_("269:2d830ef6"),e.runSurvey(),_r_()},e.show_delay_ms),_r_()},runSurvey:function(){_i_("269:1e39a339"),~o.indexOf(C.survey_id)||o.push(C.survey_id),_.addPermanentValue("askr-pass-srvs",JSON.stringify(o)),_.addSessionValue("askr-viewed",1);var M=this,w=this.$el,e=y(k("askr_invite").render({title:M.title,description:M.description,agree_btn:M.agree_btn,cancel_btn:M.cancel_btn,platform:M.platform,invite_position:"invite-position-"+M.invite_position}));w.append(e),e.on("click",".js-askr-cancel",function(){return _i_("269:cdbb7a7b"),e.addClass("askr-invite--hidden"),setTimeout(function(){_i_("269:4ac8c19e"),e.remove(),_r_()},200),_r_(!1)}),e.on("click",".js-askr-ok",function(){return _i_("269:563398d5"),e.remove(),function(){if(_i_("269:335a67ae"),!C)return _r_();var t=0,i=0,n=C.questions.length,r=null,_=null,o=null,e=!1,a=200,s=168;"mobile"===M.platform?(a=144,s=80):M.is_fullscreen?(a=200,s=168):(a=124,s=60);var l=y(k("askr_survey").render({title:M.title,platform:M.platform,qdata:C,is_fullscreen:M.is_fullscreen}));w.append(l);var c=l.height()-a,d=l.height()-s,h=l.find(".askr-survey__btn_up"),u=l.find(".askr-survey__btn_down");function f(){_i_("269:d01b07c5");var e=Math.min(Math.round(t/(n||1)*100),100);l.find(".askr-survey__progress-bar").css("width",e+"%"),l.find(".askr-survey__progress-value-current").text(t),l.find(".askr-survey__progress-value-max").text(n),0<t&&1!==n?h.removeClass("askr-survey__btn--disabled"):h.addClass("askr-survey__btn--disabled"),t<Math.min(i,n-1)?u.removeClass("askr-survey__btn--disabled"):u.addClass("askr-survey__btn--disabled"),n<=i&&y(".askr-survey__progress-box").fadeOut("fast",function(){_i_("269:cbf95bc2"),y(".askr-survey__complete-survey-box").fadeIn(),_r_()}),_r_()}function p(){_i_("269:adfea704"),r=null;var e=l.find('.askr-survey__questions[data-qid="'+o+'"] .askr-survey__radio-item:checked').prop("id"),t=l.find('label.askr-survey__radio-box[for="'+e+'"]');t.addClass("askr-survey__radio-box--selected-animator"),setTimeout(function(){_i_("269:e45ec3f1"),t.removeClass("askr-survey__radio-box--selected-animator"),_r_()},1100),_r_()}function b(){_i_("269:d7369ed2"),_=null,e||m(),_r_()}function m(){if(_i_("269:88f79294"),t++,f(),n<=t)return v(),_r_();l.find(".askr-survey__content").animate({top:-1*t*d},{duration:400,queue:!1}),_r_()}function v(){_i_("269:a238f013"),function(){_i_("269:86068569");var i={survey_id:C.survey_id,answers:[],details:M.additional_params};l.find(".askr-survey__radio-item:checked").each(function(){_i_("269:7c695d26");var e=y(this).val(),t={question_id:y(this).parents(".askr-survey__questions").data("qid"),answer_id:e};i.answers.push(t),_r_()}),B.require("fragment").call("askr.submit",i).then(function(e){}),_r_()}();var e=y('<div class="askr-survey__overlay"></div>'),t=y('<div class="askr-survey__thanks_text_box">'+B.jstmpl.translations("ppd_survey_oct18_price_clarity_cp_outro")+"</div>");e.append(t),l.append(e),e.fadeIn("fast"),setTimeout(function(){_i_("269:5500d015"),g(!1),_r_()},2e3),_r_()}function g(e){_i_("269:4462b329"),l.fadeOut("fast"),clearTimeout(r),clearTimeout(_),_=r=null,_r_()}l.find(".askr-survey__content-block").css({height:c}),l.on("click",".askr-survey__close",function(){_i_("269:02391282"),g(!0),_r_()}),l.on("click",".askr-survey__complete-btn",function(){_i_("269:a337750a"),v(),_r_()}),h.on("click",function(){if(_i_("269:cc49c740"),y(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,function(){if(_i_("269:cb320665"),!t)return _r_();t--,f(),l.find(".askr-survey__content").animate({top:-1*t*d},{duration:400,queue:!1}),_r_()}(),_r_()}),u.on("click",function(){if(_i_("269:b903c714"),y(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,m(),_r_()}),l.find(".askr-survey__radio-item").on("change",function(){if(_i_("269:ce24e425"),!this.checked)return _r_(!1);e=!1,i=Math.max(i,t+1),i=Math.min(i,n),(r||_)&&(clearTimeout(r),clearTimeout(_),_=r=null),r=setTimeout(p,1e3),_=setTimeout(b,2200),o=y(this).data("qid"),l.find("label.askr-survey__radio-box.askr-survey__radio-box--selected-animator").removeClass("askr-survey__radio-box--selected-animator"),_r_()}),f(),setTimeout(function(){_i_("269:be7f5121"),l.removeClass("askr-survey--hidden"),_r_()},10),_r_()}(),_r_(!1)}),setTimeout(function(){_i_("269:7bb82d6d"),e.removeClass("askr-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("askr_invite",function(){_i_("269:6982f1bd");var n=['\n    <div class="askr-invite askr-invite--hidden '," ",'">\n        <div class="askr-invite__title">','</div>\n        <div class="askr-invite__description">','</div>\n        <div class="askr-invite__buttons-wrapper">\n            <a class="askr-invite__button js-askr-cancel">\n                ','\n            </a>\n            <a class="askr-invite__button askr-invite__button--primary js-askr-ok">\n                ',"\n            </a>\n        </div>\n    </div>\n"],r=["platform","invite_position","title","description","cancel_btn","agree_btn"];return _r_(function(e){_i_("269:3e225dc2");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1],i.MC(r[1]),n[2],i.MC(r[2]),n[3],i.MC(r[3]),n[4],i.MC(r[4]),n[5],i.MC(r[5]),n[6]].join(""),_r_(t)})}()),booking.jstmpl("askr_survey",function(){_i_("269:0598f345");var u,f=['\n    <div class="askr-survey askr-survey--hidden '," askr-survey--fullscreen"," askr-survey--compact",'">\n        <div class="askr-survey__close">\n            ',"24","fonticon/aclose",'\n        </div>\n\n        <div class="askr-survey__top-shadow-overlayer"></div>\n\n        ','\n\n        <div class="askr-survey__content-wrapper">\n            <div class="askr-survey__content">\n                ',"\n                    ","\n\n                    ",'\n                        <div class="askr-survey__break">&nbsp;</div>\n                    ','\n\n                    <div class="askr-survey__content-block" data-qid="','">\n                        <div class="askr-survey__question-header">\n                            <div class="askr-survey__question-header-number">','</div>\n                            <div class="askr-survey__question-header-title">','</div>\n                        </div>\n\n                        <div class="askr-survey__break">&nbsp;</div>\n\n                        <div class="askr-survey__questions" data-qid="','">\n                            ',"\n\n                                    ","\n                                        ",'\n\n                                        <input type="radio"\n                                                class="askr-survey__radio-item"\n                                                name="radio-','"\n                                                id="radio-',"-",'"\n                                                value="','"\n                                                data-ex-hash="','"\n                                                data-g-num="','"\n                                                data-qid="','"\n                                        >\n\n                                        <label class="askr-survey__radio-box" for="radio-','">\n                                            <div class="askr-survey__radio-icon askr-survey__radio-unchecked">\n                                                ',"22","fonticon/checkempty",'\n                                            </div>\n\n                                            <div class="askr-survey__radio-icon askr-survey__radio-checked">\n                                                ',"fonticon/checkno2","\n                                            </div>\n                                            ","\n                                        </label>\n                                    ","\n                                ","\n                        </div>\n                    </div>\n                ",'\n            </div>\n        </div>\n\n        <div class="askr-survey__bottom-shadow-overlayer"></div>\n\n        <div class="askr-survey__footer">\n            <div class="askr-survey__btn askr-survey__btn_down">\n                <div class="askr-survey__btn-inner">\n                    ',"20","fonticon/downchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__btn askr-survey__btn_up askr-survey__btn--disabled">\n                <div class="askr-survey__btn-inner">\n                    ',"fonticon/upchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__progress-box">\n                <div class="askr-survey__progress-text-box">\n                    <div class="askr-survey__progress-label">',"/private/ppd_survey_oct18_price_clarity_progress/name",'</div>\n\n                    <div class="askr-survey__progress-value"><span class="askr-survey__progress-value-current">1</span>',"/private/ppd_survey_oct18_price_clarity_num_of_total/name",'<span class="askr-survey__progress-value-max">','</span></div>\n                </div>\n\n                <div class="askr-survey__progress">\n                    <div class="askr-survey__progress-bar"></div>\n                </div>\n            </div>\n\n            <div class="askr-survey__complete-survey-box">\n                <button class="bui-button bui-button--secondary bui-button--wide askr-survey__complete-btn" title="Complete survey">\n                    <span class="bui-button__text">\n                        ',"/private/ppd_survey_oct18_price_clarity_complete_cta/name","\n                    </span>\n                </button>\n            </div>\n        </div>\n    </div>\n"],p=["platform","is_fullscreen","qdata","fe_length","fe_answ_num"];return _r_(function(e){_i_("269:1811e76b");var t="",i=this.fn;t+=[f[0],i.MC(p[0])].join(""),i.MJ(i.MB(p[1]))?t+=f[1]:t+=f[2],t+=[f[3],(e.unshift({height:f[4],name:f[5],width:f[4]}),u=i.HELPER("icon",e[0]),e.shift(),u),f[6]].join(""),i.MN("fe_length",0),t+=f[7];var n=(i.MC(p[2])||{}).questions||[];e.unshift({fe_question:null});for(var r,_=1,o=n.length;_<=o;_++){e[0].fe_question=r=n[_-1],t+=f[8],i.MN("fe_length",i.MI(i.MB(p[3]))+i.MI(1)),t+=f[9],i.MJ(1==_)&&i.MJ(i.MB(p[1]))&&i.MJ(i.MB(p[0])+""=="desktop")&&(t+=f[10]),t+=[f[11],i.MG((r||{}).question_id),f[12],i.MC(p[3]),f[13],(r||{}).name,f[14],i.MG((r||{}).question_id),f[15]].join("");var a=i.MG((r||{}).type);if(i.MJ(a+""=="radio")){t+=f[16],i.MN("fe_answ_num",0),t+=f[16];var s=_,l=n,c=o,d=h;n=(r||{}).answers||[];e.unshift({fe_answer:null});var h;for(_=1,o=n.length;_<=o;_++)e[0].fe_answer=h=n[_-1],t+=f[17],i.MN("fe_answ_num",i.MI(i.MB(p[4]))+i.MI(1)),t+=[f[18],i.MG((r||{}).question_id),f[19],i.MG((r||{}).question_id),f[20],i.MB(p[4]),f[21],i.MG((h||{}).answer_id),f[22],i.MG(((h||{}).track_experiment_goal||{}).experiment_hash),f[23],i.MG(((h||{}).track_experiment_goal||{}).goal_number),f[24],i.MG((r||{}).question_id),f[25],i.MG((r||{}).question_id),f[20],i.MB(p[4]),f[26],(e.unshift({height:f[27],name:f[28],width:f[27]}),u=i.HELPER("icon",e[0]),e.shift(),u),f[29],(e.unshift({height:f[27],name:f[30],width:f[27]}),u=i.HELPER("icon",e[0]),e.shift(),u),f[31],i.MG((h||{}).name),f[32]].join("");e.shift(),_=s,n=l,o=c,h=d,t+=f[33]}t+=f[34]}return e.shift(),t+=[f[35],(e.unshift({height:f[36],name:f[37],width:f[36]}),u=i.HELPER("icon",e[0]),e.shift(),u),f[38],(e.unshift({height:f[36],name:f[39],width:f[36]}),u=i.HELPER("icon",e[0]),e.shift(),u),f[40],i.ME(f[41],i.MB,i.MN,null),f[42],i.ME(f[43],i.MB,i.MN,null),f[44],i.F.entities(i.MB(p[3])),f[45],i.ME(f[46],i.MB,i.MN,null),f[47]].join(""),_r_(t)})}()),B.define("component/deals-container",function(e,t,i){_i_("269:c388111f");var n=e("component"),r=e("event-emitter"),_=e("component/deals-container/events"),o=e("read-data-options");i.exports=n.extend({events:_,init:function(){_i_("269:47244380"),r.extend(this),this.options=o(this.$el,{deals:{name:"deals",type:String},dealsOther:{name:"deals-other",type:String},layout:{name:"layout",type:String},noTooltips:{name:"no-tooltips",type:String},useDrawer:{name:"use-drawer",type:String},preventPropagation:{name:"prevent-propagation",type:String}});try{this.options.deals=JSON.parse(this.options.deals),this.options.dealsOther=JSON.parse(this.options.dealsOther)}catch(e){}this.options.preventPropagation&&"1"===this.options.preventPropagation&&this.$el.on("click",function(e){_i_("269:b054e319"),e.stopPropagation(),_r_()}),_r_()}}),_r_()}),B.define("component/deals-container/events",function(e,t,i){"use strict";_i_("269:6e08fe08"),i.exports={CTA_CLICKED:"CTA_CLICKED"},_r_()}),B.define("component/earn-credits",function(e,t,i){_i_("269:caf818ba");var n=e("component"),r=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:7e9a19e5"),this.options=r(this.$el,{preventPropagation:{name:"prevent-propagation",type:String}});try{this.options.deals=JSON.parse(this.options.deals)}catch(e){}this.options.preventPropagation&&"1"===this.options.preventPropagation&&this.$el.on("click",function(e){_i_("269:b054e3191"),e.stopPropagation(),_r_()}),_r_()}}),_r_()}),function(){_i_("269:7cca96af");var e=B.require("jquery");function t(){_i_("269:17a47039"),B.require("lightbox").show(e("#revc_write_a_review_login_intro"),{trapFocus:!0}),_r_()}B.when({action:"index"}).run(function(){_i_("269:4ea1e69b"),e(".js_write_a_review_index_navbar").on("click.revc_write_a_review",function(e){_i_("269:948df37a"),0==B.env.auth_level&&(e.preventDefault(),t()),_r_()}),_r_()}),B.when({action:"reviews"}).run(function(){_i_("269:f1556f25"),e(".js_write_a_review_reviews_header").on("click.revc_write_a_review",function(e){_i_("269:948df37a1"),0==B.env.auth_level&&(e.preventDefault(),t()),_r_()}),_r_()}),_r_()}(),B.when({action:"hotel"}).run(function(e){_i_("269:33e3e36d");var _=e("jquery"),o=e("hotel/reviews"),a=e("hotel/review-list"),t=e("with-capla"),s="review_list_page_container";({topicInput:"[data-js-review-topic]",placeholder:"#"+s,separatedFilters:".topic-filters--separated",reviewBlock:"#guest-featured_reviews__horizontal-block",hasReviewBlock:0<_("#guest-featured_reviews__horizontal-block").length,topics:[],topicReviewsCta:"#hp_read_topic_reviews_cta",init:function(){_i_("269:a7079cb0"),this.matchTopicsWithState(),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:3accd625");var e=this;t("property-web","property-page",function(e){_i_("269:0d25cec4"),e.eventBus.subscribe("CAPLA_EVENT_property-web-property-page_TOPIC_SELECTED",function(e,t){_i_("269:c5f68e2d"),a.scrollToPlaceholderOnce=!0,a.isInit||(a.isInit=!0),o.load({topics:[t],offset:0}),B.events.trigger("open-tab",{tab:"reviews"}),_r_()}),_r_()})(),_(this.placeholder).on("change",this.topicInput,this.handleChange.bind(this)),_(this.reviewBlock).on("change",this.topicInput,this.handleChange.bind(this)),this.hasReviewBlock&&B.events.on("sliding-panel/hp-reviews-sliding/on:hide",function(){_i_("269:2b1ebce6"),_(e.reviewBlock+" input[type=checkbox]").prop("checked",!1),e.topics=[];t("property-web","property-page",function(e){_i_("269:be9bb4ff"),e.eventBus.publish("CAPLA_EVENT_property-web-property-page_TOPIC_DESELECTED"),_r_()})(),_r_()}),o.on(o.events.LOAD_AFTER,this.handleLoadAfter.bind(this)),_r_()},handleChange:function(e){_i_("269:348fe18b"),e&&e.preventDefault();var t=this.placeholder;if(B.env.fe_hotel_review_topics){if(e.delegateTarget.id===s){var i=_(this.reviewBlock).find("input[data-category-id="+_(e.target).data("category-id")+"]");i.length&&_(i).prop("checked",e.target.checked)}if(e.delegateTarget.id===this.reviewBlock.slice(1)){t=this.reviewBlock;var n=_(this.placeholder).find("input[data-category-id="+_(e.target).data("category-id")+"]");n.length&&_(n).prop("checked",e.target.checked)}}var r=[];t+=" "+this.topicInput,_(t).filter(":checked").each(function(e,t){_i_("269:0afcb5ed");var i=_(t).data("category-id")||!1;if(!i)return _r_(!0);r.push(String(i)),_r_()}),this.topics=r,e.delegateTarget.id===this.reviewBlock.slice(1)?(a.scrollToPlaceholderOnce=!0,a.isInit||(a.isInit=!0),o.load({topics:r,offset:0}),B.events.trigger("open-tab",{tab:"reviews"})):o.load({topics:r,offset:0}),a.$e.trigger(a.events.FILTER_CHANGED,[{name:"topics",values:r}]),_r_()},handleLoadAfter:function(e,t){_i_("269:3227245d"),_(this.separatedFilters).length?t&&t.fromScroll||this.renderFilters():this.matchTopicsWithState(),_r_()},matchTopicsWithState:function(){_i_("269:7dfe26d2");var r=o.getState().topics,e=B.env.fe_hotel_review_topics?this.placeholder+" "+this.topicInput:this.topicInput;_(e).map(function(e,t){_i_("269:691d04d9");var i=String(_(t).data("category-id")),n=!!(-1<r.indexOf(i));_(t).prop("checked",n),_r_()}),_r_()},renderFilters:function(){_i_("269:539650e5");var e=_(this.placeholder).find(_(this.separatedFilters).data("placementTarget"));e.find(this.separatedFilters).remove(),e.append(_(this.separatedFilters).removeClass("g-hidden")),_r_()}}).init(),_r_()}),B.define("text-highlight",function(e,v,t){_i_("269:e1850b9f");var g=window.jQuery,M={find:"",className:"t-highlight",tagName:"span",caseSensitive:!1},w=document.body.textContent?"textContent":"innerText";v.clear=function(e){_i_("269:9913b459");var t=g(e);t.html(t.data("highlight-cache")),_r_()},v.highlight=function(e,t){_i_("269:730383a8");var i=g.extend(M,t),n=g(e);if(g.trim(i.find).length<1)return _r_(!1);n.data("highlight-cache")||n.data("highlight-cache",n.html()),v.clear(n);var r,_,o,a,s=document.createTreeWalker(n.get(0),NodeFilter.SHOW_TEXT,null,!1);i.find&&"function"==typeof i.find.exec&&(i.find=i.find.toString().replace(/^\//,"").replace(/\/\w*$/,""));for(var l="g"+(i.caseSensitive?"":"i"),c=new RegExp("("+i.find+")",l),d=new RegExp(i.find,l),h=[];r=s.nextNode();)(_=r.nodeValue.match(c))&&h.push([r,_]);for(var u=0,f=h.length;u<f;u++){r=h[u][0],_=h[u][1],o=r.nodeValue.split(d),a=document.createDocumentFragment();for(var p=0,b=o.length;p<b;p++)if(o[p].length&&a.appendChild(document.createTextNode(o[p])),p<b-1){var m=document.createElement("span");m.className=i.className,m[w]=_[p],a.appendChild(m)}r.parentNode.replaceChild(a,r)}_r_()},_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:5988278e");var n=e("jquery"),r=e("hotel/reviews"),i=e("text-highlight"),t="#review_search_filter",_="bui-u-hidden";({placeholder:"#blockdisplay4",reviewSearchButton:t+" .review-search-button",reviewSearchInput:t+" .review-search-text",reviewSearchRemove:" .review-remove-search-js",pageLinks:".c-pagination .bui-pagination__item a",topicInputs:"[data-js-review-topic]",reviewlistContainer:"#review_list_page_container",init:function(){_i_("269:f89c1232"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:ca546440"),n(this.placeholder).on("click",this.reviewSearchButton,n.proxy(this.handleSearch,this)),n(this.placeholder).on("keyup",this.reviewSearchInput,n.proxy(this.handleKeyup,this)),n(this.placeholder).on("click",this.reviewSearchRemove,n.proxy(this.handleRemove,this)),r.on(r.events.LOAD_AFTER,n.proxy(this.handleLoadAfter,this)),_r_()},handleSearch:function(e){_i_("269:783a7cab");var t=n(this.placeholder).find(this.reviewSearchInput).val(),i={text:(t=t?t.trim():"").trim(),offset:0};r.load(i),_r_()},handleKeyup:function(e){_i_("269:31e07482"),13==e.keyCode&&this.handleSearch(e),_r_()},handleRemove:function(e){_i_("269:f4e94044"),n(this.placeholder).find(this.reviewSearchInput).val(""),r.load({text:"",offset:0}),_r_()},handleLoadAfter:function(){_i_("269:bc4d3cff"),this.matchUiWithState(),_r_()},matchUiWithState:function(){_i_("269:746f056b");var e=r.getState().text,t=n(this.placeholder);e?(t.find(this.reviewSearchInput).val(e),t.find(this.reviewSearchRemove).removeClass(_),this.highlightReviewTexts()):t.find(this.reviewSearchRemove).addClass(_),_r_()},highlightReviewTexts:function(){_i_("269:f13b0374");var e=n(this.reviewlistContainer),t=e.find('input[name="highlight_text"]');0<t.size()&&e.find(".c-review__body").each(function(){_i_("269:653a2af9"),i.highlight(this,{find:t.first().val(),className:"review-search-highlight"}),_r_()}),_r_()}}).init(),_r_()}),B.define("component/dismissible-item/cookie-block",function(e,t,i){_i_("269:55fc2505");var n=e("component"),r=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:f063afbd"),this.options=r(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),$.cookie(this.options.itemId)?this.hide():this.show(),this.$el.delegate(".js-close","click",function(){_i_("269:5fb0e4551"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){_i_("269:76e3dd13"),$.cookie(this.options.itemId,!0),_r_()},show:function(){_i_("269:5a0d742c"),this.$el.show(),_r_()},hide:function(){_i_("269:bd0194ab"),this.$el.remove(),_r_()}}),_r_()}),B.when({events:"load",action:"hotel"}).run(function(e){_i_("269:e50aa736");var o=e("jquery");if(!B.env.b_room_group||!B.env.b_room_group.length)return _r_();var n=o("#roomsForm"),r=e("utils/deepequal");n.on("submit",function(){_i_("269:40c36756"),function(){_i_("269:922f4750");var _={},e={};n.find(".b_room_selectbox").each(function(e,t){_i_("269:39a0c8d4");var i=o(t),n=parseInt(i.val()),r=i.data("block-id");0<n&&(_[r]={block_id:r,count:n}),_r_()});for(var t=0;t<B.env.b_room_group.length;t++){var i=B.env.b_room_group[t];e[i.block_id]=i}return _r_(r(_,e))}()&&n.append('<input type="hidden" name="is_group_recommendation_from_rt" value="1">'),_r_()}),_r_()}),B.when({condition:$(".rt_see_bed_policies--link").length}).run(function(e){_i_("269:739bade9");var t=e("jquery"),i=t("#smp_children_policy");if(!i.length)return _r_();t(".rt_see_bed_policies--link").on("click",function(e){_i_("269:c67a0056");t("html, body").animate({scrollTop:i.offset().top},500),e.preventDefault(),_r_()}),_r_()}),B.define("crosstab",function(e,t,i){_i_("269:e235a043");var r,n=e("event-emitter"),_=o();function o(){return _i_("269:9200abb5"),_r_("ct_"+Math.random().toString(36).substr(2,9))}function a(){_i_("269:067050b1"),n.extend(this),this._emit=this.emit,this.emit=this.emitStorageEvent,_r_()}(function(e){_i_("269:04571d85");try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),_r_(!0)}catch(e){return _r_(!1)}_r_()})("localStorage")&&(r=window.localStorage),a.prototype.receive=function(e){var t;if(_i_("269:b21458e3"),!e.newValue||!e.key)return _r_();if(0===e.key.indexOf("cst-")){if((t=JSON.parse(e.newValue)).tabId===_)return _r_();this._emit(t.event,t)}_r_()},a.prototype.emitStorageEvent=function(e,t){if(_i_("269:dba7b0f0"),!r)return _r_();var i=o(),n={event:e,payload:t=t||{},eventId:i,tabId:_};try{r.setItem("cst-"+i,JSON.stringify(n))}catch(e){if("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"NS_ERROR_FILE_NO_DEVICE_SPACE"===e.name)return _r_();booking.reportError(e,"local storage crosstab")}window.setTimeout(function(){_i_("269:fb1212ba"),r.removeItem("cst-"+i),_r_()},10),_r_()};var s=new a;r&&window.addEventListener("storage",s.receive.bind(s)),i.exports=s,_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:25f5dba4");var _=e("jquery"),t=e("events"),o=_(".best-ugc-highlight-by-photo, .gallery-side-review-wrapper__ugc-highlights-container, .gallery-side-review-wrapper__ugc-highlight-by-photo"),a=_(".gallery-side-reviews-wrapper__side");function i(e,t){if(_i_("269:52b06271"),!e)return _r_();if(_i_("269:7bbe5a97"),_r_(a.is(":visible"))){var i=a.find(".best-ugc-highlight-by-photo:visible"),n=a.find(".best-ugc-highlight-by-photo[data-photo-id="+e+"]");if(!i.length&&n.length,i&&i.length&&!n.length&&i.finish().slideUp(),!i.length&&n&&n.length&&n.slideDown(),i&&i.length&&n&&n.length){var r=i.find("strong").text()==n.find("strong").text()?0:200;i.finish().fadeOut(r,function(){_i_("269:8b556240"),n.fadeIn(r),_r_()})}_(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id="+e+"]").length&&_(".gallery-side-review-wrapper__ugc-highlights-container").show()}else o.hide(),_(".best-ugc-highlight-by-photo[data-photo-id="+e+"]").css("display","table"),_(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id="+e+"]").show();_r_()}B.hotel.Gallery.slick&&B.hotel.Gallery.slick.$slides&&i(B.hotel.Gallery.slick.$slides.first().data("photoid"));t.on(B.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,function(e){if(_i_("269:c2b73336"),e&&e.length){var t=e[2].data("photoid");e[1].currentSlide;i(t)}_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(e){_i_("269:8eff2a0a"),B.hotel.Gallery.slick&&B.hotel.Gallery.slick.pause(),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,function(e){_i_("269:2d0d3fe9"),B.hotel.Gallery.slick||(_(".best-ugc-highlight-by-photo").hide(),_(".gallery-side-review-wrapper__ugc-highlights-container").hide(),_(".gallery-side-review-wrapper__ugc-highlight-by-photo").hide()),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:1212b86f"),e&&e.modal){var t=e.modal.activePhotoId;e.modal.currPos;i(t),B.hotel.Gallery.slick&&B.hotel.Gallery.slick.pause()}_r_()}),_r_()}),booking.jstmpl("acid_carousel",function(){_i_("269:f74da1d5");var d,h=["\n","","/private/help_preferred_property_plural/name","preferred_info_sign","Tooltip","top","iconset/info_sign","medium","/private/m_sxp_sr_carousel_based_on_previously_viewed/name","/private/m_sxp_sr_carousel_centre_and_breakfast/name",'<div class="bui-banner bui-u-bleed@small" data-bui-component="Banner"><div class="bui-banner__content">','<a class="bui-banner__title_a" href="','" target="_blank"><h1 class="bui-banner__title">',"</h1><span>","/private/d_sxp_sr_property_carousel_cta_show_more/name","/private/sxp_sh_carousel_cta_show_all/name","</span></a>",'<h1 class="bui-banner__title">',"</h1>",'<div role="region" aria-label="','" class="bui-carousel bui-carousel--',' bui-u-bleed@small" data-bui-component="Carousel"><ul class="bui-carousel__inner" data-bui-ref="carousel-container">','<li class="bui-carousel__item" data-bui-ref="carousel-item"><a href="','" target="_blank" class="bui-card bui-card--media bui-card--transparent ',"bui-f-depth-1",'"><div class="bui-card__image-container"><img class="bui-card__image" src="','"></div><div class="bui-card__content">',"/genius_perks/10/name","experiments/discount_benefit","large","/genius_perks/7/name","experiments/free_breakfast_benefit","/genius_perks/11/name","experiments/room_upgrade_benefit",'<h1 class="bui-card__title">','</h1><p class="bui-card__subtitle c-acid-carousel__review-score">',"acid_preferred_thumb","16","iconset/thumbs_up_square","&nbsp;","</p>","\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n","\n\n\n\n\n\n","1","\n    \n    \n    \n\n    ","\n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    ","\n    ","\n\n    ","/private/{copy}/name","<b>","</b>",'<p class="bui-card__subtitle c-acid-carousel__price">',"/private/sxp_acid_carousels_starting_price/name",'<p class="bui-card__subtitle c-acid-carousel__price c-acid-carousel__price--unavailable">',"/private/sxp_sh_carousel_unavailable/name",'<p class="bui-card__subtitle c-acid-carousel__last-viewed">','<p class="bui-card__subtitle c-acid-carousel__acid-price-subtitle">',"/private/genius_ml_acid_price/name",'&nbsp;<br><span class="c-acid-carousel__acid-price">',"</span></p>","</div></a></li>",'<li class="bui-carousel__item bui-card__see-all" data-bui-ref="carousel-item"><a href="','" target="_blank" class="','">',"iconset/arrow_right","larger","<span>","</span></a></li>",'</ul><div class="bui-carousel__nav"><button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="">',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'</button><button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="">',"bui-carousel__next","iconset/navarrow_right","</button></div></div>",'<a class="c-acid-carousel__show-all-bottom" href="','" target="_blank"><button class="bui-button bui-button--primary" type="button"><span class="bui-button__text">',"</span></button></a>","</div>",'<button type="button" class="bui-banner__close" data-bui-ref="banner-close">',"streamline/close","24","</button>"],u=["help_preferred_property_plural","fe_carousel_header","title","type","show_more_url","show_all_url","show_more_bottom","size","hotels","b_url","with_shadow","b_photo_url","fe_genius_discount_copy","b_genius_discount","fe_genius_free_breakfast_copy","b_genius_free_breakfast","fe_genius_room_upgrade_copy","b_genius_free_room_upgrade","b_name","b_review_score","b_review_title","variant","copy","tooltip","class","height","reset_css","white_dot","image_height","fe_price","b_price","no_dates","b_last_booked","b_last_viewed","closeable"];return _r_(function(r){_i_("269:74af55c6");var e="",_=this.fn;function t(e){_i_("269:1128bd80"),e+=h[45];var t,i={class:_.MB(u[24])||"",copy:_.MB(u[22]),height:_.MB(u[25]),reset_css:_.MB(u[26]),size:h[29],variant:_.MB(u[21])&&_.MJ(_.MB(u[21])+""=="greyscale")?"badge_greyscale":"badge"},n=r;return(r=_.SV([{},{}])).unshift(i),t=e,_i_("269:2cd1f8ba"),t+=h[46],_.MN("variant",_.MB(u[21])||"logo"),t+=h[47],_.MN("copy",_.MB(u[22])||"www_ge_screenreader_generic_logo"),t+=h[47],_.MN("tooltip",_.MB(u[23])||""),t+=h[47],_.MN("class",_.MB(u[24])||""),t+=h[47],_.MN("size",_.MB(u[7])||"large"),t+=h[48],_.MN("b_companyname","Booking.com"),t+=h[48],_.MN("image_height",_.MJ(/^\d+$/.test(_.MB(u[25])))?_.MB(u[25]):_.MJ(_.MB(u[7])+""=="smaller")?12:_.MJ(_.MB(u[7])+""=="small")?14:_.MJ(_.MB(u[7])+""=="medium")?16:_.MJ(_.MB(u[7])+""=="large")?20:_.MJ(_.MB(u[7])+""=="larger")?24:_.MJ(_.MB(u[7])+""=="largest")?32:""),t+=h[48],_.MN(u[2],_.ME(h[49],_.MB,_.MN,null)),t+=[h[47],(r.unshift({class:(_.MB(u[26])?"":"genius-"+_.MB(u[21]))+(_.MB(u[27])?" genius-logo_inverted--white-dot":"")+" "+_.MB(u[24]),height:_.MB(u[28]),name:"genius/new_identity/genius_"+_.MB(u[21]),title:_.MB(u[2])}),d=_.HELPER("icon",r[0]),r.shift(),d),h[0]].join(""),e=_r_(t),r=_.SV(n),e+=h[0],_r_(e)}function i(e){var t,i,n;return _i_("269:003c866e"),t=e,_i_("269:1b54f0af"),t+=h[41],t+=h[42],t+=h[42],t+=h[42],t+=h[0],e=_r_(t),e+=h[0],i=e,_i_("269:d2144b9a"),i+=h[43],i+=h[0],e=_r_(i),e+=h[0],n=e,_i_("269:1b37481b"),n+=h[42],n+=h[0],e=_r_(n),e+=h[0],_r_(e)}e+=h[0],e+=h[1],_.MN(u[0],_.ME(h[2],_.MB,_.MN,null)),e+=h[1];var n="";n+=h[1],_.MJ(_.MB(u[2]))&&_.MJ(22==_.MB(u[3]))?n+=[h[1],_.F.entities(_.MC(u[2])),h[1],(r.unshift({class:h[3],color:"#6B6B6B","data-bui-component":h[4],"data-tooltip-position":h[5],name:h[6],size:h[7],title:_.MB(u[0])}),d=_.HELPER("icon",r[0]),r.shift(),d),h[1]].join(""):_.MD(u[2])?n+=[h[1],_.F.entities(_.MC(u[2])),h[1]].join(""):_.MJ(4==_.MB(u[3]))?n+=[h[1],_.ME(h[8],_.MB,_.MN,null),h[1]].join(""):n+=[h[1],_.ME(h[9],_.MB,_.MN,null),h[1]].join(""),n+=h[1],_.MN(u[1],n),e+=h[10],_.MK(_.MB(u[6]))&&(_.MJ(_.MB(u[4]))||_.MJ(_.MB(u[5])))?(e+=[h[11],_.F.entities(_.MC(u[4])?_.MC(u[4]):_.MC(u[5])),h[12],_.MC(u[1]),h[13]].join(""),_.MD(u[4])?e+=[h[1],_.ME(h[14],_.MB,_.MN,null),h[1]].join(""):e+=[h[1],_.ME(h[15],_.MB,_.MN,null),h[1]].join(""),e+=h[16]):e+=[h[17],_.MC(u[1]),h[18]].join(""),e+=[h[19],_.F.html(_.MC(u[1])),h[20],_.F.entities(_.MC(u[7])),h[21]].join("");var o=_.MC(u[8])||[];r.unshift(null);for(var a=1,s=o.length;a<=s;a++){if(r[0]=o[a-1],e+=[h[22],_.F.entities(_.MC(u[9])),h[23]].join(""),_.MD(u[10])&&(e+=h[24]),e+=[h[25],_.STATIC_HOSTNAME(_.MC(u[11]),0,0,0,0),h[26]].join(""),_.MJ(10==_.MB(u[3]))&&(e+=h[1],_.MD(u[13])&&(e+=h[1],_.MN(u[12],_.ME(h[27],_.MB,_.MN,null)),e+=[h[1],(r.unshift({"data-bui-component":h[4],"data-tooltip-position":h[5],name:h[28],size:h[29],title:_.MB(u[12])}),d=_.HELPER("icon",r[0]),r.shift(),d),h[1]].join("")),e+=h[1],_.MD(u[15])&&(e+=h[1],_.MN(u[14],_.ME(h[30],_.MB,_.MN,null)),e+=[h[1],(r.unshift({"data-bui-component":h[4],"data-tooltip-position":h[5],name:h[31],size:h[29],title:_.MB(u[14])}),d=_.HELPER("icon",r[0]),r.shift(),d),h[1]].join("")),e+=h[1],_.MD(u[17])&&(e+=h[1],_.MN(u[16],_.ME(h[32],_.MB,_.MN,null)),e+=[h[1],(r.unshift({"data-bui-component":h[4],"data-tooltip-position":h[5],name:h[33],size:h[29],title:_.MB(u[16])}),d=_.HELPER("icon",r[0]),r.shift(),d),h[1]].join("")),e+=h[1]),e+=[h[34],_.F.entities(_.MC(u[18])),h[35]].join(""),_.MJ(22==_.MB(u[3]))&&(e+=[h[1],(r.unshift({class:h[36],color:"#FEBB02",height:h[37],name:h[38],width:h[37]}),d=_.HELPER("icon",r[0]),r.shift(),d),h[1]].join("")),e+=[h[1],_.F.entities(_.MC(u[19])?_.MC(u[19]):""),h[39],_.F.entities(_.MC(u[20])),h[40]].join(""),_.MJ(_.MC(u[13]))||_.MJ(_.MC(u[15]))||_.MJ(_.MC(u[17]))){e+=h[1],r.unshift({jstmpl:h[44]}),e=i(e),r.shift(),e+=h[1];var l={size:h[29]},c=r;(r=_.SV([{},{}])).unshift(l),e=t(e),r=_.SV(c),e+=h[1]}e+=h[1],(_.MJ(4==_.MB(u[3]))||_.MJ(6==_.MB(u[3]))||_.MJ(19==_.MB(u[3]))||_.MJ(15==_.MB(u[3]))||_.MJ(22==_.MB(u[3])))&&(e+=h[1],_.MD(u[31])||(e+=h[1],_.MD(u[30])?(e+=h[1],_.MN(u[29],[h[50],_.F.entities(_.MC(u[30])),h[51]].join("")),e+=[h[52],(r.unshift({price:_.MB(u[29])}),d=_.ME(h[53],_.MB,_.MN,null),r.shift(),d),h[40]].join("")):e+=[h[54],_.ME(h[55],_.MB,_.MN,null),h[40]].join(""),e+=h[1]),e+=h[1],_.MJ(6==_.MB(u[3]))&&(e+=h[1],_.MJ(_.MB(u[32]))?e+=[h[56],_.MC(u[32]),h[40]].join(""):_.MJ(_.MB(u[33]))&&(e+=[h[56],_.MC(u[33]),h[40]].join("")),e+=h[1]),e+=h[1]),e+=h[1],_.MJ(10==_.MB(u[3]))&&(e+=[h[57],_.ME(h[58],_.MB,_.MN,null),h[59],_.F.entities(_.MC(u[30])),h[60]].join("")),e+=h[61]}return r.shift(),e+=h[1],(_.MJ(_.MB(u[4]))||_.MJ(_.MB(u[5])))&&(e+=[h[62],_.F.entities(_.MC(u[4])?_.MC(u[4]):_.MC(u[5])),h[63]].join(""),_.MD(u[10])&&(e+=h[24]),e+=[h[64],(r.unshift({color:"#0071C2",name:h[65],size:h[66]}),d=_.HELPER("icon",r[0]),r.shift(),d),h[67]].join(""),_.MD(u[4])?e+=[h[1],_.ME(h[14],_.MB,_.MN,null),h[1]].join(""):e+=[h[1],_.ME(h[15],_.MB,_.MN,null),h[1]].join(""),e+=h[68]),e+=[h[69],(r.unshift({class:h[70],name:h[71],role:h[72],width:h[73]}),d=_.HELPER("icon",r[0]),r.shift(),d),h[74],(r.unshift({class:h[75],name:h[76],role:h[72],width:h[73]}),d=_.HELPER("icon",r[0]),r.shift(),d),h[77]].join(""),_.MJ(_.MB(u[6]))&&(_.MJ(_.MB(u[4]))||_.MJ(_.MB(u[5])))&&(e+=[h[78],_.F.entities(_.MC(u[4])?_.MC(u[4]):_.MC(u[5])),h[79]].join(""),_.MD(u[4])?e+=[h[1],_.ME(h[14],_.MB,_.MN,null),h[1]].join(""):e+=[h[1],_.ME(h[15],_.MB,_.MN,null),h[1]].join(""),e+=h[80]),e+=h[81],_.MD(u[34])&&(e+=[h[82],(r.unshift({class:h[1],name:h[83],width:h[84]}),d=_.HELPER("icon",r[0]),r.shift(),d),h[85]].join("")),e+=h[81],e+=h[0],_r_(e)})}()),B.define("component/acid-carousel",function(t,e,i){_i_("269:8529209e");var n=t("component"),h=t("utils/throttled"),r=t("server-data"),u=t("jquery"),_=t("jstmpl"),f=t("et"),o=t("search-config"),a=r.b_ufi,s=r.b_checkin_date,l=r.b_checkout_date,c=r.b_selected_currency||r.b_derived_currency,d=r.b_dest_id,p=r.b_dest_type,b=n.extend({init:function(){_i_("269:d6a3572e"),this.filterAggregates=this.$el.get(0).getAttribute("data-fa"),this.type=+this.$el.data("type"),this.version=+this.$el.data("version"),this.forBusiness=this.$el.data("business"),this.withShadow=this.$el.data("shadow"),this.optional=this.$el.data("optional"),this.persistent=this.$el.data("persistent"),this.closeable=this.$el.data("closeable"),this.dismissible=this.$el.data("dismissible"),this.showMoreBottom=this.$el.data("show-more-bottom"),this.noDates=this.$el.data("no-dates"),this.size=this.$el.data("size"),this.nflt=this.$el.data("nflt"),4===this.type||15===this.type||22===this.type?this.loadOnDemand():this.load(),_r_()},load:function(){if(_i_("269:8932b362"),this.loaded)return _r_();this.loaded=!0,u.post("/acid_carousel",{ufi:a,checkin:s,checkout:l,nr_rooms_needed:o.rooms?o.rooms.length:1,adults_total:o.adults,children_total:o.children,children_ages_total:o.childrenAges&&o.childrenAges.join(","),filter_aggregates:this.filterAggregates,currency:c,sb_travel_purpose:this.forBusiness?"business":"leisure",version:this.version,carousel_type:this.type,optional:this.optional,filters:this.nflt}).then(function(e){_i_("269:58c78e2b"),this._typeSpecificLogicBefore(e),this._initComponents(e),this._initOnViewTracking(e),this._addEventListeners(),this._typeSpecificLogicAfter(e),_r_()}.bind(this)).fail(function(){}),_r_()},loadOnDemand:function(){var t;_i_("269:4ed5256f");var e=this.$el.offset();if(e&&e.top){var i=Math.round(e.top/2),n=u(window);n.on("scroll",t=h(function(){_i_("269:0ed9d315");var e=n.scrollTop();i<e&&(this.load(),n.off("scroll",t)),_r_()}.bind(this),100)),t()}_r_()},_addEventListeners:function(){if(_i_("269:cb102375"),"searchresuts"===r.b_action){var e=t("searchresults/events");e.on(e.UI_RESULTS_UPDATED,function(){_i_("269:7c663376"),!this._isPersistent()&&this.$el.remove(),_r_()}.bind(this))}this.dismissible&&this.$el.find(".bui-banner__close").on("click",function(){_i_("269:031ac221"),u.post("/dismissed_carousel",{carousel_type:this.type,dest_id:d,dest_type:p}),_r_()}.bind(this)),_r_()},_initOnViewTracking:function(i){if(_i_("269:d82449de"),(i=i||{}).b_has_data&&i.h){var n=this.$el.offset().top;if(!n)return _r_();var r,_=8,o=9;6===this.type&&(_=2,o=3);var a=u(window),s=Math.round(n/2),l=!1,c=!1,d=this.type;a.on("scroll",r=h(function(){_i_("269:ad0d6768");var e=a.scrollTop(),t=a.height();!l&&s<e&&(f.stage(i.h,_),l=!0),!c&&n<e+50+t&&(f.stage(i.h,o),c=!0,15===d&&-1===location.href.indexOf("ucfs=")&&f.stage(i.h,7)),l&&c&&a.off("scroll",r),_r_()},100)),r()}_r_()},_initComponents:function(e){if(_i_("269:da0baddb"),!(e=e||{}).b_hotels)return _r_();this.template=_("acid_carousel"),this.$el.show(),this.$el.html(this.template.render({hotels:e.b_hotels,traveler_type_id:e.b_traveler_type,show_more_url:e.b_show_more_url,show_all_url:e.b_show_all_url,show_more_bottom:this.showMoreBottom,title:e.b_title,version:this.version,type:this.type,size:this.size,with_shadow:this.withShadow,closeable:this.closeable,genius_level:e.b_genius_level,no_dates:this.noDates})),window.BUI.initComponents(this.$el.get(0)),_r_()},_isPersistent:function(){return _i_("269:4c345c10"),_r_(this.persistent)},_typeSpecificLogicBefore:function(e){},_typeSpecificLogicAfter:function(e){}});i.exports=b,_r_()}),booking.jstmpl("media_card_carousel_helper_review_one_liner",function(){_i_("269:8639016c");var n=["\n    ","&nbsp;","\n"],r=["carousel_item"];return _r_(function(e){_i_("269:29816d14");var t="",i=this.fn;return t+=[n[0],i.F.entities((i.MC(r[0])||{}).b_review_score),n[1],i.F.entities((i.MC(r[0])||{}).b_review_title),n[2]].join(""),_r_(t)})}()),booking.jstmpl("media_card_carousel_helper_footer_show_more",function(){_i_("269:1222563e");var n=['\n    <span class="bui-link">',"/private/m_sxp_sr_country_carousel_cta/name","</span>\n"];return _r_(function(e){_i_("269:bde66dc9");var t="",i=this.fn;return t+=[n[0],i.ME(n[1],i.MB,i.MN,null),n[2]].join(""),_r_(t)})}()),booking.jstmpl("media_card_carousel",function(){_i_("269:fdf6661b");var a,s=["\n",'<div role="region" class="bui-carousel bui-carousel--',"large"," c-media-card-carousel--title-clamp",' bui-u-bleed@small" data-bui-component="Carousel"><ul class="bui-carousel__inner" data-bui-ref="carousel-container">',"",'<li class="bui-carousel__item c-media-card-carousel__carousel-item" data-bui-ref="carousel-item">','<a href="','" class="bui-card bui-card--media bui-card--transparent" data-id="','" ',' target="_blank" '," >",'<div data-id="','" class="bui-card bui-card--media bui-card--transparent" >','<div class="bui-card__image-container c-media-card-carousel__image-container"><img class="bui-card__image c-media-card-carousel__image" src="','"></div>','<div class="bui-card__content">','<header class="c-media-card-carousel__carousel-item-header"><h3 class="bui-card__title bui-f-font-strong">',"</h3>",'<h4 class="bui-card__subtitle">',"</h4>",'</header><div class="c-media-card-carousel__carousel-item-content">',"</div>",'<footer class="c-media-card-carousel__carousel-item-footer">',"</footer>","</a>","</li>",'</ul><div class="bui-carousel__nav"><button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="">',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'</button><button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="">',"bui-carousel__next","iconset/navarrow_right","</button></div></div>"],l=["size","titleClamp","carousel_data","fe_carousel_item_url","fe_carousel_item_id","open_in_new_tab","fe_carousel_item_photo_url","fe_carousel_item_name","show_more_item"];return _r_(function(e){_i_("269:0de89d3e");var t="",i=this.fn;t+=s[0],t+=s[1],i.MD(l[0])?t+=i.F.entities(i.MC(l[0])):t+=s[2],i.MD(l[1])&&(t+=s[3]),t+=s[4];var n=i.MC(l[2])||[];e.unshift({carousel_item:null});for(var r,_=1,o=n.length;_<=o;_++)e[0].carousel_item=r=n[_-1],t+=s[5],i.MN("fe_carousel_item_url",r.url||r.b_url),t+=s[5],i.MN("fe_carousel_item_id",r.id||r.b_id),t+=s[5],i.MN("fe_carousel_item_photo_url",r.photo_url||r.b_photo_url),t+=s[5],i.MN("fe_carousel_item_name",r.name||r.b_name),t+=s[6],i.MD(l[3])?(t+=[s[7],i.F.entities(i.MC(l[3])),s[8],i.F.entities(i.MC(l[4])),s[9]].join(""),i.MD(l[5])&&(t+=s[10]),t+=s[11]):t+=[s[12],i.F.entities(i.MC(l[4])),s[13]].join(""),t+=s[5],i.MD(l[6])&&(t+=[s[14],i.STATIC_HOSTNAME(i.MB(l[6]),0,0,0,0),s[15]].join("")),t+=s[16],i.MJ(i.MG((r||{}).before_title))&&(t+=[s[5],(r||{}).before_title,s[5]].join("")),t+=[s[17],i.F.entities(i.MC(l[7])),s[18]].join(""),i.MJ(i.MG((r||{}).subtitle))&&(t+=[s[19],(r||{}).subtitle,s[20]].join("")),t+=s[21],i.MJ(i.MG((r||{}).content))&&(t+=[s[5],(r||{}).content,s[5]].join("")),t+=s[22],i.MJ(i.MG((r||{}).footer))&&(t+=[s[23],(r||{}).footer,s[24]].join("")),t+=s[22],i.MD(l[3])?t+=s[25]:t+=s[22],t+=s[26];return e.shift(),t+=s[5],i.MD(l[8])&&(t+=[s[6],i.MC(l[8]),s[26]].join("")),t+=[s[27],(e.unshift({class:s[28],name:s[29],role:s[30],width:s[31]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[32],(e.unshift({class:s[33],name:s[34],role:s[30],width:s[31]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[35]].join(""),t+=s[0],_r_(t)})}()),B.define("component/media-card-carousel",function(r,e,t){_i_("269:ae16487e");var i,n=r("component"),_=r("jquery"),o=r("jstmpl"),a=r("server-data"),s=r("read-data-options");if("mdot"===a.b_site_type){var l=a.b_search_config||{};i={nr_rooms_needed:l.b_nr_rooms_needed,adults_total:l.b_adults_total,children_total:l.b_children_total,children_ages_total:l.b_children_ages_total&&l.b_children_ages_total.join(",")}}else if("www"===a.b_site_type){l=r("search-config");i={nr_rooms_needed:l.rooms?l.rooms.length:1,adults_total:l.adults,children_total:l.children,children_ages_total:l.childrenAges&&l.childrenAges.join(",")}}var c=a.b_ufi,d=a.b_checkin_date,h=a.b_checkout_date,u=a.b_selected_currency||a.b_currency_code||a.b_derived_currency||(a.b_selected_currency_is_hotel_currency?"hotel_currency":void 0),f=a.b_dest_id,p=a.b_dest_type,b=n.extend({init:function(e){_i_("269:110d907f"),this.options=e||s(this.$el,{action:{name:"action",type:String,defaultValue:""},manualLoad:{name:"manual-load",type:Boolean,defaultValue:!1},beforeTitleTmpl:{name:"before-title-tmpl",type:String,defaultValue:""},subtitleTmpl:{name:"subtitle-tmpl",type:String,defaultValue:""},contentTmpl:{name:"content-tmpl",type:String,defaultValue:""},footerTmpl:{name:"footer-tmpl",type:String,defaultValue:""},showMoreTmpl:{name:"show-more-tmpl",type:String,defaultValue:""},type:{name:"type",type:Number,defaultValue:void 0},version:{name:"version",type:Number,defaultValue:void 0},filterAggregates:{name:"fa",type:String,defaultValue:""},forBusiness:{name:"business",type:Boolean,defaultValue:!1},actionAdditionalParams:{name:"action-additional-params",type:String,defaultValue:void 0},size:{name:"size",type:String,defaultValue:"large"},dismissible:{name:"dismissible",type:String,defaultValue:""},openInNewTab:{name:"open-in-new-tab",type:Boolean,defaultValue:!1},onItemClick:{name:"on-item-click",type:String,defaultValue:""},onPrevClick:{name:"on-prev-click",type:String,defaultValue:""},onNextClick:{name:"on-next-click",type:String,defaultValue:""},titleClamp:{name:"clamp-card-title",type:Boolean,defaultValue:!1},priceFooter:{name:"price-footer",type:Boolean,defaultValue:!1}}),this.options.actionAdditionalParams&&this.setAdditionalRequestParams(this._parseActionAdditionalParams(this.options.actionAdditionalParams)),this.$carouselContainer=this.$el.find("[data-carousel-container]"),this.options.manualLoad||this.load(),_r_()},setAdditionalRequestParams:function(e){_i_("269:ad2eaafc"),this.additionalRequestParams=e,_r_()},setOnLoadCallback:function(e){_i_("269:a484cc39"),this.onLoadCallback=e,_r_()},setLoadedDataTransformer:function(e){_i_("269:18ac44d6"),this.loadedDataTransformer=e,_r_()},setOnInitCallback:function(e){_i_("269:fb59663e"),this.onInitCallback=e,_r_()},abortRequest:function(){_i_("269:61274dd7"),this.loadRequest&&this.loadRequest.abort(),_r_()},onRequestFail:function(){_i_("269:bd0194ab1"),this.$el.remove(),_r_()},load:function(){if(_i_("269:7e19590f"),this.loaded)return _r_();this.loaded=!0,this.loadRequest=_.post(this.options.action||"/acid_carousel",Object.assign({dest_id:f,dest_type:p,ufi:c,checkin:d,checkout:h,currency:u,filter_aggregates:this.options.filterAggregates,sb_travel_purpose:this.forBusiness?"business":"leisure",version:this.options.version,type:this.options.type,carousel_type:this.options.type},i,this.additionalRequestParams)),this.loadRequest.then(function(e){_i_("269:2e3366ab"),this.loadedDataTransformer&&(e=this.loadedDataTransformer(e)),this.$el.removeClass("c-media-card-carousel--hidden"),this.onLoadCallback&&this.onLoadCallback(e),this.initComponents(e),_r_()}.bind(this)).fail(function(e,t,i){_i_("269:899185c4"),this.onRequestFail(e,t,i),_r_()}.bind(this)),_r_()},reload:function(){_i_("269:7e585039"),this.loaded=!1,this.load(),_r_()},initComponents:function(e){_i_("269:7d6538fa");var t,i=(e=e||{}).b_hotels||e.data||e.acid_cards;if(!i||!i.length)return this.onRequestFail(),_r_();if(this.template=o("media_card_carousel"),(this.options.beforeTitleTmpl||this.options.subtitleTmpl||this.options.contentTmpl||this.options.footerTmpl)&&i.forEach(function(e){_i_("269:24ab601d"),this.options.beforeTitleTmpl&&(e.before_title=o(this.options.beforeTitleTmpl).render({carousel_item:e})),this.options.subtitleTmpl&&(e.subtitle=o(this.options.subtitleTmpl).render({carousel_item:e})),this.options.contentTmpl&&(e.content=o(this.options.contentTmpl).render({carousel_item:e,priceFooter:this.options.priceFooter})),this.options.footerTmpl&&(e.footer=o(this.options.footerTmpl).render({carousel_item:e,priceFooter:this.options.priceFooter})),_r_()}.bind(this)),this.options.showMoreTmpl&&(t=o(this.options.showMoreTmpl).render({data:e})),this.$carouselContainer.html(this.template.render({version:this.options.version,type:this.options.type,carousel_data:i,show_more_item:t,size:this.options.size,open_in_new_tab:this.options.openInNewTab,titleClamp:this.options.titleClamp})),e.b_show_more_url||e.show_more_url){var n="data-show-more-link";void 0!==e.show_more_details_button_show_in_header&&(n=e.show_more_details_button_show_in_header?"data-carousel-show-more-header":"data-carousel-show-more-footer"),_(this.$el.find("["+n+"]")).attr("href",e.b_show_more_url||e.show_more_url).show()}(e.b_title||e.title)&&this.$el.find(".c-media-card-carousel__title-text").html(e.b_title||e.title),this.$el.removeClass("c-media-card-carousel--animate-title"),window.BUI.initComponents(this.$el.get(0)),this._initHandlers(),this.onInitCallback&&this.onInitCallback(e),_r_()},_initHandlers:function(){if(_i_("269:7e6b9273"),this.options.onItemClick&&this._initOnClickTracking('[data-bui-ref="carousel-item"]',this.options.onItemClick),this.options.onPrevClick&&this._initOnClickTracking('[data-bui-ref="carousel-prev"]',this.options.onPrevClick),this.options.onNextClick&&this._initOnClickTracking('[data-bui-ref="carousel-next"]',this.options.onNextClick),this.options.dismissible){var e=r("dismiss-item");this.$el.find(".bui-banner__close").on("click",function(){_i_("269:37bc1eef"),e(this.options.dismissible),_r_()}.bind(this))}_r_()},_initOnClickTracking:function(e,t){_i_("269:fb1975ae");var i=r("et"),n=t.split(",");this.$el.on("click",e,function e(){_i_("269:a537c57e"),n.forEach(function(e){_i_("269:a2f8a909"),e=e.split(":"),i.customGoal(e[0],e[1]),_r_()}),this.$el.unbind("click",e),_r_()}.bind(this)),_r_()},_parseActionAdditionalParams:function(e){return _i_("269:457577ca"),_r_((e=e||"").split("|").map(function(e){_i_("269:8aae5f5f");var t=(e||"").split("=");return _r_([t[0],t.slice(1).join("=")])}).reduce(function(e,t){return _i_("269:c384affa"),t&&t[0]&&(e[t[0]]=t[1]),_r_(e)},{}))}});t.exports=b,_r_()}),booking.jstmpl("property_carousel_before_title_tmpl",function(){_i_("269:9c06e69e");var a,s=["\n","",'<div class="c-property-carousel__before-header">',"\n\n\n","\n    ","\n\n","\n\n\n\n"," \n",'\n\n<span\n    class="',"bh-quality-bars bh-quality-bars--"," ",'"\n    ','\n    data-bui-component="Popover"\n    data-popover-position="bottom"\n    data-popover-content-id="bhqc_explanation_popover"\n    ','\n    data-bui-component="Tooltip"\n        ','\n        title="',"/private/bhqc_sr_qc_desc_tooltip_affiliate/name",'"\n        ',"/private/bh_sr_quality_explanationv3/name",'\n        data-tooltip-position="bottom"\n    ','data-et-click="','"','data-et-mouseenter="',"\n>\n    ","iconset/square_rating","\n\n    ",'\n        <span style="margin: ',"0 0 0 ","0 "," 0 0",';">\n            ',"streamline/question_mark_circle","smaller","\n        </span>\n    ","\n</span>\n\n","medium","c-property-carousel__class-rating","\n\n\n\n\n\n\n\n","\n\n\n\n\n\n\n\n\n    \n    ","\n\n    \n    ",".5","\n        ","5","\n\n    \n    \n    \n    ","\n         ",'\n         <div class="',"china_stars_categories ","ms-china-stars-categories",'">\n            ','\n                \n                <span class="china_stars_categories_title">',"</span>\n            ","\n\n            \n            ","sprite/ratings_circles_","_half",'\n\n            <i class="\n                bk-icon-wrapper\n                zhcn-ratings\n                ',"\n                ","jq_tooltip ratings_stars_tooltip","ms-title-stars",'\n                "\n                title="','"\n            >',"true","1","false","</i>\n\n        </div>\n\n    \n    \n    \n    ","\n\n        ","/5","\n            ","\n\n        \n        ",'\n\n        <i class="\n            bk-icon-wrapper\n            ','\n            "\n            title="','"\n            ','\n                data-toponly="true"\n            ',"\n        >",'\n            <span class="invisible_spoken">',"</span>","\n        </i>\n        \n        \n        \n        ",'\n            <span data-bui-component="Tooltip" title="','" style="margin: ',"; position: relative; top: ","-2px","-4px",';">\n                ',"\n            </span>\n        ","\n\n    \n    \n    \n    \n    ","\n            \n            ","sprite/ratings_stars_",'\n            <i\n                class="\n                    bk-icon-wrapper\n                    bk-icon-stars\n                    ',"\n                    ","\n                    star_track",'\n                    "\n                title="','"\n                ','\n                    rel="300"\n                    data-toponly="true"\n                ',"\n            >\n                ",'\n                    <span class="invisible_spoken">',"\n            </i>\n    ","\n\n            ","small","</div>"],l=["carousel_item","fe_bar_size","fe_icon_width","fe_custom_classes","fe_show_extended_tooltip","fe_bar_level","fe_is_affiliate","fe_companyname","fe_site_type","fe_no_tooltip","fe_click_tracking","fe_mouseenter_tracking","fe_icon_height","fe_icon_size","b_lang_is_rtl","cc1","b_cc1","b_countrycode","b_common_cc1","b_booker_cc1","b_hotel_cc1","b_common_class_is_estimated","ip_country","b_locale","b_action","fe_show_estimated_rating","fe_show_rating_tooltip","decimal_halfstar","rating_score","b_common_class","b_common_class_half","b_common_rating_score_localized","fe_small_stars","fe_large_stars","b_user_auth_level","b_site_type","fe_nostar_rating_stars","b_lang","rating_icon__path","star_rating_dots_tooltip_zhcn","fe_rating_symbols_height","fe_china_estimated_rating","rating_score_pure","fe_estimated_rating_tooltip_text","fe_estimated_tooltip","sr_unofficial_star_or_dot_rating_tooltip","fe_style_rating_tooltip","star_rating_text","sr_star_property","b_accommodationtype_id","star_rating_1_half","star_rating_1","star_rating_2_half","star_rating_2","star_rating_3_half","star_rating_3","star_rating_4_half","star_rating_4","star_rating_5","sr_official_star_rating_tooltip","b_common_stars_type","sr_star_rating_tooltip_legal","b_guest_country","loc_star_rating_color","loc_star_rating_tracking","b_bh_quality_class","fe_class_on_map","b_companyname","b_site_info","class","class_is_estimated"];return _r_(function(r){_i_("269:92f2aba9");var e="",_=this.fn;function o(e){_i_("269:643c313b"),e+=["",s[3]].join(""),_.MJ(/\d+/.test(_.MB(l[1])))&&(e+=s[4],_.MN("fe_icon_width",_.MB(l[1])),e+=s[4],_.MN("fe_icon_height",_.MB(l[1])),e+=s[0]),e+=s[5],_.MK(_.MB(l[1]))&&(e+=s[4],_.MN("fe_bar_size","medium"),e+=s[0]),e+=s[6],_.MJ(_.MB(l[1])+""=="small")?(e+=s[4],_.MN("fe_icon_size","smaller"),e+=s[7]):_.MJ(_.MB(l[1])+""=="large")?(e+=s[4],_.MN("fe_icon_size","medium"),e+=s[7]):_.MK(_.MB(l[2]))&&(e+=s[4],_.MN("fe_icon_size","small"),e+=s[7]),e+=s[8],e+=[s[9],_.F.entities(_.MC(l[1])),s[10],_.F.entities(_.MC(l[3])),s[1]].join(""),e+=s[11],_.MK(_.MJ(_.MB(l[8])+""=="mdot")||_.MB(l[9]))&&(e+=s[4],_.MD(l[4])?e+=s[12]:(e+=s[13],_.MD(l[6])?e+=[s[14],(r.unshift({num_rating:_.MB(l[5])}),a=_.ME(s[15],_.MB,_.MN,null),r.shift(),a),s[16]].join(""):e+=[s[14],(r.unshift({b_companyname:_.MB(l[7]),end_bold:"</strong>",start_bold:"<strong>"}),a=_.ME(s[17],_.MB,_.MN,null),r.shift(),a),s[16]].join(""),e+=s[18]),e+=s[4]),e+=s[4],_.MD(l[10])&&(e+=[s[19],_.F.entities(_.MC(l[10])),s[20]].join("")),e+=s[4],_.MD(l[11])&&(e+=[s[21],_.F.entities(_.MC(l[11])),s[20]].join("")),e+=s[22];var t=_.seq(1,_.MB(l[5]))||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=[(r.unshift({color:"#FEBB02",height:_.MB(l[12]),name:s[23],size:_.MB(l[13]),width:_.MB(l[2])}),a=_.HELPER("icon",r[0]),r.shift(),a),s[1]].join("");return r.shift(),e+=s[24],_.MD(l[4])&&(e+=s[25],_.MD(l[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=[s[29],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),a=_.HELPER("icon",r[0]),r.shift(),a),s[32]].join("")),e+=[s[33],"",s[0]].join(""),_r_(e)}function t(e){_i_("269:122a73b6"),e+=["",s[3]].join(""),_.MJ(/\d+/.test(_.MB(l[1])))&&(e+=s[4],_.MN("fe_icon_width",_.MB(l[1])),e+=s[4],_.MN("fe_icon_height",_.MB(l[1])),e+=s[0]),e+=s[5],_.MK(_.MB(l[1]))&&(e+=s[4],_.MN("fe_bar_size","medium"),e+=s[0]),e+=s[6],_.MJ(_.MB(l[1])+""=="small")?(e+=s[4],_.MN("fe_icon_size","smaller"),e+=s[7]):_.MJ(_.MB(l[1])+""=="large")?(e+=s[4],_.MN("fe_icon_size","medium"),e+=s[7]):_.MK(_.MB(l[2]))&&(e+=s[4],_.MN("fe_icon_size","small"),e+=s[7]),e+=s[8],e+=[s[9],_.F.entities(_.MC(l[1])),s[10],_.F.entities(_.MC(l[3])),s[1]].join(""),e+=s[11],_.MK(_.MJ(_.MB(l[8])+""=="mdot")||_.MB(l[9]))&&(e+=s[4],_.MD(l[4])?e+=s[12]:(e+=s[13],_.MD(l[6])?e+=[s[14],(r.unshift({num_rating:_.MB(l[5])}),a=_.ME(s[15],_.MB,_.MN,null),r.shift(),a),s[16]].join(""):e+=[s[14],(r.unshift({b_companyname:_.MB(l[7]),end_bold:"</strong>",start_bold:"<strong>"}),a=_.ME(s[17],_.MB,_.MN,null),r.shift(),a),s[16]].join(""),e+=s[18]),e+=s[4]),e+=s[4],_.MD(l[10])&&(e+=[s[19],_.F.entities(_.MC(l[10])),s[20]].join("")),e+=s[4],_.MD(l[11])&&(e+=[s[21],_.F.entities(_.MC(l[11])),s[20]].join("")),e+=s[22];var t=_.seq(1,_.MB(l[5]))||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=[(r.unshift({color:"#FEBB02",height:_.MB(l[12]),name:s[23],size:_.MB(l[13]),width:_.MB(l[2])}),a=_.HELPER("icon",r[0]),r.shift(),a),s[1]].join("");return r.shift(),e+=s[24],_.MD(l[4])&&(e+=s[25],_.MD(l[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=[s[29],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),a=_.HELPER("icon",r[0]),r.shift(),a),s[32]].join("")),e+=[s[33],"",s[0]].join(""),_r_(e)}if(e+=s[0],e+=s[1],_.MJ(_.MC(l[0]).accommodation_type)||_.MJ(_.MC(l[0]).quality_and_class)||_.MJ(_.MC(l[0]).class)){if(e+=s[2],_.MJ(_.MG((_.MC(l[0])||{}).accommodation_type))&&(e+=[s[1],_.F.entities((_.MC(l[0])||{}).accommodation_type),s[1]].join("")),e+=s[1],_.MJ(_.MG((_.MC(l[0])||{}).quality_and_class))){e+=s[1];var i={fe_bar_level:_.MG((_.MC(l[0])||{}).quality_and_class),fe_bar_size:s[34],fe_custom_classes:s[35],fe_no_tooltip:1},n=r;(r=_.SV([{},{}])).unshift(i),e=t(e),r=_.SV(n),e+=s[1]}else if(_.MJ(_.defined(_.MC(l[0]).b_accommodation_classification_rating_data))&&_.MJ(_.defined(_.MC(l[0]).b_accommodation_classification_rating_data.type))&&_.MJ(_.MC(l[0]).b_accommodation_classification_rating_data.type+""=="tiles")){e+=s[1];i={fe_bar_level:_.MG(((_.MC(l[0])||{}).b_accommodation_classification_rating_data||{}).rating),fe_bar_size:s[34],fe_custom_classes:s[35],fe_no_tooltip:1},n=r;(r=_.SV([{},{}])).unshift(i),e=t(e),r=_.SV(n),e+=s[1]}else _.MJ(_.MG((_.MC(l[0])||{}).class))&&(e+=s[1],_.MN("class",_.MG((_.MC(l[0])||{}).class)),e+=s[1],_.MN("class_is_estimated",_.MG((_.MC(l[0])||{}).class_is_estimated)),e+=s[1],_.MN("cc1",_.MG((_.MC(l[0])||{}).cc1)),e+=s[1],_.MD(l[69])&&(e+=s[1],r.unshift({b_common_cc1:_.MB(l[15]),b_common_class:_.MB(l[69]),b_common_class_is_estimated:_.MB(l[70]),fe_custom_classes:s[35]}),e=function(e){if(_i_("269:d70bedf5"),e+=["",s[36]].join(""),_.MJ(_.MC(l[29]))&&_.MJ(0<_.MC(l[29]))){e+=s[37],_.MN("fe_china_estimated_rating",_.MJ(_.MB(l[15])+""=="cn")||_.MJ(_.MC(l[16])+""=="cn")||_.MJ(_.MC(l[17])+""=="cn")||_.MJ(_.MC(l[18])+""=="cn")||_.MJ(_.MC(l[19])+""=="cn")&&_.MJ(_.MC(l[20])+""=="cn")),e+=s[38],_.MN("fe_show_estimated_rating",_.MJ(/^ph$/.test(_.MC(l[18])))||_.MC(l[21])&&_.MJ(/^de|ru|fr|be$/.test(_.MC(l[18])))||_.MJ(_.MB(l[22])+""=="us")&&_.MJ(_.MC(l[23])+""=="en-us")&&_.MJ(_.MC(l[24])+""!="confirmationmg")),e+=s[38],_.MN("fe_show_rating_tooltip",(_.MJ(_.MC(l[18])+""=="de")||_.MB(l[25])&&_.MJ(!/^fr|be$/.test(_.MC(l[18]))))&&_.MJ(/^searchresults|hotel$/.test(_.MC(l[24])))),e+=s[38],_.MN("fe_style_rating_tooltip",_.MB(l[26])&&_.MJ(_.MC(l[24])+""=="searchresults")),e+=s[24],_.MN(l[27],s[39]),e+=s[4];var t="";t+=_.F.entities(parseInt(_.MC(l[29]))),_.MD(l[30])&&(t+=_.F.entities(_.MB(l[27]))),_.MN(l[28],t),e+=s[38],_.MD(l[31])?(e+=s[40],_.MN(l[28],_.MC(l[31]))):(_.MJ(5==_.MB(l[28]))||_.MJ(5.5==_.MB(l[28])))&&_.MJ(_.MC(l[30]))?(e+=s[40],_.MN(l[28],s[41])):(e+=s[40],_.MN(l[28],_.format_number_decimal(_.MB(l[28])))),e+=s[4],e+=s[38],_.MD(l[32])?(e+=s[40],_.MN("fe_rating_symbols_height","8")):_.MD(l[33])?(e+=s[40],_.MN("fe_rating_symbols_height","13")):(e+=s[40],_.MN("fe_rating_symbols_height","10")),e+=s[4],e+=s[42],_.MD(l[41])?(e+=s[43],_.MN("fe_nostar_rating_stars","{nostar_rating_filter_"+_.MC(l[29])+"}"),e+=s[44],e+=s[45],_.MJ(_.MC(l[34]))&&_.MJ(_.MC(l[35])+""=="www")&&_.MJ(_.MC(l[24])+""=="mywishlist")&&(e+=s[46]),e+=s[47],_.MJ(_.MB(l[36]))&&_.MJ(_.MC(l[37])+""=="zh")&&(e+=[s[48],_.MB(l[36]),s[49]].join("")),e+=s[50],t="",t+=[s[51],parseInt(_.MC(l[29]))].join(""),_.MJ(_.MC(l[30]))&&_.MJ(parseInt(_.MC(l[29]))<5)&&(t+=s[52]),_.MN(l[38],t),e+=s[53],_.MD(l[3])&&(e+=_.F.entities(_.MC(l[3]))),e+=s[54],_.MD(l[39])&&(e+=s[55]),e+=s[54],_.MJ(_.MC(l[34]))&&_.MJ(_.MC(l[35])+""=="www")&&_.MJ(_.MC(l[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[57],_.F.html(_.MB(l[39])),s[58]].join(""),e+=(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(l[40]),name:_.MB(l[38])}),a=_.HELPER("icon",r[0]),r.shift(),a),e+=s[62]):_.MJ(_.MB(l[25]))?(e+=s[63],_.MN(l[42],_.F.entities(_.MB(l[28]))),e+=s[40],_.MN(l[28],[_.F.entities(_.MB(l[28])),s[64]].join("")),e+=s[63],(_.MJ(_.MB(l[26]))||_.MJ(_.MB(l[44])))&&(e+=s[65],_.MD(l[44])?(e+=s[54],_.MN(l[43],_.MC(l[44]))):(e+=s[54],_.MN(l[43],_.MB(l[45]))),e+=s[65],e+=s[40]),e+=s[66],t="",t+=[s[51],parseInt(_.MC(l[29]))].join(""),_.MJ(_.MC(l[30]))&&_.MJ(parseInt(_.MC(l[29]))<5)&&(t+=s[52]),_.MN(l[38],t),e+=s[67],_.MD(l[3])&&(e+=_.F.entities(_.MC(l[3]))),e+=s[65],(_.MJ(_.MB(l[46]))||_.MJ(_.MC(l[24])+""=="searchresults")&&_.MJ(_.MB(l[44])))&&(e+=s[55]),e+=s[65],_.MJ(_.MC(l[34]))&&_.MJ(_.MC(l[35])+""=="www")&&_.MJ(_.MC(l[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[68],_.MB(l[43]),s[69]].join(""),_.MJ(_.MC(l[24])+""=="searchresults")&&(e+=s[70]),e+=s[71],e+=[(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(l[40]),name:_.MB(l[38])}),a=_.HELPER("icon",r[0]),r.shift(),a),s[72],_.MB(l[43]),s[73]].join(""),e+=s[74],_.MJ(_.MB(l[26]))&&_.MJ(_.MB(l[22])+""=="de")&&_.MJ(_.MC(l[18])+""=="de")&&_.MJ(_.MC(l[35])+""=="www")&&(_.MJ(_.MC(l[24])+""=="searchresults")||_.MJ(_.MC(l[24])+""=="hotel"))&&(e+=[s[75],_.F.entities(_.MC(l[43])),s[76]].join(""),_.MD(l[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=s[77],_.MJ(_.MC(l[24])+""=="hotel")?e+=s[78]:e+=s[79],e+=[s[80],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),a=_.HELPER("icon",r[0]),r.shift(),a),s[81]].join("")),e+=s[82]):(e+=s[40],_.MJ(204!=_.MC(l[49]))?(e+=s[83],_.MN(l[47],_.MB(l[48]))):(e+=s[65],t="",_.MJ(1==_.MC(l[29]))?_.MD(l[30])?t+=_.MB(l[50]):t+=_.MB(l[51]):_.MJ(2==_.MC(l[29]))?_.MD(l[30])?t+=_.MB(l[52]):t+=_.MB(l[53]):_.MJ(3==_.MC(l[29]))?_.MD(l[30])?t+=_.MB(l[54]):t+=_.MB(l[55]):_.MJ(4==_.MC(l[29]))?_.MD(l[30])?t+=_.MB(l[56]):t+=_.MB(l[57]):_.MJ(5==_.MC(l[29]))&&(t+=_.MB(l[58])),_.MN(l[47],t)),e+=s[40],e+=s[63],_.MD(l[26])&&(e+=s[65],_.MN(l[47],_.MB(l[59])),e+=s[40]),e+=s[63],_.MN(l[60],_.MC(l[60])||"4"),e+=s[66],_.MJ(_.MC(l[62])+""=="nl")&&_.MJ(_.MC(l[35])+""=="www")&&(_.MJ(_.MC(l[24])+""=="searchresults")||_.MJ(_.MC(l[24])+""=="hotel"))&&(e+=s[65],_.MN("fe_style_rating_tooltip",1),e+=s[65],_.MN("star_rating_text",_.MB(l[61])),e+=s[40]),e+=s[66],t="",t+=[s[84],parseInt(_.MC(l[29]))].join(""),_.MJ(_.MC(l[30]))&&_.MJ(parseInt(_.MC(l[29]))<5)&&(t+=s[52]),_.MN(l[38],t),e+=s[85],_.MD(l[3])&&(e+=_.F.entities(_.MC(l[3]))),e+=s[86],_.MD(l[46])&&(e+=s[55]),e+=[s[87],_.MB(l[63]),s[86]].join(""),_.MJ(_.MC(l[34]))&&_.MJ(_.MC(l[35])+""=="www")&&_.MJ(_.MC(l[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[88],_.F.html(_.MB(l[47])),s[89]].join(""),_.MD(l[46])&&(e+=s[90]),e+=[s[54],_.MB(l[64]),s[91]].join(""),e+=[(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(l[40]),name:_.MB(l[38])}),a=_.HELPER("icon",r[0]),r.shift(),a),s[92],_.F.html(_.MB(l[47])),s[73]].join(""),e+=s[93]),e+=s[0]}else{if(e+=s[4],_.MJ(_.MC(l[65]))){if(e+=s[63],_.MJ(_.MC(l[35])+""=="www")){e+=s[65];var i={fe_bar_level:_.MC(l[65]),fe_bar_size:_.MB(l[66])?"small":"medium",fe_companyname:_.MC(l[67]),fe_is_affiliate:_.MC(l[68])&&_.MC(l[68]).is_hybrid,fe_show_extended_tooltip:_.MJ(_.MB(l[22])+""=="de")&&(_.MJ(_.MC(l[24])+""=="searchresults")||_.MJ(_.MC(l[24])+""=="hotel")),fe_site_type:_.MC(l[35])},n=r;(r=_.SV([{},{}])).unshift(i),e=o(e),r=_.SV(n),e+=s[40]}else _.MJ(_.MC(l[35])+""=="mdot")?(e+=s[94],i={fe_bar_level:_.MC(l[65]),fe_bar_size:s[95],fe_is_affiliate:_.MC(l[68])&&_.MC(l[68]).is_hybrid,fe_no_tooltip:1,fe_site_type:_.MC(l[35])},n=r,(r=_.SV([{},{}])).unshift(i),e=o(e),r=_.SV(n),e+=s[63]):_.MJ(_.MC(l[35])+""=="tdot")&&(e+=s[94],i={fe_bar_level:_.MC(l[65]),fe_bar_size:"small",fe_is_affiliate:_.MC(l[68])&&_.MC(l[68]).is_hybrid,fe_no_tooltip:1,fe_site_type:_.MC(l[35])},n=r,(r=_.SV([{},{}])).unshift(i),e=o(e),r=_.SV(n),e+=s[63]);e+=s[24]}e+=s[0]}return e+=[s[5],"",s[0]].join(""),_r_(e)}(e),r.shift(),e+=s[1]),e+=s[1]);e+=s[96]}return e+=s[1],e+=s[0],_r_(e)})}()),booking.jstmpl("property_carousel_subtitle_tmpl",function(){_i_("269:8790965d");var n=["\n  ","\n    ","&nbsp;","\n"],r=["carousel_item"];return _r_(function(e){_i_("269:c2443fa4");var t="",i=this.fn;return t+=n[0],i.MJ(i.MG((i.MC(r[0])||{}).review_score))&&(t+=[n[1],i.F.entities((i.MC(r[0])||{}).review_score),n[2],i.F.entities((i.MC(r[0])||{}).review_title),n[0]].join("")),t+=n[3],_r_(t)})}()),booking.jstmpl("property_carousel_content_tmpl",function(){_i_("269:fb377752");var i,o=["\n\n  ",'\n    \n    <div class="c-property-carousel__location">\n      ',"12","streamline/geo_pin"," ",", ","\n    </div>\n  ",'\n    \n    <div class="c-property-carousel__location">\n        ',"\n        ","/private/m_sr_fuzzy_auto_extension_from_centre/name",'\n      <div class="c-property-carousel__sustainable-badge">\n        ',"streamline/travel_sustainable","/private/sustainability_sp_trav_sus_label/name","\n      </div>\n  ",'\n    <div class="c-property-carousel__review-container">\n      <div class="c-property-carousel__review--collapsed">\n        ','\n      </div>\n      <span class="c-property-carousel__review-show-more bui-link">\n        ',"/private/sxp_sr_thematic_carousel_show_more/name","\n      </span>\n    </div>\n    ","",'<div class="','">','<img class="bui-avatar__image"','src="','"','data-component="image-fallback"\n                 data-fallback-src="','"\n                 alt="" aria-hidden="true" />','<img class="bui-avatar__image"\n                 src="',"</div>","\n",'<div class="bui-avatar-block__text">\n                <span class="bui-avatar-block__title">',"</span>",'<span class="bui-avatar-block__subtitle">','<span class="bui-flag bui-avatar-block__flag">\n                                    <img src="','"\n                                         alt="" />\n                                </span>',"</div>\n        </div>","\n  ","\n    ",'\n    <div class="bui-price-display c-property-carousel__price">\n      <div class="bui-price-display__label">',"/private/sxp_sr_thematic_search_starting_from_no_price/name",'</div>\n      <div class="bui-price-display__value">',"</div>\n    </div>\n  ",'\n    <div class="c-property-carousel__not-available">\n      ',"/private/sxp_sh_carousel_unavailable/name"],a=["carousel_item","fe_class_block","fe_modifier_small","fe_modifier_large","fe_avatar","fe_avatar_class","fe_modifier_larger","fe_modifier_largest","fe_name","fe_character_avatar","fe_character","fe_fallback_avatar","fe_flag_size","fe_country_code","fe_hide_flag","fe_country_name","priceFooter"];return _r_(function(r){_i_("269:38082249");var e,t="",_=this.fn;return t+=o[0],_.MJ(_.MG((_.MC(a[0])||{}).dest_name))?(t+=[o[1],(r.unshift({height:o[2],name:o[3],width:o[2]}),i=_.HELPER("icon",r[0]),r.shift(),i),o[4],_.F.entities((_.MC(a[0])||{}).dest_name)].join(""),_.MJ(_.MG((_.MC(a[0])||{}).country_name))&&(t+=[o[5],_.F.entities((_.MC(a[0])||{}).country_name)].join("")),t+=o[6]):_.MJ(_.MG(((_.MC(a[0])||{}).distance_from_cc||{}).distance_formatted))&&(t+=[o[7],(r.unshift({height:o[2],name:o[3],width:o[2]}),i=_.HELPER("icon",r[0]),r.shift(),i),o[8],(r.unshift({distanceInKmFromCentre:_.MG(((_.MC(a[0])||{}).distance_from_cc||{}).distance_formatted)}),i=_.ME(o[9],_.MB,_.MN,null),r.shift(),i),o[6]].join("")),t+=o[0],_.MJ(_.MG((_.MC(a[0])||{}).is_sustainable_property))&&(t+=[o[10],(r.unshift({height:o[2],name:o[11],width:o[2]}),i=_.HELPER("icon",r[0]),r.shift(),i),o[8],_.ME(o[12],_.MB,_.MN,null),o[13]].join("")),t+=o[0],_.MJ(_.MG((_.MC(a[0])||{}).review))&&(t+=[o[14],((_.MC(a[0])||{}).review||{}).hotel_positive,o[15],_.ME(o[16],_.MB,_.MN,null),o[17]].join(""),r.unshift({fe_country_code:_.MG(((_.MC(a[0])||{}).review||{}).guest_country_code),fe_country_name:_.MG(((_.MC(a[0])||{}).review||{}).guest_country_name),fe_name:_.MG(((_.MC(a[0])||{}).review||{}).guest_name)}),t=function(e){if(_i_("269:1bca771d"),e+=o[18],_.MJ(_.MB(a[8]))){e+=o[18],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=o[18],_.MN("fe_class_avatar","bui-avatar"),e+=o[18],_.MN("fe_flag_size",16),e+=o[18],_.MD(a[2])&&(e+=o[18],_.MN("fe_class_block",_.MB(a[1])+" bui-avatar-block--small"),e+=o[18],_.MN("fe_flag_size",12),e+=o[18]),e+=o[18],_.MD(a[3])&&(e+=o[18],_.MN("fe_class_block",_.MB(a[1])+" bui-avatar-block--large"),e+=o[18]),e+=[o[19],_.F.entities(_.MC(a[1])),o[20]].join("");var t={fe_avatar:_.MB(a[4]),fe_modifier_large:_.MB(a[3]),fe_modifier_small:_.MB(a[2]),fe_name:_.MB(a[8])},i=r;(r=_.SV([{},{}])).unshift(t),n=e,_i_("269:e5db498e"),n+=o[18],(_.MJ(_.MB(a[8]))||_.MJ(_.MB(a[4])))&&(n+=o[18],_.MN("fe_avatar",_.defined(_.MB(a[4]))&&_.MJ(10<_.MB(a[4]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(a[4])))?_.MB(a[4]):0),n+=o[18],_.MN("fe_avatar_class","c-avatar bui-avatar "),n+=o[18],_.MD(a[2])&&_.MN("fe_avatar_class",_.MB(a[5])+" bui-avatar--small"),n+=o[18],_.MD(a[3])&&_.MN("fe_avatar_class",_.MB(a[5])+" bui-avatar--large"),n+=o[18],_.MD(a[6])&&_.MN("fe_avatar_class",_.MB(a[5])+" bui-avatar--larger"),n+=o[18],_.MD(a[7])&&_.MN("fe_avatar_class",_.MB(a[5])+" bui-avatar--largest"),n+=o[18],_.MN("fe_character",_.MB(a[8])&&_.substr(_.MB(a[8]),0,1).toLowerCase()),n+=o[18],_.MN("fe_character_avatar",0),n+=o[18],_.MJ(/[a-z]/i.test(_.MB(a[10])))&&(n+=o[18],_.MN(a[9],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(a[10])+".png",0,0,0,0)),n+=o[18]),n+=o[18],_.MD(a[9])?(n+=o[18],_.MN(a[11],_.MC(a[9]))):(n+=o[18],_.MN(a[11],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),n+=o[18],n+=[o[19],_.F.entities(_.MC(a[5])),o[20]].join(""),_.MJ(_.MB(a[4]))||_.MJ(_.MB(a[9]))?(n+=o[21],_.MD(a[4])?n+=[o[22],_.MC(a[4]),o[23]].join(""):_.MD(a[9])&&(n+=[o[22],_.MC(a[9]),o[23]].join("")),n+=[o[24],_.MC(a[11]),o[25]].join("")):n+=[o[26],_.MC(a[11]),o[25]].join(""),n+=o[27]),n+=o[18],_.MN("fe_avatar",0),n+=o[18],_.MN("fe_avatar_class",0),n+=o[18],_.MN("fe_avatar_text",0),n+=o[18],_.MN("fe_character",0),n+=o[18],_.MN("fe_fallback_avatar",0),n+=o[18],_.MN("fe_modifier_large",0),n+=o[18],_.MN("fe_modifier_larger",0),n+=o[18],_.MN("fe_modifier_largest",0),n+=o[18],_.MN("fe_modifier_small",0),n+=o[18],_.MN("fe_name",0),n+=o[18],_.MN("fe_on_error_func",0),n+=o[18],n+=o[28],e=_r_(n),r=_.SV(i),e+=[o[29],_.F.js(_.MC(a[8])),o[30]].join(""),_.MJ(_.MB(a[15]))&&(e+=o[31],_.MD(a[13])&&(e+=o[18],_.MD(a[14])||(e+=[o[32],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(a[12])+"/"+_.MB(a[13])+".png",0,0,0,0),o[33]].join("")),e+=o[18]),e+=[o[18],_.F.entities(_.MC(a[15])),o[30]].join("")),e+=o[34]}var n;return e+=o[18],_.MN("fe_avatar",0),e+=o[18],_.MN("fe_class_avatar",0),e+=o[18],_.MN("fe_class_block",0),e+=o[18],_.MN("fe_country_code",0),e+=o[18],_.MN("fe_country_name",0),e+=o[18],_.MN("fe_flag_size",0),e+=o[18],_.MN("fe_modifier_large",0),e+=o[18],_.MN("fe_modifier_small",0),e+=o[18],_.MN("fe_name",0),e+=o[18],_.MN("fe_hide_flag",0),e+=o[18],e+=o[28],_r_(e)}(t),r.shift(),t+=o[35]),t+=o[0],_.MD(a[16])||(t+=o[36],e=t,_i_("269:a04807a5"),e+=o[35],_.MJ(_.MG((_.MC(a[0])||{}).price_formatted))?e+=[o[37],_.ME(o[38],_.MB,_.MN,null),o[39],_.F.entities((_.MC(a[0])||{}).price_formatted),o[40]].join(""):_.MJ(_.MG((_.MC(a[0])||{}).not_available))&&(e+=[o[41],_.ME(o[42],_.MB,_.MN,null),o[6]].join("")),e+=o[28],t=_r_(e),t+=o[35]),t+=o[28],_r_(t)})}()),booking.jstmpl("property_carousel_footer_tmpl",function(){_i_("269:08eb46e2");var r=["\n  ",'\n    <p class="c-property-carousel__last-viewed">',"</p>\n  ","\n    ",'\n    <div class="bui-price-display c-property-carousel__price">\n      <div class="bui-price-display__label">',"/private/sxp_sr_thematic_search_starting_from_no_price/name",'</div>\n      <div class="bui-price-display__value">',"</div>\n    </div>\n  ",'\n    <div class="c-property-carousel__not-available">\n      ',"/private/sxp_sh_carousel_unavailable/name","\n    </div>\n  ","\n"],_=["carousel_item","priceFooter"];return _r_(function(e){_i_("269:3cfe5eb1");var t,i="",n=this.fn;return i+=r[0],n.MJ(n.MG((n.MC(_[0])||{}).last_booked))?i+=[r[1],(n.MC(_[0])||{}).last_booked,r[2]].join(""):n.MJ(n.MG((n.MC(_[0])||{}).last_viewed))&&(i+=[r[1],(n.MC(_[0])||{}).last_viewed,r[2]].join("")),i+=r[0],n.MD(_[1])&&(i+=r[3],t=i,_i_("269:4b6e4005"),t+=r[0],n.MJ(n.MG((n.MC(_[0])||{}).price_formatted))?t+=[r[4],n.ME(r[5],n.MB,n.MN,null),r[6],n.F.entities((n.MC(_[0])||{}).price_formatted),r[7]].join(""):n.MJ(n.MG((n.MC(_[0])||{}).not_available))&&(t+=[r[8],n.ME(r[9],n.MB,n.MN,null),r[10]].join("")),t+=r[11],i=_r_(t),i+=r[0]),i+=r[11],_r_(i)})}()),B.define("component/property-carousel",function(e,t,i){_i_("269:fd4a9168");var n=e("component"),r=e("jquery"),_=e("property-carousel/types-extensions"),o=n.extend({init:function(){_i_("269:785dc1a3");var i=(this.$el.data("content-to-exclude")||"").split(","),n=!!this.$el.data("show-not-available-if-no-price"),e=this.$el.data("type"),t=_(String(e));this.mediaCarousel=this.$el.find("[data-component*=media-card-carousel]").first().component("media-card-carousel"),t&&this.mediaCarousel.setLoadedDataTransformer(t.transformLoadedData),this.mediaCarousel.setOnLoadCallback(function(e){_i_("269:6998af6a"),((e=e||{}).b_hotels||e.data||e.acid_cards||[]).forEach(function(t){_i_("269:6b1967e0"),i.forEach(function(e){_i_("269:3c252078"),delete t[e],"class"===e&&delete t.quality_and_class,_r_()}),t.not_available=n&&!t.price_formatted,_r_()}),t&&t.onLoadCallback(e,this),_r_()}.bind(this)),this.mediaCarousel.setOnInitCallback(function(){_i_("269:061ae355"),this.$el.find(".c-property-carousel__review--collapsed").each(function(e){_i_("269:65b6b4d5");var t=r(this);if(t.get(0).scrollHeight>t.get(0).offsetHeight){var i=!0,n=t.next();n.show(),t.parent().on("click",function(e){_i_("269:d22b9222"),i=!i,e.stopPropagation(),e.preventDefault(),t[i?"addClass":"removeClass"]("c-property-carousel__review--collapsed"),n.text(i?"Show more ":"Show less"),_r_()})}else t.removeClass("c-property-carousel__review--collapsed");_r_()}),_r_()}),_r_()}});i.exports=o,_r_()}),B.define("property-carousel/use-type",function(e,t,i){_i_("269:ea63c79a"),i.exports=function(e){_i_("269:22d7592d");var t={onInitCallback:function(){},onLoadCallback:function(){},transformLoadedData:function(e){return _i_("269:6e298ebc"),_r_(e)}};return e({setOnInitCallback:function(e){_i_("269:eaea2b92"),t.onInitCallback=e,_r_()},setOnLoadCallback:function(e){_i_("269:2272685a"),t.onLoadCallback=e,_r_()},setLoadedDataTransformer:function(e){_i_("269:7c1fcd3f"),t.transformLoadedData=e,_r_()}}),_r_(t)},_r_()}),B.define("property-carousel/types-extensions",function(t,e,i){_i_("269:201dfde1"),i.exports=function(e){if(_i_("269:f4bf6d5a"),"6"===e)return _r_(t("property-carousel/types/hotel-history"));if("fuzzy-filters"===e)return _r_(t("property-carousel/types/fuzzy-filters"));_r_()},_r_()}),function(){_i_("269:0f0a4d03");var i=B.require("jquery"),r=o(B.env.b_current_datetime)||new Date,_={};function n(e){if(_i_("269:aa95e98b"),e&&_[e])return _r_(_[e]);var t,i,n=o(e);return n&&(0<(i=r.getTime()-n.getTime())&&i<=2592e6?t={isNew:!0}:0<i&&i<=7776e6&&(t={isRecent:!0}),_[e]=t),_r_(t)}function o(e){var t;if(_i_("269:7d0c2b95"),e&&(t=String(e).match(/^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2}).*/)))return _r_(new Date(+t[1],t[2]-1,+t[3]));_r_()}B.events.on(B.hotel.Events.Gallery.INIT,function(){_i_("269:16033836"),i("#photo_wrapper [data-photo-created]").each(function(){_i_("269:31eec510");var e=i(this),t=n(e.data("photoCreated"));t&&(e.attr("data-recent-photo-label",t.isNew?"new":"recent"),e.addClass("bh-photo-recent").html(B.jstmpl("template_gallery_new_photo").render(t))),_r_()}),_r_()}),B.events.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:506ea466"),!e||!e.modal||!e.modal.$modal)return _r_();e.modal.$modal.find("[data-photo-created]").each(function(){_i_("269:630fdb59");var e=i(this),t=n(e.data("photoCreated"));t&&e.addClass("bh-photo-modal-recent").html(B.jstmpl("template_gallery_new_photo_modal").render(t)),_r_()}),_r_()}),_r_()}(),B.define("component/prc/timebar",function(e,t,i){_i_("269:28e3ba18");var n=e("component");i.exports=n.extend({init:function(){_i_("269:9af0fa65"),this.is={valid:!1,rendered:!1},this.configure(),this.setup(),this.render(),!this.is.rendered&&this.data.inAccordion&&this.$el.closest(".js-toggle-class").one("js:expand",$.proxy(this.render,this)),_r_()},configure:function(){_i_("269:da6081b0"),this.data={fromString:this.$el.data("from"),untilString:this.$el.data("until"),fromLabel:this.$el.data("fromLabel"),untilLabel:this.$el.data("untilLabel"),name:this.$el.data("name"),caption:this.$el.data("caption"),parent:this.$el.data("parent")||".js-timebar-parent",parentClass:this.$el.data("parentClass")||"timebar-wrapper",inAccordion:this.$el.data("inAccordion"),isCompact:this.$el.data("inAccordion")||this.$el.data("compact"),fitWidth:this.$el.data("inAccordion")||this.$el.data("fitWidth"),extraClass:this.$el.data("extraClass"),animateOnView:this.$el.data("animateOnView"),minLabelsDistance:20,rtl:B.env.rtl||B.env.lang_is_rtl},_r_()},setup:function(){_i_("269:fcc8daa0");this.data.from=this.data.fromString?this._parseDateStr(this.data.fromString):0,24===this.data.from&&(this.data.from=0),this.data.until=this.data.untilString?this._parseDateStr(this.data.untilString):24,0===this.data.until&&(this.data.until=24),this.data.pos=this.data.rtl?"right":"left",void 0!==this.data.from&&void 0!==this.data.until&&this.data.until>this.data.from&&(this.is.valid=!0,this.data.barBegin=this.data.from/24*100,this.data.barEnd=this.data.until/24*100,this.data.barWidth=this.data.barEnd-this.data.barBegin,100===this.data.barEnd&&(this.data.barWidth=Math.ceil(this.data.barEnd-this.data.barBegin)),this.data.barCenter=this.data.barBegin+this.data.barWidth/2,this.data.fromLabelPos=this.data.barBegin-0,this.data.untilLabelPos=this.data.barEnd+0),this.$parent=this.$el.closest(this.data.parent),_r_()},render:function(){if(_i_("269:a3be783e"),!this.is.valid||!this.$el.is(":visible"))return _r_();var e,t,i,n,r,_,o,a,s,l,c,d,h,u,f,p,b,m,v=this.data.rtl?"marginRight":"marginLeft";this.$el.html(B.jstmpl("prc_timebar").render(this.data)),this.$parent.addClass(this.data.parentClass),r=this.$el.find(".timebar__caption"),i=(e=this.$el.find(".timebar__core")).width(),n=(t=e.offset()).left+i,r.length&&(a=-(_=r.outerWidth())/2,r.css(v,a),this.data.fitWidth&&((o=r.offset()).left<t.left?(s=t.left-o.left,l=-Math.min(s,_/2-8)):o.left+_>n&&(s=n-(o.left+_),l=Math.min(-s,_/2-8)),s&&r.css(v,this.data.rtl?a-s:a+s),l&&r.find(".timebar__caption-pointer").css("marginLeft",l))),c=this.$el.find(".timebar__label:visible").eq(0),u=this.$el.find(".timebar__label:visible").eq(1),b=this.$el.find(".timebar__bar").width()||1,(c.length||u.length)&&(h=c.width(),p=u.width(),m=Math.max(0,.5*(h+p+this.data.minLabelsDistance)-b),c.css(v,-.5*(h+m)),u.css(v,-.5*(h-m)),this.data.fitWidth&&(c.length&&((d=c.offset()).left<t.left||this.data.rtl&&d.left+h>n)&&c.hide(),u.length&&((f=u.offset()).left+p>n||this.data.rtl&&f.left<t.left)&&u.hide())),this.is.rendered=!0,this.data.animateOnView&&this._animateOnView(),_r_()},_parseDateStr:function(e){var t,i,n,r;return _i_("269:a85c51e4"),void 0!==e&&2===(t=$.trim(String(e)).split(":")).length&&(i=+t[0],n=+t[1],24===i&&0<n&&(i=0),0<=i&&i<=24&&0<=n&&n<=59&&(r=i+n/60)),_r_(r)},_animateOnView:function(){if(_i_("269:4ab43a61"),!B.tools||!B.tools.dom||"function"!=typeof B.tools.dom.watchIfBlockVisibleInViewport)return _r_();var e=this,t=this.$el.find(".timebar__bar").width(0);B.tools.dom.watchIfBlockVisibleInViewport(this.$el,function(){_i_("269:4ceed175"),setTimeout(function(){_i_("269:ec324c4a"),t.animate({width:e.data.barWidth+"%"},{duration:1e3,easing:$.easing&&$.easing.easeOutBack?"easeOutBack":"swing"}),_r_()},500),_r_()}),_r_()}}),_r_()}),booking.jstmpl("prc_timebar",function(){_i_("269:47242dc9");var n=['\n    <span class="timebar '," timebar_compact"," "," timebar_name-",'">\n        <span class="timebar__core">\n            <span class="timebar__base">\n                <span class="timebar__bar" style="',":","%; width:",'%"></span>\n            </span>\n            ','\n                <span class="timebar__label" style="','%">',"</span>\n            ","\n            ",'\n                <span class="timebar__caption" style="','<span class="timebar__caption-pointer"></span></span>\n            ',"\n        </span>\n    </span>\n"],r=["isCompact","name","extraClass","pos","barBegin","barWidth","fromLabelPos","fromLabel","untilLabelPos","untilLabel","barCenter","caption"];return _r_(function(e){_i_("269:997e0368");var t="",i=this.fn;return t+=n[0],i.MD(r[0])&&(t+=n[1]),t+=n[2],i.MD(r[1])&&(t+=[n[3],i.MC(r[1])].join("")),t+=n[2],i.MD(r[2])&&(t+=[n[2],i.MC(r[2])].join("")),t+=[n[4],i.MC(r[3]),n[5],i.MC(r[4]),n[6],i.MC(r[5]),n[7]].join(""),i.MD(r[7])&&(t+=[n[8],i.MC(r[3]),n[5],i.MC(r[6]),n[9],i.MC(r[7]),n[10]].join("")),t+=n[11],i.MD(r[9])&&(t+=[n[8],i.MC(r[3]),n[5],i.MC(r[8]),n[9],i.MC(r[9]),n[10]].join("")),t+=n[11],i.MD(r[11])&&(t+=[n[12],i.MC(r[3]),n[5],i.MC(r[10]),n[9],i.MC(r[11]),n[13]].join("")),t+=n[14],_r_(t)})}()),_i_("269:096ab056"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:4aac1f7c");var _=e("jquery"),o=e("trap-focus");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:2509d037");var i=0<t.find(".b-button_primary").length,n=t.find(".inline-feedback_lightbox");if(n.length){var r=parseInt(n.data("opened_count"));r?r+=1:r=1,n.data("opened_count",r),(2<r||!i)&&n.removeClass("g-hidden"),n.off("feedbackInline_showModal"),n.off("feedbackInline_hideModal"),n.off("feedbackInline_submitModal"),n.on("feedbackInline_showModal",function(){_i_("269:142ae0b3"),_(".feedback-modal-wrapper:visible").length&&o.trap(_(".feedback-modal-wrapper:visible")[0]),_r_()}).on("feedbackInline_hideModal",function(){_i_("269:d85d5fac1"),t.parent().length&&o.trap(t.parent()[0]),_r_()}).on("feedbackInline_submitModal",function(){_i_("269:d85d5fac"),t.parent().length&&o.trap(t.parent()[0]),_r_()})}_r_()}),_r_()}),_r_(),function(){_i_("269:35e2b0c2");var c="#rooms_table",d=".hprt-roomtype-bed",h=".js-lightbox-reserve-button-bed-options";B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:7c24c968");var l=e("jquery");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW,function(e,t){if(_i_("269:c0869a48"),e&&t&&t.length&&t.find(d).length){var i="bedPreference_"+e,n=t.find(h),r=t.find('input[name="lighbox_'+i+'"]'),_=l(c).find('input[name="'+i+'"]').not(r);r.off("click.bed");var o=_.filter(":checked");if(o){var a=o.val();if(a){var s=r.filter("[value="+a+"]");s.prop("checked",!0),s.data("reserve-url")&&n.attr("href",s.data("reserve-url"))}}r.on("click.bed",function(e){_i_("269:c8387ce6");var t=l(this).val();_.filter("[value="+t+"]").prop("checked",!0),l(this).data("reserve-url")&&n.attr("href",l(this).data("reserve-url")),_r_()})}_r_()}),_r_()}),_r_()}(),B.define("component/room-lightbox-async",function(e,t,i){_i_("269:3fee1357");var n=e("component"),r=e("et"),_=e("jquery"),o=e("jstmpl"),a=e("querystring"),f=e("events"),s=e("promise"),l=e("fragment"),p=e("server-data"),c=e("async-loader"),d=e("utils/throttled"),h=e("search-config"),u=e("utils/inviewport"),b=B.debug&&B.debug("room_lightbox_async_component"),m=!1,v=!1,g=".js-room-lightbox-loading-spinner",M=".js-room-lightbox-failure-message",w=n.extend({init:function(){_i_("269:73fcd1ac"),this.roomId=this.$el.data("room-id"),this.checkRoomIdFromUrlHash()!=this.roomId?this.prefetch_mode=this.$el.data("prefetch-mode"):b.log("prefetch mode disabled for room",this.roomId),b.log("init room async lightbox component",this.roomId,this.prefetch_mode),this.loadRoomTemplate(),_r_()},loadRoomTemplate:function(){_i_("269:6732d1d4"),v?this.onRoomTemplateLoaded():(v=!0,b.log("Loading Room lightbox main template"),c.load({js:"async_room_lightbox_js"}).then(function(){_i_("269:2052c581"),m=!0,this.onRoomTemplateLoaded(),_r_()}.bind(this),function(e){_i_("269:d8d74c6c"),v=!1,_r_()}.bind(this))),_r_()},load:function(u){if(_i_("269:dba0b975"),u){if(this.roomFragmentIsLoading)return _r_()}else this.showSpinner();if(this.roomId){if(!this.roomFragmentLoaded){var e=0;if(B.env.b_rooms_available_and_soldout){for(var t,i=0;i<B.env.b_rooms_available_and_soldout.length;i++){var n=B.env.b_rooms_available_and_soldout[i];n.b_id==this.roomId&&(t=n)}t&&0==t.b_blocks.length&&(e=1),t&&1==t.b_blocks.length&&!t.b_blocks[0].b_nr_stays&&(e=1)}var r={room_id:this.roomId,hotel_id:p.b_hotel_id,max_persons:void 0,search_config:h.getRawValue(),other_available_room_ids:p.b_available_room_ids||[],is_soldout:e,hide_existing_bed_rules:p.b_hiding_existing_beds,with_privacy_level:p.fe_pl_frag_fetch};return p.b_checkin_date&&"undefined"!=p.b_checkin_date&&(r.checkin=p.b_checkin_date),p.b_checkout_date&&"undefined"!=p.b_checkout_date&&(r.checkout=p.b_checkout_date),this.roomFragmentIsLoading=!0,b.log("loading room information",r),_r_(l.call("room.lightbox",r).then(function(e){_i_("269:0720027c"),b.log("room information loaded",e);var t=p.b_hotel_chains.filter(function(e){return _i_("269:6ef0678b"),_r_(1===e.b_chain_type_id&&[1,2,3].includes(e.b_adf_id))});if(e=Object.assign({},e,{b_guest_country:p.b_guest_country,b_checkin_checkout_interval:p.b_checkin_checkout_interval,b_has_valid_dates:p.b_has_valid_dates,b_has_valid_dates_not_in_past:p.b_has_valid_dates_not_in_past,b_rooms_have_different_privacy_level:p.fe_pl_frag_rwdpl,fe_show_fam_web_room_details_ceb_info:p.fe_show_fam_web_room_details_ceb_info,fe_is_managed_chain:Boolean(t.length)}),"www"===p.b_site_type&&p.b_pmc_has_virtual_tour){e.b_pmc_has_virtual_tour=p.b_pmc_has_virtual_tour,e.fe_lang_is_rtl=p.rtl;for(var i=0;i<e.rooms.length;i++)for(var n=e.rooms[i],r=0;r<n.b_room_data.length;r++){var _=n.b_room_data[r],o=_.b_virtual_tour_url;if(o){var a=_.b_photos[0],s=Object.assign({},a,{b_id:"vt-"+a.b_id,b_is_virtual_tour_image:1,b_virtual_tour_url:o});_.b_photos.unshift(s)}}}if("www"===p.b_site_type&&e.rooms.length&&p.fe_txp_work_friendly_room){var l=e.rooms[0].b_room_id,c=!1,d=p.fe_txp_work_friendly_room;for(var h in d)c=!(!d.hasOwnProperty(l)||1!==d[l]);e.rooms[0].b_room_data[0].b_txp_room_is_w_friendly=c}this.data=e,this.roomFragmentIsLoading=!1,this.roomFragmentLoaded=!0,m?u||this.renderRoomLightbox(e):(this.showErrorMessage(),u||f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el})),_r_()}.bind(this),function(e){_i_("269:6a3809c2"),this.showErrorMessage(),this.roomFragmentIsLoading=!1,u||f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el}),_r_()}.bind(this)))}if(u)return f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!0,roomId:this.roomId,$el:this.$el}),_r_(new s(function(e,t){_i_("269:1d53d411"),e(),_r_()}));this.data?this.renderRoomLightbox(this.data):b.error("data not loaded for room",this.roomId)}else this.showErrorMessage(),f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.$el.data("room-id"),$el:this.$el});_r_()},renderRoomLightbox:function(e){if(_i_("269:b182cef8"),e){b.log("render room info",this.roomId);var t=_('[data-reserve-room-id="'+this.roomId+'"]');if(m){var i=o("room_lightbox_async").render(e);this.$el.data("loaded",!0).html(i).hide().fadeIn(500).loadComponents(),this.$el.find(".rt-lightbox-reviews-container").hide(),t.length&&(this.$el.siblings(".js-async-room-lightbox-reserve").show(),this.$el.siblings(".js-async-room-lightbox-reserve").html(t.removeClass("g-hidden")))}else this.$el.find(".rt-lightbox-reviews-container").hide(),this.$el.siblings(".js-async-room-lightbox-reserve").hide(),this.showErrorMessage();r.initAttributesTracking(this.$el),window.BUI.initComponents(this.$el.get(0)),r.track("OTfdASFAdJYcDHBdJUKeYEGWe")&&_(".room-lightbox-container").on("keypress",".js-hotel-thumb",function(e){_i_("269:e1fe7d4b1"),_(e.target).is(".js-hotel-thumb")&&(32!==e.keyCode&&13!==e.keyCode||(_(e.target).trigger("click"),e.preventDefault())),_r_()}),f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!0,roomId:this.roomId,$el:this.$el})}else this.showErrorMessage(),f.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el});_r_()},onRoomTemplateLoaded:function(){if(_i_("269:5ac35088"),"on_page_load"==this.prefetch_mode)this.load(!0);else if("on_room_hover"==this.prefetch_mode){var e,t,i="scroll.roomLigthox-"+this.roomId;(t=B.env.b_has_valid_dates?_("#hprt-table").find(".hprt-roomtype-link[data-room-id="+this.roomId+"]"):_("#maxotel_rooms").find(".room-info#RD"+this.roomId)).length&&t.is(":visible")&&_(document).on(i,e=d(function(){_i_("269:4a180855"),b.log("checking room view port..",i),this.roomFragmentLoaded?_(document).off(i,e):!this.roomFragmentIsLoading&&u(t)&&(this.load(!0),_(document).off(i,e)),_r_()}.bind(this),250))}_r_()},checkRoomIdFromUrlHash:function(){_i_("269:324208b3");var e=a.parseUrl(location.href).query.activeTab;if(1==location.hash.indexOf("room")&&(e=location.hash.slice(1)),!e)return _r_(null);var t=e.match(/room_([0-9]*)_?.*/);if(!t||t.length<2||!t[1])return _r_(null);return _r_(t[1])},showErrorMessage:function(){_i_("269:13b074f0"),_(g).addClass("g-hidden"),_(M).removeClass("g-hidden"),_r_()},showSpinner:function(){_i_("269:3f864e79"),_(M).addClass("g-hidden"),_(g).removeClass("g-hidden"),_r_()}});i.exports=w,_r_()}),_i_("269:4ff5e4d1"),B.when({action:"hotel",events:"ready",condition:B.env.fe_hotel_has_360_photos&&B.env.fe_hotel_splash_360_url}).run(function(e){_i_("269:d8653b48");var i,t,n,r=e("jquery"),_=e("events"),o=B.hotel.Events,a=e("lazy-loader-image"),s="#vrViewPlayer",l="0",c="0",d="1";function h(){_i_("269:e0d999ee"),r("html").animate({scrollTop:r(s).offset().top-60},500),_r_()}function u(e){_i_("269:8e5115cb"),n=e;var t=r(s);window.VRView&&e&&1==t.length&&(i?i.setContent&&i.setContent({image:e}):(i=new window.VRView.Player(s,{image:e,width:"100%",height:"463px"})).on("ready",function(){_i_("269:c4f827fd"),_.emit(o.Map.REFRESH_STATIC_MAP),_r_()})),_r_()}var f=r("#VRViewTab"),p=window.BUI.createInstance("Tab",f.get(0),{onAfterTabChange:function(e){if(_i_("269:341bacb7"),e&&l!=e.id)if(l=e.id,i&&_.emit(o.Map.REFRESH_STATIC_MAP),l==d)u(n||B.env.fe_hotel_splash_360_url),window.BUI&&r(".hotel_360_gallery__carousel").length&&window.BUI.getInstance(r(".hotel_360_gallery__carousel").get(0)).onMount();else if(l==c)try{if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),window.dispatchEvent(t),document.dispatchEvent(t)}}catch(e){}_r_()}});a.initializeLazyLoaderImage("js-lazy-load-image"),p.mount(),r("js-hp-gallery-360-slide").show();var b=r(".bh-photo-modal");r(document).on("click",".js-view-360-carousel-thumb",function(e){_i_("269:b2a08ad3"),e.preventDefault(),u(r(this).data("originalPhoto")),r(this).addClass("selected_thumb"),t&&r(t).removeClass("selected_thumb"),r(t=this).addClass("selected_thumb"),_r_()}),r(b).on("click",".js-view-360-panorama-cta",function(e){_i_("269:523a9f30"),e.preventDefault(),b.trigger("closeModal"),p.changeTab(d),h(),_r_()}),r(document).on("error",".js-view-360-carousel-thumb--img",function(e){_i_("269:2543bea6"),r(this).hide(),_r_()}),r(".js-view-360-panorama-cta").on("click",function(e){_i_("269:523a9f301"),e.preventDefault(),b.trigger("closeModal"),p.changeTab(d),h(),_r_()}),_r_()}),_r_(),B.define("component/property_page/property_questions_answers",function(e,t,i){_i_("269:2f748388");var h=e("jquery"),l=e("et"),n=e("component"),u=e("browser-storage-handler"),c=e("events");if("www"==B.env.b_site_type)var d=e("sliding-panel-model"),f=e("trap-focus");var p=!1,b="g-hidden";i.exports=n.extend({init:function(){_i_("269:6f8b4e1a");var e=this.$el,i={totalCount:e.data("totalQuestions"),displayedCount:e.data("visibleQuestions"),maxQuestionsToShow:e.data("maxQuestionsToShow")},n=e.find(".js-guest-question"),r=e.find(".js-guest-question-form-wrapper"),_=e.find(".js-guest-questions-more");(p="www"==B.env.b_site_type&&i.totalCount)&&h(".js-qna_see-availability").on("click",function(e){_i_("269:8bd146fc"),e.preventDefault(),h(".sliding-panel-widget-close-button").click(),_r_()});c.on("user_submitted_question_now",function(){_i_("269:977ac3e5"),r.find(".js-ask-question-btn").addClass(b),p&&r.find(".js-ask-question-btn_side-panel").addClass(b),r.find(".js-guest-question-thankyou-section").hide().removeClass(b).fadeIn(),_r_()}),_.on("click",function(e){_i_("269:cdf86c57"),e.preventDefault();var t=i.displayedCount+10;t=Math.min(i.maxQuestionsToShow,t),n.slice(i.displayedCount,t).removeClass(b),i.displayedCount+=10,(i.displayedCount>=i.totalCount||i.displayedCount>=i.maxQuestionsToShow)&&(_.addClass(b),r.removeClass(b)),_r_()});var t="property_questions_form_"+B.env.b_hotel_id;if(e.data("roomId")&&(t+="_"+e.data("roomId")),u.getPermanentValue(t))r.find(".js-ask-question-btn").hide(),c.emit("user_submitted_question_previously"),p&&r.find(".js-ask-question-btn_side-panel").hide(),r.find(".js-guest-question-thankyou-section").hide().removeClass(b).fadeIn();else{if(p){var o=this;d.get("hp-qna-sliding").one("sliding-panel/show",function(){if(_i_("269:26237d8b"),r.length){var e=r.find(".js-ask-question-btn_side-panel");o.initAskQuestionModal(e,t,"")}_r_()})}if(r.length){var a=r.find(".js-ask-question-btn"),s=this.initAskQuestionModal(a,t,"");r.find(".js-ask-question-btn-trigger").length&&r.find(".js-ask-question-btn-trigger").on("click",function(){_i_("269:e55823af"),s.open(),_r_()})}}_r_()},initAskQuestionModal:function(e,_,o){_i_("269:10d4e529");var a=this;e.show();var s=window.BUI.createInstance("Modal",e.get(0),{onAfterOpen:function(){_i_("269:550e90c1"),p&&f.release();var e=h(this.modalEl),t=e.find("textarea.js-question-textarea"),i=h(this.modalEl).find(".js-question-disclaimer");i.click(function(){_i_("269:2d2d0410"),o=t.val(),s.close(),_r_()});var n=window.BUI.createInstance("Modal",i.get(0),{onAfterOpen:function(){_i_("269:7c886bbf"),h(this.modalEl).loadComponents(),l.initAttributesTracking(h(this.modalEl));var e=h(this.modalEl).find(".js-disclaimer-ask-question-btn");e.click(function(){_i_("269:1a781c80"),n.close(),_r_()}),a.initAskQuestionModal(e,_,o),_r_()}});n.mount();var r=e.find(".question-form-modal");a.initQuestionsForm(r,s,_,o),l.initAttributesTracking(e),e.loadComponents(),_r_()}});return s.mount(),_r_(s)},initQuestionsForm:function(e,o,a,t){_i_("269:38a3fcf1");var s=this,l=e.find(".js-guest-question-textarea-section"),c=l.find("textarea.js-question-textarea"),d=l.find(".js-guest-question-count-down");c.on("input change propertychange",function(){_i_("269:a1440ae6");var e=300-(this.value&&this.value.length||0),t=B.jstmpl.translations("propx_pp_qna_model_char_limit",e,{num_char:e});d.text(t),l.removeClass("bui-has-error"),d.removeClass("invisible"),d.removeClass("red-color"),d.removeClass("gray-color"),d.removeClass("orange-color"),e<0?(l.addClass("bui-has-error"),d.addClass("invisible")):e<=10?d.addClass("red-color"):e<=70?d.addClass("orange-color"):e<=140&&d.addClass("gray-color"),_r_()}),t&&(c.val(t),c.focus(),c.trigger("change")),e.find("button.js-submit-question").off("click.feedback").on("click.feedback",function(e){_i_("269:089aa0b4");var t=h(e.currentTarget).closest(".js-guest-question-modal"),i=c.val(),n=!1;if(B.env.auth_level&&0<parseInt(B.env.auth_level))n=!0;else{var r=t.find(".js-q-and-a-email-collection-field").val();n=!(!(r=t.find(".js-q-and-a-email-collection-field").val())||!/\S+@\S+\.\S+/.test(r))}var _=i&&10<i.length&&i.length<=300;_&&n?(t.find(".js-guest-question-thankyou-section").hide().removeClass(b).fadeIn(),s.submitQuestion(i,B.env.b_hotel_id,s.$el.data("roomId")||null,s.$el.data("source"),r,s.$el.data("id")),u.addPermanentValue(a,1),o&&o.close()):(_?t.find(".js-guest-question-textarea-section").removeClass("bui-has-error"):(c.one("animationend",function(){_i_("269:c4dc0dd6"),c.removeClass("apply-shake"),_r_()}),c.addClass("apply-shake").focus(),l.addClass("bui-has-error"),d.addClass("invisible")),n?(t.find(".js-q-and-a-email-malformed").hide(),t.find(".js-q-and-a-email-section").removeClass("bui-has-error")):(t.find(".js-q-and-a-email-malformed").show(),t.find(".js-q-and-a-email-section").addClass("bui-has-error"))),_r_()}),_r_()},submitQuestion:function(e,t,i,n,r,_){if(_i_("269:f2daf56e"),e&&t){var o={question:e,hotel_id:t,room_id:i,metadata:{frontend_location_source:n},email_address:r};o.metadata=JSON.stringify(o.metadata),h.ajax({url:"/roomcontent/q_and_a_submit_question",type:"post",data:o,xhrFields:{withCredentials:!0},success:function(e){_i_("269:7f6ce736"),c.emit("user_submitted_question_now",n,_),_r_()},error:function(e){}})}_r_()}}),_r_()}),B.define("component/property_page/property_questions_answers/questions_answers_voting",function(e,t,i){_i_("269:eb65612e");var r=e("jquery"),n=e("component"),_=e("browser-storage-handler"),o="property_questions_vote_",a={helpful:"1",unhelpful:"0"};i.exports=n.extend({init:function(){_i_("269:0d8eb2f5"),this.method=this.el.method,this.action=this.$el.attr("action"),this.questionId=this.$el.find('input[name="question_id"]').val(),this.submittedVote=void 0,this.$submitButtons=this.$el.find(".js-vote-submit"),this.$upvoteMessage=this.$el.find(".js-question-upvote__message"),this.$downvoteMessage=this.$el.find(".js-question-downvote__message");var e=_.getPermanentValue(o+this.questionId);null!=e?this.submittedVote=e:this.attachEvents(),this.render(),_r_()},attachEvents:function(){_i_("269:46e48baa"),this.$el.on("submit.guestVoting",this.handleSubmit.bind(this)).on("click.guestVoting",".js-vote-submit",this.handleSubmit.bind(this)),_r_()},detachEvents:function(){_i_("269:11543e3e"),this.$el.off(".guestVoting"),_r_()},render:function(){(_i_("269:45eef53f"),void 0===this.submittedVote)?(this.$submitButtons.prop("disabled",!1).show(),this.$upvoteMessage.hide(),this.$downvoteMessage.hide()):((this.submittedVote===a.helpful?this.$upvoteMessage:this.$downvoteMessage).show(),this.$submitButtons.prop("disabled",!0).hide());_r_()},handleSubmit:function(e){if(_i_("269:d1ae69fc"),e&&e.preventDefault(),"form"===e.currentTarget.nodeName.toUpperCase())return _r_();var t=this,i=r(e.currentTarget).data("type");this.submittedVote=a[i],this.render();var n={hotel_id:B.env.b_hotel_id,question_id:this.questionId,vote:i};r.ajax({url:this.action,data:n,method:this.method,success:function(e){_i_("269:ea755485"),t.handleSubmitSuccess(i),_r_()},error:this.handleSubmitError.bind(this)}),_r_()},handleSubmitSuccess:function(e){_i_("269:390e3f04"),this.submittedVote=a[e],_.addPermanentValue(o+this.questionId,this.submittedVote),this.detachEvents(),_r_()},handleSubmitError:function(){_i_("269:bee707ca"),this.submittedVote=void 0,this.render(),_r_()}}),_r_()}),B.define("component/covid/fine_print_covid_banner",function(e,t,i){_i_("269:bc0d7c49");var n=e("component");i.exports=n.extend({init:function(){_i_("269:059d9c0c");var e=this;"mdot"!=B.env.b_site_type&&"hotel"==B.env.b_action||e.$el.find(".js_show_more").click(function(){_i_("269:80a37672"),e.$el.find(".js_covid_standard_phrase").show(),e.$el.find(".js_show_more").hide(),_r_()}),_r_()}}),_r_()}),B.define("px/behavior-tracker",function(e,t,i){_i_("269:d8c3a131");var r=e("jquery"),_=e("c360Tracker"),o=e("report-error"),n={fields:{TRAVEL_PRODUCT:"travel_product",PRODUCT_TYPE:"travel_product_type",PRODUCT_ID:"travel_product_id",PRODUCT_PHOTO_COUNT:"travel_product_photo_count",GRID_ITEMS:"grid_items",GRID_ITEM:"grid_item",IMAGE_ID:"image_id",IMAGE_POSITION:"image_position",IMAGE_LAYOUT:"image_layout",ROOM_ID:"room_id"},trackBehavior:function(e,t,i){if(_i_("269:e18d5e59"),!e||!t)return o("[px/behavior-tracker] Action name and version is required!"),_r_(!1);var n={action_name:e,action_version:t,content:i};return _r_(_.track(n))},trackOnClick:function(e,t,i,n){_i_("269:082d0bde"),r(e).on("click",function(){_i_("269:bc3ba571"),this.trackBehavior(t,i,n),_r_()}.bind(this)),_r_()}};i.exports=n,_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:5d3a2ae8");var r=e("px/behavior-tracker"),t=e("events"),i=B.hotel.Events,n=function(){_i_("269:7ad5c252");var e={};return e[r.fields.PRODUCT_TYPE]="accommodation",e[r.fields.PRODUCT_ID]=B.env.b_hotel_id||"0",_r_(e)}(),_=[];function o(){_i_("269:1b9c8287");var e={};return e[r.fields.TRAVEL_PRODUCT]=n,_r_(e)}t.on(i.PhotoGrid.GALLERY_PREVIEW_IMAGE_CLICKED,function(e,t,i){_i_("269:f719774d");var n=o();n.grid_item={image_id:String(e),image_layout:i,image_position:t},r.trackBehavior("property_experience__hp_gallery_preview_image_clicked","2.0.0",n),_r_()}),t.on(i.PhotoGrid.GRID_IMAGES_DISPLAYED,function(t){if(_i_("269:3c045c80"),!t)return _r_(!1);var e=o();_=t.map(function(e){return _i_("269:9f1334da"),_r_({image_id:e.id,image_position:t.indexOf(e)})}),e[r.fields.GRID_ITEMS]=_,r.trackBehavior("property_experience__hp_gallery_displayed","2.0.0",e),_r_()}),t.on(i.PhotoGrid.USER_CLICKED_ON_GRID_IMAGE,function(e,t){_i_("269:1c56b75d");var i=String(e)||"0",n=o();n.grid_item={image_id:i,image_position:t},r.trackBehavior("property_experience__hp_gallery_grid_image_clicked","1.0.0",n),_r_()}),t.on(i.PhotoGrid.USER_CLICKED_BACK_TO_GRID,function(e,t){_i_("269:0c0a5ff5");var i=String(e)||"0",n=o();n.grid_item={image_id:i,image_position:t},r.trackBehavior("property_experience__hp_gallery_slider_back_to_grid_clicked","1.0.0",n),_r_()}),r.trackOnClick(".bh-photo-modal-name-cta .js-reserve-button","property_experience__hp_gallery_modal_reserve_now_clicked","1.0.0",o()),$(".bh-photo-modal").on("click",".js-bh-photo-modal-layout .js-gallery__last-item__cta",function(){_i_("269:82cc8c28"),r.trackBehavior("property_experience__hp_gallery_lock_screen_reserve_now_clicked","1.0.0",o()),_r_()}),t.on(i.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED,function(){_i_("269:28706e39"),r.trackBehavior("property_experience__hp_gallery_close_modal_clicked","1.0.0",o()),_r_()}),t.on(i.PhotoGrid.GALLERY_SLIDER_NAVIGATED,function(e,t){_i_("269:a3234d3d");var i=o();i.grid_item={image_id:String(e)||"0",image_position:t},r.trackBehavior("property_experience__hp_gallery_slider_navigated","1.0.0",i),_r_()}),t.on(i.PhotoGrid.USER_CLICKED_ON_GALLERY_ROOM_NAME,function(e,t,i){_i_("269:2a0f462b");var n=o();n.grid_item={image_id:String(e)||"0",image_position:t},n.room_id=i,r.trackBehavior("property_experience__hp_gallery_room_name_clicked","1.0.0",n),_r_()}),t.on(i.PhotoGrid.MODAL_VIEW_ALL_PHOTOS,function(){_i_("269:55f57dca");var e=o();e[r.fields.GRID_ITEMS]=_,r.trackBehavior("property_experience__hp_gallery_all_images_viewed","1.0.0",e),_r_()}),t.on(i.PhotoGrid.HP_GALLERY_GRID_SCROLL_TO_END,function(){_i_("269:1e4cdce2");var e=o();e[r.fields.GRID_ITEMS]=_,r.trackBehavior("property_experience__hp_gallery_grid_scrolled_to_end","1.0.0",e),_r_()}),t.on(i.RT.ROOM_LIGHTBOX_GALLERY_NAVIGATED,function(e,t,i){_i_("269:b3b5c233");var n=o();n.grid_item={image_id:String(e)||"0",image_position:t},n.room_id=String(i),r.trackBehavior("property_experience__rp_gallery_images_slider_navigated","1.0.0",n),_r_()}),t.on(i.RT.ROOM_LIGHTBOX_GALLERY_PHOTOS_DISPLAYED,function(t,e){if(_i_("269:3c384ea8"),!t)return _r_(!1);var i=o();_=t.map(function(e){return _i_("269:90c69944"),_r_({image_id:e,image_position:t.indexOf(e)})}),i[r.fields.GRID_ITEMS]=_,i.room_id=String(e),r.trackBehavior("property_experience__rp_gallery_displayed","1.0.0",i),_r_()}),t.on(i.PhotoGrid.USER_HOVERED_ON_GRID_IMAGE,function(e,t){_i_("269:43e81061");var i=String(e)||"0",n=o();n.grid_item={image_id:i,image_position:t},r.trackBehavior("property_experience__hp_gallery_grid_image_hovered","1.0.0",n),_r_()}),t.on(i.PhotoGrid.GRID_IMAGES_VIEWED,function(t){if(_i_("269:39ef9ad8"),!t)return _r_(!1);var e=o();_=t.map(function(e){return _i_("269:26d89e4c"),_r_({image_id:String(e),image_position:t.indexOf(e)})}),e[r.fields.GRID_ITEMS]=_,r.trackBehavior("property_experience__hp_gallery_grid_images_viewed","1.0.0",e),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:b86a979b");var t=e("c360Tracker"),_=e("server-data"),o=e("querystring"),i=B.debug("C360_PROPERTY_EVENT_TRACKER_VIA_FE");function n(){if(_i_("269:342e80f9"),_.b_checkin_date)return _r_(String(_.b_checkin_date));if(_.b_todays_date)return _r_(String(_.b_todays_date));var e=new Date;return _r_(e.toISOString().substring(0,10))}function r(){if(_i_("269:ec2b0bc9"),_.b_checkout_date)return _r_(String(_.b_checkout_date));if(_.b_tomorrows_date)return _r_(String(_.b_tomorrows_date));var e=new Date;return e.setDate(e.getDate()+1),_r_(e.toISOString().substring(0,10))}if(_.fe_feature_running_C360_PROPERTY_EVENT_TRACKER_VIA_FE&&_.b_search_config){var a={travel_product:function(){_i_("269:8f11abf7");var e={checkin:n(),checkout:r(),displayed_price:function(){var e,t;_i_("269:049f3c4e");var i=_.request||o.parseUrl(window.location.href),n=[];if(i&&i.query&&i.query.highlighted_blocks&&i.query.highlighted_blocks.split(",").forEach(function(t){_i_("269:0f706e3e"),_.b_blocks_by_id?t in _.b_blocks_by_id&&n.push(_.b_blocks_by_id[t]):_.b_rooms_available_and_soldout&&_.b_rooms_available_and_soldout.forEach(function(e){_i_("269:32c0dd5e"),e.b_blocks&&e.b_blocks.forEach(function(e){_i_("269:986ccf0a"),t==e.b_block_id&&n.push(e),_r_()}),_r_()}),_r_()}),n.length){t=n[0].b_currency||_.b_selected_currency||_.b_hotel_currencycode,e=n[0].b_price_breakdown_simplified.b_headline_price_amount;for(var r=1;r<n.length;r++)e+=n[r].b_price_breakdown_simplified.b_headline_price_amount}return _r_({value:e?Number(e):0,currency:t?String(t):""})}(),displayed_price_value_eur:0,travel_product_id:Number(_.b_hotel_id),travel_product_items:(_i_("269:46764063"),_r_([])),travel_product_type:"accommodation",travel_product_ufi:_.fe_ufi?Number(_.fe_ufi):0};return _r_(e)}(),search_parameters:function(e){_i_("269:11972ed3");var t={checkin:n(),checkout:r(),children_ages:e.b_children_ages_total||[],filters_selected:[],flex_window:0,location_parameters:{destination_id:_.b_dest_id?Number(_.b_dest_id):0,destination_type:_.b_dest_type?String(_.b_dest_type):"",latitude:_.b_map_center_latitude?Number(_.b_map_center_latitude):0,longitude:_.b_map_center_longitude?Number(_.b_map_center_longitude):0,radius:0,search_string:""},number_adults:e.b_adults_total?Number(e.b_adults_total):0,number_children:e.b_children_total?Number(e.b_children_total):0,number_rooms:e.b_nr_rooms_needed?Number(e.b_nr_rooms_needed):0,travel_purpose:_.b_user_is_business_booker?"business":"leisure"};return _r_(t)}(_.b_search_config),search_token:""};return i.info("c360Tracker->track: ",a),_r_(t.track({action_name:"accommodation__product_details_served",action_version:"3.0.0",content:a}))}_r_()}),B.define("component/property_page/property_questions_answers/questions_answers_translation",function(e,t,i){_i_("269:39c93e44");var n=e("jquery"),r=e("component");i.exports=r.extend({init:function(){_i_("269:aa9eb2af"),this.$translationBtn=this.$el.find(".js-toggle-translation"),this.attachEvents(),_r_()},attachEvents:function(){_i_("269:f2765479"),this.$translationBtn.on("click",this.handleTranslationToggle.bind(this)),_r_()},handleTranslationToggle:function(){_i_("269:d264a9db"),this.isTranslated=this.$el.data("isTranslated"),this.questionInnerText=this.$el.find(".js-question-inner-text"),this.answerInnerText=this.$el.find(".js-answer-inner-text"),this.translationBtnText=this.$translationBtn.find("span"),this.toggleTranslatedQnA([this.questionInnerText,this.answerInnerText,this.translationBtnText],this.isTranslated),this.$el.data("isTranslated",!this.isTranslated),this.$el.find(".translated-by").toggleClass("g-hidden"),_r_()},toggleTranslatedQnA:function(e,t){_i_("269:fefb2e5c"),n(e).each(function(){_i_("269:563d1093");var e=t?n(this).data("original"):n(this).data("translated");n(this).text(e),_r_()}),_r_()}}),_r_()}),_i_("269:7a7e8f3c"),window.B&&B.env&&B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:2c2904e1");var r=e("jquery"),_=e("booking-sticker"),o=r(".k2-hp--description .hp-description"),a=r(".hp-description__show_more"),s=r(".k2-hp--property_highlights_sidebar"),l=!!a.length,c=s.height(),d=o.height();!function(){if(_i_("269:86109fc9"),r(".js-k2-hp--block").filter(function(){return _i_("269:5f83df81"),_r_(""===r.trim(r(this).text()))}).addClass("k2-hp--empty_block"),r(".js-k2-hp--block").filter(function(){return _i_("269:e9761798"),_r_(0===r(this).children().length)}).hide(),!s.length)return l&&o.removeClass("k2-hp_main_desc--collapsed"),_r_();if(50<d-c){if(l){var e,t=(parseInt(s.css("margin-top"))||0)+3,i=c<150?150:c+t;r("body").hasClass("hprstrc")&&(i-=16),window.location.hash&&0===window.location.hash.indexOf("#RD")&&(e=r('a[name="'+window.location.hash.replace("#","")+'"]')),o.css({overflow:"hidden",position:"relative"}),o.height(i),o.removeClass("k2-hp_main_desc--collapsed"),a.addClass("hp-description__show_more--visible"),e&&e.length&&r.scrollTo(e.offset().top);var n=function(){_i_("269:cd760dd8"),o.height("auto"),a.remove(),_.update(),_r_()};a.on("click",n),B.env.fe_hp_replace_autogen_with_hop&&o.find(".js-hp-description-hop-tab").on("click",n)}}else l&&o.removeClass("k2-hp_main_desc--collapsed");_r_()}(),_r_()}),_r_(),B.define("component/search/group/group-with-modal",function(e,t,i){_i_("269:78024c2c");var n=e("component"),r=e("search/searchbox/model"),_=e("read-data-options"),o=e("jquery"),a=e("et");i.exports=n.extend({init:function(){_i_("269:fee68c1d"),this.options=_(this.$el,{modelId:{name:"sb-id",type:String,required:!0},groupShowCloseButton:{name:"sb-group-show-close-button",type:Boolean}}),this.$modal=this.$el.find("[data-group-modal]"),this.$toggle=this.$el.find("[data-group-toggle]"),this.model=r.getInstance(this.options.modelId),this.model.use("group"),this.$roomCount=this.$el.find("[data-room-count]"),this.$guestCount=this.$el.find("[data-guest-count]"),this.$adultsCount=this.$el.find("[data-adults-count]"),this.$childrenCount=this.$el.find("[data-children-count]"),this.addModelListeners(),this.addEventListeners(),this.$el.find("#xp__guests__input").remove(),_r_()},addModelListeners:function(){_i_("269:3380d4e7"),this.model.on("change",this.modelChange.bind(this)),this.model.on("init",this.modelChange.bind(this)),this.model.on("validation",this.modelValidation.bind(this)),_r_()},addEventListeners:function(){_i_("269:7058a8dc"),this.$el.on("focus",function(e){_i_("269:66928a09"),this.toggleModal(!0),_r_()}.bind(this)),this.$toggle.on("mousedown",function(e){_i_("269:4dec3563"),this.toggleModal(!this.modalOpen),_r_()}.bind(this)),o(document).on("mouseup",function(e){_i_("269:034f0b0e"),o(e.target).closest(this.$el).length||this.toggleModal(),_r_()}.bind(this)),this.$el.find("input").on("focus",function(e){if(_i_("269:c52febb3"),this.modalOpen)return _r_();this.toggleModal(!0),_r_()}.bind(this)),this.options.groupShowCloseButton&&this.$el.find("button#doneBtn").on("click",function(e){if(_i_("269:b84d1aa2"),!this.modalOpen)return _r_();this.toggleModal(!1),_r_()}.bind(this)),_r_()},modelValidation:function(e){_i_("269:8410cdba"),e&&!e.valid&&"children-ages"===e.validationError&&this.toggleModal(!this.modalOpen),_r_()},toggleModal:function(e){if(_i_("269:78ae0a96"),this.$modal.css("display",e?"block":"none"),this.$toggle[e?"attr":"removeAttr"]("data-group-toggle-shown",1),this.$toggle.attr("aria-expanded",!!e),this.modalOpen=e,this.$modal[0]&&"xp__guests__inputs-container"===this.$modal[0].id&&e){a.stage("INFddKNKNKPBDJJHMVGPLTLReASdVLT",4);var t=this.model.group.get();t&&t.children_ages&&t.children_ages.length&&a.stage("INFddKNKNKPBDJJHMVGPLTLReASdVLT",5)}_r_()},modelChange:function(e){_i_("269:652a2f0c"),"group"==e.group&&this.render(),_r_()},render:function(e){_i_("269:04a42523");var t=+(e=this.model.group.get()).adults_count,i=e.children_ages.length,n=t+i,r=e.rooms_count;this.$roomCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_rooms",r,{num_rooms:r})),this.$adultsCount.html(B.jstmpl.translations("sxp_index_sbox_horizontal_adults",t,{num_adults:t})),this.$guestCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_guests",n,{num_guests:n})),this.$childrenCount.html(B.jstmpl.translations("sxp_lp_sbox_num_children",i,{num_children:i})),_r_()}}),_r_()}),B.define("component/prevent-default-helper",function(e,t,i){_i_("269:6ec0d5fa"),i.exports=e("component").extend({init:function(){_i_("269:4c0d614c");var e=this.$el[0];if(!e)return _r_();"#"===e.getAttribute("href")&&e.addEventListener("click",function(e){_i_("269:b662324c1"),e.preventDefault(),_r_()}),_r_()}}),_r_()}),_i_("269:53d47fde"),B.when({action:"hotel",events:"ready",condition:function(e){return _i_("269:67f4ccc5"),_r_(e.fe_is_exp_running_px_www_property_page_questions_answers_migration)}}).run(function(e){_i_("269:2e0b2a5e");var i=e("events"),t=e("with-capla"),n=e("hotel/rooms_table/gently_select_rooms"),r="CAPLA_EVENT_property-web-property-page_SLIDER_RESERVE_CLICKED",_="CAPLA_EVENT_property-web-property-page_SEE_AVAILABILITY_CLICKED",o="CAPLA_EVENT_property-web-property-page_QUESTION_SUBMITTED_VIA_SURVEY",a="user_submitted_question_now";t("property-web","property-page",function(e){_i_("269:8de51a80");var t=e.eventBus;i.on(a,function(e){_i_("269:878d95af"),"property-mfe"!=e&&t.publish(o),_r_()}.bind(this)),t.subscribe(_,function(e,t){_i_("269:12ffb25e"),n.scrollToRoomsTable(),_r_()}),t.subscribe(r,function(e,t){_i_("269:12ffb25e1"),n.scrollToRoomsTable(),_r_()}),_r_()})(),_r_()}),_r_(),B.when({events:"ready",action:"hotel",condition:B.env.b_show_mybooking_promo&&"www"===B.env.b_site_type}).run(function(e){_i_("269:4b064b15");var t=e("jquery"),i=t(document),n=t(".js-pb_hp_upcoming_booking_banner-base"),r=n.find(".js-pb_hp_upcoming_booking_banner"),_=t("#individualrooms"),o="mod-sticky-banner",a="mod-hidden",s=e("et"),l=0,c=0,d=0,h=n.outerHeight(),u=null;if(!n.length)return _r_();var f=t.fly.dropdown.create(".js-pb_hp_upcoming_booking_banner--dropdown",{position:"bottom center",extraClass:"fly-dropdown--onload-shower",content:function(){return _i_("269:c7cc15b9"),_r_(t(".js-pb_hp_upcoming_booking_banner--dropdown-content"))}});function p(){if(_i_("269:1eb66644"),l=i.scrollTop(),c<l?(n[0].style.height=h+"px",b(!0),f.hide()):b(!(n[0].style.height="auto")),!d)return _r_();m(d<l),_r_()}function b(e){_i_("269:e69b0dcd"),r.toggleClass(o,e),_r_()}function m(e){_i_("269:134f567e"),r.toggleClass(a,e),_r_()}s.track("IZENYPERAMDBcPOeFYeMOKe")||i.on("scroll",function(){if(_i_("269:6519087b"),u)return _r_(!0);u=setTimeout(function(){_i_("269:0def7441"),clearTimeout(u),u=null,p(),_r_()},100),_r_()}),s.track("IZENYPERAMDBcPOeFYeMOKe")||(_i_("269:f4ac9aa8"),c=n.offset().top,_.length&&(d=_.offset().top-50),_r_(),p()),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:85963bfc");var t=e("jquery"),i=e("server-data"),n=document.getElementById("bv_license"),r=document.querySelector(".js-dotcn-license-modal-trigger");if(!n||!r)return _r_();var _=n.content.querySelector(".js-dotcn-load-hotel-license");_&&t.get("/cn/hotel/license",{aid:i.b_aid,hotel_id:i.b_hotel_id},function(e){if(_i_("269:587b8092"),!e.qualified)return _r_();if(e.license_photo_urls&&e.license_photo_urls.length){_.setAttribute("src",e.license_photo_urls[0]);var t='<a data-modal-id="bv_license" data-bui-component="Modal" class="bui-link bui-link--primary">';t+=B.jstmpl.translations("china_infra_cn_project_hotel_page_licence_entry"),t+="</a>",r.innerHTML=t,window.BUI.createInstance("Modal",r.children[0]).mount()}else r.textContent=B.jstmpl.translations("china_infra_cn_project_hotel_page_licence_verified");_r_()}),_r_()}),B.when({events:"ready",condition:"hotel"===B.env.b_action}).run(function(e){_i_("269:46403713");var t,i=$("#bp_hp_back_count");if(0===i.length)return _r_();t=Math.floor(i.val()),t+=1,i.val(t),1<t&&$("#roomsForm").prepend('<input type="hidden" name="bp_hp_back" value="1" />'),_r_()}),function(){"use strict";_i_("269:9d4bf9f5"),B.when({events:"ready",condition:B.env.b_has_abandoned_cart_data&&"www"===B.env.b_site_type}).run(function(){function t(e){return _i_("269:8fb98477"),_r_($(e).parents(".abandoned-cart-growl-notification a"))}_i_("269:19ec40db"),$(document).on("mouseenter",".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp",function(e){_i_("269:7990468b"),t(e.target).addClass("bp_sca_growl_hp_link_active"),_r_()}),$(document).on("mouseleave",".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp",function(e){_i_("269:897f823f"),t(e.target).removeClass("bp_sca_growl_hp_link_active"),_r_()}),$(document).on("click","a.abandoned-cart-growl-notification, .abandoned-cart-growl-notification a",function(e){_i_("269:4174a427"),$(e.target).is(".abandoned-cart-growl-item-hotel-info__hotel_name")&&(e.preventDefault(),e.stopPropagation(),window.open($(e.target).attr("data-hotel-page-url"),"_blank").focus()),_r_()}),_r_()}),_r_()}(),_i_("269:8ca0dd02"),B.when({condition:1,events:"ready"}).run(function(e){_i_("269:c88f9325");var t=e("jquery");booking.events.on("growl:growlClosedManually",function(e){_i_("269:67779a9f"),e&&e.type.indexOf("abandoned-cart-growl-notification")&&e.growlElem.attr("data-cart-id")&&t.ajax({method:"POST",url:"/hide_sca_data",data:{cart_id:e.growlElem.attr("data-cart-id"),source:"growl"},success:function(e){}}),_r_()}),_r_()}),_r_(),function(){function e(c){function d(){return _i_("269:b452dfed"),_r_((new Date).getTime())}function h(){return _i_("269:039acd8a"),_r_(1e9*Math.random()|0)}_i_("269:b0cca8b5");var u=d()+":"+h();function f(i){return _i_("269:ed2c3567"),_r_(function(){_i_("269:9ec1f2e6");var e=c[i];if(!e)return _r_(null);var t=e.split(/\|/);if(parseInt(t[1])<d())return _r_(null);return _r_(t[0])})}function p(e,t,i){_i_("269:05abda44");var n=e+"__MUTEX_x",r=e+"__MUTEX_y",_=f(r);function o(){_i_("269:5d9fb582");try{t()}finally{c.removeItem(r)}_r_()}if(c[n]=u,_())return i||setTimeout(function(){_i_("269:1009e21a"),p(e,t),_r_()},0),_r_(!1);return c[r]=u+"|"+(d()+40),c[n]!==u?(i||setTimeout(function(){_i_("269:7631060a"),_()!==u?setTimeout(function(){_i_("269:cc51bc54"),p(e,t),_r_()},0):o(),_r_()},50),_r_(!1)):(o(),_r_(!0))}function b(e,t,i,n){_i_("269:360991b5"),i=i||5e3;var r=e+"__MUTEX",_=f(r),o=u+":"+h()+"|"+(d()+i);function a(){_i_("269:921801bb"),setTimeout(function(){_i_("269:5727f9c1"),b(e,t,i),_r_()},10),_r_()}if(_())return n||a(),_r_(!1);var s=p(e,function(){if(_i_("269:5f32f5c2"),_())return n||a(),_r_(!1);c[r]=o,n||setTimeout(l,0),_r_()},n);if(n&&s)return l(),_r_(!0);return _r_(!1);function l(){_i_("269:dbc4686c");try{t()}finally{p(e,function(){if(c[r]!==o)throw e+" was locked by a different process while I held the lock";c.removeItem(r)})}_r_()}}return _r_({lock:function(e,t,i){_i_("269:5058c836"),b(e,t,i,!1),_r_()},trySyncLock:function(e,t,i){return _i_("269:7481d7fd"),_r_(b(e,t,i,!0))}})}_i_("269:277f2115"),window.isLSTrackerIframe?window.getLockableStorage=e:B.define("getLockableStorage",function(){return _i_("269:f930a8cf"),_r_(e)}),_r_()}(),B.when({action:"hotel",events:"ready"}).run(function(e){function t(e,t){_i_("269:0cabc5a3");e=parseInt(e),t=parseInt(t);return _r_(t<e?1:e<t?-1:0)}_i_("269:cc8c0941");var i,n=e("jquery"),r=e("et"),_="BUEGBHVUSeUXBHeFEXO",o=n("#property_description_content"),a=o.get(0),s=o.length&&o.text().trim().split(/\s+/).length,l={0:2,3:3,10:4,25:5,50:6},c={0:7,65:8,95:9},d=0,h=Object.keys(l).sort(t),u=Object.keys(c).sort(t);if(a){r.on("view",a).stage(_,1);for(var f=u.length-1;0<=f;f--)if(s>=u[f]){r.on("view",a).stage(_,c[u[f]]);break}i=setInterval(function(){if(_i_("269:2ad7ca69"),!h.length)return _r_(clearInterval(i));(function(e){var t,i,n;if(_i_("269:d99764d1"),!e)return _r_(!1);if(!e.parentElement)return _r_(!1);if(!e.getBoundingClientRect)return _r_(!0);if(t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,t.right<0||t.left>n||0===t.top&&0===t.left&&0===t.right&&0===t.bottom)return _r_(!1);return _r_(t.top<i)})(a)&&++d>=h[0]&&r.stage(_,l[h.shift()]),_r_()},1e3)}_r_()}),B.define("component/content-agency/property-desc-tracker/property-desc-tracker",function(e,t,i){_i_("269:65c08dd3");var n="mdot"===(window.B||window.booking).env.b_site_type,r=e("component"),_=e("et"),o=e("jquery"),a=B.debug("content_agency_debug"),s=!1,l=void 0,c=function(){_i_("269:6d977478"),function(){if(_i_("269:5e932974"),s)return _r_();_.stage("THHSODPNGZfSeUHMDMKdFbQKae",1),s=!0,_r_()}(),void 0===l&&(a.log("Starting property description timer"),l=Date.now()),_r_()},d=function(){if(_i_("269:8973770a"),void 0===l)return _r_();var e=Date.now(),t=Math.round((e-l)/1e3);a.log("Time spent with description on view: "+t+" seconds. Stopping timer"),0<t&&_.goalWithValue("js_time_spent_reading_description",t),l=void 0,_r_()};i.exports=r.extend({init:function(){_i_("269:620083f6"),n?this.mdotTracker():this.desktopTracker(),_r_()},mdotTracker:function(){_i_("269:51e8b2e4");var e=function(){_i_("269:fae289cb"),_.customGoal("THHSODPNGZfSeUHMDMKdFbQKae",1),d(),c(),setTimeout(function(){_i_("269:793abd40"),o(window).one("click",function(){_i_("269:0530f103"),d(),_r_()}),_r_()},100),_r_()},t=function(){return _i_("269:a2af512a"),_r_(null!==document.querySelector("#hotel-desc-full"))};_i_("269:00e82619"),setTimeout(function(){_i_("269:74330861"),t()&&e(),_r_()},100),_r_(),o('[data-tab-id="property-description-drawer"]').on("click",e),document.addEventListener("visibilitychange",function(){_i_("269:339b2da6"),"visible"===document.visibilityState&&t()?c():d(),_r_()}),document.addEventListener("beforeunload",d),_r_()},desktopTracker:function(){_i_("269:786e1fd5");var e=new IntersectionObserver(function(e){_i_("269:f863ee75"),e[0]&&e[0].isIntersecting?c():d(),_r_()}),t=document.querySelector("#property_description_content"),i=function(){_i_("269:ace669b8"),e.observe(t),_r_()},n=function(){_i_("269:d272890d"),e.unobserve(t),d(),_r_()},r=function(){_i_("269:efa56423"),n(),i(),_r_()};i(),document.addEventListener("visibilitychange",function(){_i_("269:32b4b09e"),"visible"===document.visibilityState?r():n(),_r_()}),document.addEventListener("beforeunload",n),o(window).on("click",r),_r_()}}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius&&$("#free_breakfast_for_genius")&&!B.env.is_rooms_table_splitter,action:"hotel",events:"ready"}).run(function(e){_i_("269:6e09621d"),e("jquery")(".rt__ge-free-breakfast-tell-me-more").mouseover(function(e){_i_("269:6df5cf02"),e.stopPropagation(),_r_()}),_r_()}),B.when({events:"ready"}).run(function(e){_i_("269:ca7187bd");var i=e("server-data").b_blocks_available_in_genius;if(!i||0===Object.keys(i).length)return _r_();var n=e("jquery"),r=e("et"),_=e("hotel/store");function o(e){return _i_("269:23d631d8"),_r_("js-genius-fusion-banner-"+e)}function a(e){return _i_("269:0bf4834b"),_r_(n("."+o(e)))}function s(e,i){_i_("269:f3f94757");var t=function(e){_i_("269:badf4c87");var t=e.split("_");return _r_(t[0])}(e);n('tr[data-block-id^="'+t+'"] .-first').attr("rowspan",function(e,t){return _i_("269:8f7d2603"),_r_(i?parseInt(t)-1:parseInt(t)+1)}),_r_()}_.subscribe(function(){_i_("269:d38be5e7");var t=_.getState().roomsTable.js_selection.blockIDs;Object.keys(i).forEach(function(e){_i_("269:02c2cb9d"),-1<t.indexOf(e)?function(e){if(_i_("269:5ddf738a"),a(e).length||!e)return _r_();(function(e){_i_("269:da0790dc");var t=n("#ge-rt-signin-banner-template");if(!t.length)return _r_(!1);var i=n('tr[data-block-id="'+e+'"]');return n(t.clone().html()).filter("table").find("tr").addClass(o(e)).data("block-id",e).insertAfter(i).loadComponents(),r.initAttributesTracking(),_r_(!0)})(e)&&s(e);_r_()}(e):function(e){_i_("269:2a2478e4");var t=a(e);t.length&&(t.remove(),function(e){_i_("269:f01f6989");var t=n('tr[data-block-id="'+e+'"]');t.find(".hprt-table-cell-conditions").removeClass("ge-pp-rt-benefits-popover__arrow"),t.find(".hprt-remove-top-border").removeClass("hprt-remove-top-border"),_r_()}(e),s(e,!0));_r_()}(e),_r_()}),_r_()}),_r_()}),B.when({events:"ready",condition:B.env.genius_mail_marketing_dismiss_id}).run(function(e){_i_("269:70344bc6");var t=e("dismiss-item"),i=e("server-data"),n=i.genius_mail_marketing_dismiss_id,r="mdot"===i.b_site_type?"Drawer":"Modal",_=window.BUI.createInstance(r,null,{id:"ge-mail-marketing",size:450,onAfterOpen:function(){_i_("269:a8b087b5"),t(n),_r_()}});_.mount(),_.open(),_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:1e70f08d");var t=e("jquery");t(".js-fly-content-tooltip[data-ge-fly-tooltip]").on("click",function(){_i_("269:8f07eca1");var e=t(".roomArea");e.length&&t("html, body").animate({scrollTop:e.offset().top-30},800),_r_()}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius,action:"hotel",events:"ready"}).run(function(e){_i_("269:d3f46688");var t=e("jquery"),i=t(".js-rt__summary__reserve-button"),n=i.find("span.b-button__text").first(),r=i.data("ge-discount-cta"),_=n.text(),o={},a={};function s(e){return _i_("269:46288f4f"),_r_(Object.keys(e).length)}B.events.on(B.hotel.Events.RT.ROOM_SELECTED,t.proxy(function(e){if(_i_("269:c5532fa3"),function(e){_i_("269:af6ab9dc");var t=e.has_genius_rate?o:a;0!=+e.no_rooms?t[e.block_id]=e:t[e.block_id]&&delete t[e.block_id],_r_()}(e),!r||!_)return _r_();var t=s(o),i=s(a);0<t&&!i?n.text(r):n.text(_),_r_()},this),this),_r_()}),B.when({condition:"www"===B.env.b_site_type}).require(["require"],function(e){_i_("269:bb0d7fa1");var t=e("booking-sticker"),i=e("jquery"),n=i(".hp_desc_main_content"),r=!!i(".room-facilities-highlights").length,_=i(".hp-description__show_more"),o=i(".property_hightlights_wrapper"),a=!!_.length,s=i(".property_highlights_genius_lightweight");if(B.env.b_is_vacation_rental&&(s=i(".property_hightlights_wrapper")),!o.length)return a&&n.removeClass("hp_desc_main_content_collapsed"),_r_();var l=o.height();if(100<n.height()-l){if(a){var c,d=(parseInt(o.css("margin-top"))||0)+3,h=l<150?150:l+d;B.env.b_is_vacation_rental&&(h+=60),s.length&&!r&&(h-=10),i("body").hasClass("hprstrc")&&(h-=16),window.location.hash&&0===window.location.hash.indexOf("#RD")&&(c=i('a[name="'+window.location.hash.replace("#","")+'"]')),n.css({overflow:"hidden",position:"relative"}),n.height(h),n.removeClass("hp_desc_main_content_collapsed"),_.addClass("hp-description__show_more--visible"),c&&c.length&&i.scrollTo(c.offset().top);var u=function(){_i_("269:5b039260"),n.height("auto"),_.remove(),t.update(),_r_()};_.on("click",u),B.env.fe_hp_replace_autogen_with_hop&&n.find(".js-hp-description-hop-tab").on("click",u)}}else a&&n.removeClass("hp_desc_main_content_collapsed");_r_()}),function(){function s(e,t,i,n,r,_,o){_i_("269:80d422a6");var a={behaviour_name:e||"",hotel_id:t||"",attribute_name:i||null,attribute_value:n||null,batch_data:r||null};$.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:a,success:_,error:o}),_r_()}_i_("269:9418b8d6"),B.when({action:"hotel",condition:"www"==B.env.b_site_type}).run(function(e){_i_("269:cf22cf91");var i,o=e("jquery"),n=B.require("ga-tracker"),r=n.ugcdTracker||"UGC Review Page",_="#blockdisplay4",t=B.require("events"),a=!1;o(_).on("change","#room_id_filter",function(){_i_("269:a4a909b1"),n.trackEvent(r,"Filter Unit",this.value),s("review_list_filter_room",B.env.b_hotel_id,"Filter Room",this.value),_r_()}),o(_).on("change","#reviewer_type_filter",function(){_i_("269:7c4095e4"),n.trackEvent(r,"Filter Group",this.value),s("review_list_filter_group_type",B.env.b_hotel_id,"Filter Group",this.value),_r_()}),o(_).on("change","#review_score_filter",function(){_i_("269:8c7327cf");var e=this.value||"all";n.trackEvent(r,"Filter Range",e),s("review_list_filter_range",B.env.b_hotel_id,"Range",e),_r_()}),o(_).on("change",".language_filter_checkbox",function(){_i_("269:67f95409"),this.checked&&(n.trackEvent(r,"Filter Language",this.value),s("review_list_language_filter",B.env.b_hotel_id,"Language",this.value)),_r_()}),o(_).on("click",".bui-inline-container--topics-wrapper .bui-input-checkbutton",function(){_i_("269:f9a049bd");var e=o(this).find("input.bui-input-checkbutton__input"),t=e.data("categoryName")||e.data("category-id");n.trackEvent(r,"Filter Topic",t),clearTimeout(i),i=setTimeout(function(){_i_("269:6b3046cb"),s("review_list_topic_filter",B.env.b_hotel_id,"Topic name",t),_r_()},100),_r_()}),o(_).on("change","#review_sort",function(){_i_("269:ae4d2d72");var e=this.value||"recommended";n.trackEvent(r,"Sorting Selected","Sorting: "+e),s("review_list_sort",B.env.b_hotel_id,"Sort method",e),_r_()}),o(_).on("click",".c-review-block__photos__button",function(){_i_("269:30db8bd9"),n.trackEvent(r,"Review Item","Click: Traveller photos"),s("review_list_interaction",B.env.b_hotel_id,"Interacted element","photo"),_r_()}),o(_).on("click",".review-helpful__form-submit",function(){_i_("269:52f3800b"),n.trackEvent(r,"Review Item","Click: helpful"),_r_()}),o(_).on("click",".review-policy__open",function(){_i_("269:7c10e6a5"),n.trackEvent(r,"Verified Reviews Banner","Click: read more"),_r_()}),o(_).on("click",".review-tab-other-properties ul li",function(){_i_("269:21b17f98"),n.trackEvent(r,"Compset","Click: property"),_r_()}),t.on("reviews-tab-opened",function(){_i_("269:8fecc85f"),n.trackEvent(r,"Reached",null),s("review_list_viewed",B.env.b_hotel_id,null,null),_r_()}),o(_).on("click",".bui-pagination__link, .pageprev, .pagenext",function(){_i_("269:8c87125e"),a=!0,_r_()}),t.on("REVIEWS:fetched",function(){if(_i_("269:3a93fc4a"),!a)return _r_();var e,t=o(_).find(".pagenext").attr("href"),i=o(_).find(".pageprev").attr("href");t?e=(e=t.match(/offset=([0-9]+)/))[1]/10:i?(e=i.match(/offset=([0-9]+)/),e=Math.floor(e[1]/10)+2):e="",n.trackEvent(r,"Paging","Page: "+e),s("review_list_pagination",B.env.b_hotel_id,"Page",e),a=!1,_r_()}),function(){if(_i_("269:b870ab5d"),!B.env.feature_track_reviews_on_view)return _r_();var e,n=[],r=[],t=[],i=[],_=o("#blockdisplay4").find(".sliding-panel-widget-scrollable");_.on("scroll",function(){_i_("269:8cbe0fec"),clearTimeout(e),e=setTimeout(function(){_i_("269:a0fbc562");_.find(".review_list_new_item_block[data-review-url]").each(function(e,t){_i_("269:38eb2c21");var i=o(this).data("review-url");(function(e){_i_("269:57d1c3ac");var t=o(e);if(!t.length)return _r_(!1);return o(window).height()>=t.offset().top-o("html").scrollTop()+t.height()?_r_(!0):_r_(!1)})(this)&&-1==r.indexOf(i)&&-1==n.indexOf(i)&&n.push(o(this).data("review-url")),_r_()}),function(){if(_i_("269:7ee026da"),!n.length)return _r_();t=[],i=[];for(var e=0;e<n.length;e++)t.push({attribute_name:"review_url",attribute_value:n[e]}),i.push(n[e]);n=[],s("review_list_review_seen",B.env.b_hotel_id,null,null,t,function(){_i_("269:de592585"),r=r.concat(i),_r_()},function(){_i_("269:27f5dd76"),n=n.concat(i),_r_()}),_r_()}(),_r_()},500),_r_()}),_r_()}(),_r_()}),_r_()}(),$(function(){if(_i_("269:d3443a6c"),!B.env.run_vpm_d_hp_show_related_review_gallery)return _r_();var e=$("#photo_wrapper"),t=e.find(".reviews-carousel-control-right"),i=e.find(".reviews-carousel-control-left"),n=e.find(".hp-gallery-control-next"),r=e.find(".hp-gallery-control-prev");t.on("click",function(){_i_("269:17024668"),n.triggerHandler("click"),_r_()}),i.on("click",function(){_i_("269:b95d2dfc"),r.triggerHandler("click"),_r_()}),_r_()}),B.define("component/fly-jstmpl-tooltip",function(e,t,i){"use strict";_i_("269:6399e227");var a=e("jquery"),n=e("component"),r=e("utils"),_=e("jstmpl");i.exports=n.extend({init:function(){_i_("269:6d2c64e7"),this.data=r.nodeData(this.$el),this.env=this._prepareEnv(this.data.env),r.assertExists(this.data,"template");var e=this.data.target?a(this.data.target):this.$el;this.data.showOnHover?this.popup=this.getTooltip(e,this.data.template).create(e):this.popup=this.getPopup(e,this.data.template).create(e),_r_()},destroy:function(){_i_("269:e0c0cc21"),this.popup._destroy(),_r_()},getPosition:function(){return _i_("269:04893b33"),_r_(this.data.position||(booking.env.rtl?"bottom left":"bottom right"))},getData:function(){return _i_("269:867e130f"),_r_(this.data)},_prepareEnv:function(){_i_("269:071e09c0");for(var e={},t=(this.data.env||"").split(","),i=0;i<t.length;++i)e[t[i]]=B.env[t[i]];return _r_(e)},_render:function(e,t,i){_i_("269:6a72c78f"),e.html(_(t).render(Object.assign({},this.env,i))).loadComponents(),_r_()},getTooltip:function(e,t){_i_("269:5983fd52");var i=this.getData();return _r_(this.getPopupBase(e,a.fly.tooltip,t,i).extend({defaults:{extraClass:this.data.extraClass,position:this.getPosition(),content:"",showDelay:200,baseClass:"fly-dropdown",hideClass:"fly-dropdown_hidden",keepOnContent:!0}}))},getPopup:function(_,e){_i_("269:4fb9d63f");var o=this,t=this.getData();return _r_(this.getPopupBase(_,a.fly.dropdown,e,t).extend({defaults:{extraClass:this.data.extraClass,position:this.getPosition(),content:""},_autohide:function(e){_i_("269:69bd40d8");var t=this,i="mousedown"+t.ens;if(!e)return _r_();function n(){_i_("269:1f804622"),a(document).bind(i,function(e){if(_i_("269:72dc3e8d"),_.get(0)===e.target||a.contains(_.get(0),e.target)||a.contains(t.root().get(0),e.target))return _r_();t.hide(),_r_()}),_r_()}function r(){_i_("269:2b60ee9a"),t.root().delegate(".js-close",i,function(){_i_("269:9d1f1248"),t.hide(),_r_()}),_r_()}this.bind(this.events.show,function(){_i_("269:4dfdca20"),setTimeout(r,0),_r_()}),o.data.preventAutoHide||this.bind(this.events.show,function(){_i_("269:b04d94d0"),setTimeout(n,0),_r_()}).bind(this.events.hide,function(){_i_("269:9f2657a9"),a(document).unbind(i),_r_()}),_r_()}}))},getPopupBase:function(e,t,i,n){_i_("269:8b443286");var r=this.data.activeClass,_=this._render.bind(this);return _r_(t.extend({_render:function(){_i_("269:997575fc"),_(this.root(),i,n),this._rendered=!0,_r_()},_position:function(){_i_("269:42843886");var e=this.options.position.split(" "),t=a.fly._mixin.position.apply(this),i=this._rect(this.root()),n=this._rect(this.handle());switch(e[2]){case"handle-left":t.left=n.left;break;case"handle-right":t.left=n.left+n.width-i.width}return _r_(t)},init:function(){_i_("269:d350cb84"),r&&this.bind(this.events.show,e.addClass.bind(e,r)).bind(this.events.hide,e.removeClass.bind(e,r)),_r_()}}))}}),_r_()}),B.define("component/social/social-share",function(e,t,i){"use strict";_i_("269:7beb090b");var n=e("component"),r="https://www.facebook.com/sharer/sharer.php?u=",_="https://twitter.com/intent/tweet?url=",o="-facebook",a="-email",s="-twitter",l="-link",c=/(&|;|\?)(aid=)(\d+)/;i.exports=n.extend({init:function(){_i_("269:98ef8213"),this.setElements(),this.setOptions(),this.updateLinks(),this.attachEvents(),_r_()},setElements:function(){_i_("269:6bcbf8a0"),this.$fbBtn=this.$el.find(".component-social_share-button-facebook"),this.$copyBtn=this.$el.find(".component-social_share-button-link"),this.$emailBtn=this.$el.find(".component-social_share-button-email"),this.$twitterBtn=this.$el.find(".component-social_share-button-twitter"),this.$copyNotification=this.$copyBtn.find(".component-social_share-button-copy_notification"),_r_()},setOptions:function(){_i_("269:d0cf5c11"),this.baseURL=this.$el.data("shareUrl"),this.$el.data("additionalUrlParams")&&(this.additionalUrlParams=this.$el.data("additionalUrlParams")),this.urlHashTag=this.$el.data("urlHashTag")?this.$el.data("urlHashTag"):"",this.shortenUrl=!!this.$el.data("shortenUrl"),this.stripParams=!!this.$el.data("stripUrlParams"),this.aidKeep=!!this.$el.data("keepAid"),this.aidOverride=this.$el.data("aidOverride"),this.aidCurrent=!!window.location.href.match(c)&&window.location.href.match(c)[3],this.socialLabelBase=this.$el.data("socialTrackingLabel")?"&label="+this.$el.data("socialTrackingLabel"):"",_r_()},attachEvents:function(){_i_("269:8a527902");var t=this;this.$fbBtn.on("click",function(e){_i_("269:8eb42741"),e.preventDefault(),t.showPopupWindow($(this).attr("href"),"",630,320),_r_()}),this.$twitterBtn.on("click",function(e){_i_("269:6cdd84d2"),e.preventDefault(),t.showPopupWindow($(this).attr("href"),"",630,420),_r_()}),this.$copyBtn.on("click",this.copyLink.bind(this)),_r_()},updateLinks:function(){_i_("269:c95d707d"),this.preformatBaseLink(),this.$fbBtn&&this.$fbBtn.attr("href",r+encodeURIComponent(this.baseURL+this.generateSocialLabel(o)+this.urlHashTag)),this.$twitterBtn&&this.$twitterBtn.attr("href",_+encodeURIComponent(this.baseURL+this.generateSocialLabel(s)+this.urlHashTag)),this.$emailBtn&&this.$emailBtn.attr("href","mailto:?subject="+this.$emailBtn.data("emailSubject")+"&body="+encodeURIComponent(this.baseURL+this.generateSocialLabel(a)+this.urlHashTag)),this.$copyBtn&&this.$copyBtn.attr("href",this.baseURL+this.generateSocialLabel(l)+this.urlHashTag),_r_()},copyLink:function(e){if(_i_("269:119e461d"),e.preventDefault(),document.execCommand){this.$copyBtn.find("input").val(this.$copyBtn.attr("href")).removeClass("g-hidden").select();var t=document.execCommand("copy");this.$copyBtn.find("input").addClass("g-hidden"),t&&this.$copyNotification&&this.$copyNotification.fadeIn(150).delay(1e3).fadeOut(150)}else window.prompt(this.$copyBtn.data("promptText"),this.$copyBtn.attr("href"));_r_()},generateSocialLabel:function(e){return _i_("269:10e01d4a"),_r_(this.socialLabelBase?this.socialLabelBase+e:"")},preformatBaseLink:function(){_i_("269:afd53c87"),this.stripParams&&this.removeParameters(),this.additionalUrlParams&&this.addParamstoUrl(this.additionalUrlParams),this.updateAid(),_r_()},updateAid:function(){var e;if(_i_("269:5ecbaf33"),e=this.aidOverride?this.aidOverride:this.aidCurrent,this.aidKeep)if(e&&c.test(this.baseURL)){var t=this.baseURL.match(c);e=t[1]+t[2]+e,this.baseURL=this.baseURL.replace(c,e)}else e&&this.addParamstoUrl("&aid="+e);_r_()},minifyUrl:function(e){},removeParameters:function(){_i_("269:61220b16"),this.baseURL=this.baseURL.split("?")[0]+"?",_r_()},addParamstoUrl:function(e){_i_("269:082c931d"),this.baseURL+=e,_r_()},showPopupWindow:function(e,t,i,n){_i_("269:9957ea84");var r=window.screen.width/2-i/2,_=window.screen.height/2-n/2;return _r_(window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+n+", top="+_+", left="+r))}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:38fea4c2");var t,i=$(".review-tab-other-properties"),n=i.find(".slider-track").find("ul"),r=n.find("li"),_=B.env.rtl?i.find(".next-property"):i.find(".prev-property"),o=B.env.rtl?i.find(".prev-property"):i.find(".next-property"),a=r.outerWidth(),s=parseInt(r.css("margin-left"),10)+parseInt(r.css("margin-right"),10),l=0;function c(){_i_("269:4757d0b5"),l=0<l?l-1:0,h(),_r_()}function d(){_i_("269:2ab34a05"),l=l<r.length?l+1:r.length,h(),_r_()}function h(){_i_("269:0348b112");var e=B.env.rtl?"right":"left";n.css(e,(a+s)*-l+(l?26:0)+(l==r.length-2?26:0)),l==r.length-2?o.hide():o.show(),0==l?_.hide():_.show(),_r_()}function u(){_i_("269:308c4c3f"),r.length&&!t&&(t=!0,n.width(r.length*(a+s)),_.on("click",c),o.on("click",d)),l=0,h(),_r_()}B.events.on("reviews-tab-opened",u),B.hotel.hashedTabs.getVisibleTab().filter('[data-tab="reviews"]').length&&u(),B.events.on("hotel:reviewlist:request:tab",function(){_i_("269:c8680b1c"),i.hide(),_r_()}),B.events.on("hotel:reviewlist:success:tab",function(){_i_("269:5c03dfbd"),$(".review-tab-other-properties-tracker").clone().prependTo($("#blockdisplay4 .review_list > li").last()).show(),i.show(),_r_()}),_r_()}),B.define("component/onview-animate",function(e,t,i){_i_("269:a9c045a21");var s,n=e("component");s=B.tools&&B.tools.dom&&"function"==typeof B.tools.dom.watchIfBlockVisibleInViewport?B.tools.dom.watchIfBlockVisibleInViewport:e("core/utils/onview").run;var r=n.extend({init:function(){_i_("269:f2ef57861");var i=this.$el,n=i.attr("data-anim-type")||"",r=i.attr("data-onview-cls")||"",_=i.attr("data-onview-cls-remove")||"",o=i.attr("data-rollup-time")||1500;function a(e){_i_("269:078808c11");var t=e&&e.type;switch(n){case"rollover":setTimeout(function(){_i_("269:e5b3a7041"),i.addClass("rollover-anim"),setTimeout(function(){_i_("269:377e5cdf1"),i.removeClass("rollover-anim"),_r_()},o),_r_()},"string"==typeof t?10:(_i_("269:7e1a7fc51"),_r_(Math.floor(400*Math.random()+300)+500)));break;default:setTimeout(function(){_i_("269:46409f5e1"),_.length&&i.removeClass(_),i.addClass(n).addClass(r).trigger("complete.anim"),_r_()},Math.floor(250*Math.random())+500)}_r_()}(i.attr("data-anim-trigger")||"onview").trim().split(/\s+/).forEach(function(e){_i_("269:13420ab31"),function(e){switch(_i_("269:2a8b3b371"),e){case"mouseenter":var t;"rollover"==n?(i.on("mouseenter",function(){_i_("269:d605800b1"),clearTimeout(t),t=setTimeout(function(){_i_("269:7b3c01c81"),i.addClass("rollover-anim"),_r_()},100),_r_()}),i.on("mouseleave",function(){_i_("269:a16cbdb71"),clearTimeout(t),t=setTimeout(function(){_i_("269:377e5cdf3"),i.removeClass("rollover-anim"),_r_()},100),_r_()})):i.on("mouseenter",a);break;case"manual":i.on("anim.onview",a);break;case"click":i.on("click",a);break;case"onview":default:s(i,a)}_r_()}(e.trim()),_r_()}),_r_()}});i.exports=r,_r_()}),B.define("component/gallery-side-reviews",function(e,t,i){_i_("269:33727b39");var n=e("component"),r=e("jquery"),_=e("events");i.exports=n.extend({openClass:"open",init:function(){_i_("269:7b244bc8"),this.sideBody=this.$el.find(".gallery-side-reviews-wrapper__body"),this.sideHeader=this.$el.find(".gallery-side-reviews-wrapper__header"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:2b877829"),_.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,r.proxy(this.onGalleryOpen,this)),_.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,r.proxy(this.onGalleryClose,this)),_.on(B.hotel.Events.PhotoGrid.MODAL_LAYOUT_CHANGED,r.proxy(this.onGalleryOpen,this)),_r_()},onGalleryOpen:function(){_i_("269:499ab934"),this.$el.addClass(this.openClass),this.fixListUi(),_r_()},onGalleryClose:function(){_i_("269:9803221c"),this.$el.removeClass(this.openClass),_r_()},fixListUi:function(){_i_("269:bf844c3c");var e=this.sideHeader.outerHeight();e&&this.sideBody.css("top",e),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:42621eb4");var t,i,n,r=e("jquery"),_=500,o=500,a="reviewFloater--hidden",s=!1,l=!1,c=!1,d=!1,h=!1,u=r("#photo_wrapper, #photo_wrapper .hp-gallery-controls .hp-gallery-control, .bh-photo-grid"),f=r("#photo_wrapper .hp-gallery-controls .hp-gallery-control"),p=r("#reviewFloater");if(!u.length||!p.length)return _r_();function b(e){_i_("269:95d572d6"),s=!0,v(),_r_()}function m(e){_i_("269:9ff9ab17"),s=!1,c||g(_),_r_()}function v(e){_i_("269:e12d4820"),e=e&&!isNaN(e)?e:o,clearTimeout(i),t=setTimeout(function(){if(_i_("269:ccaa122e"),l||h)return _r_();p.stop().addClass(a),d=!(h=!0),_r_()},e),_r_()}function g(e){if(_i_("269:1660ca31"),d||clearTimeout(t),!h)return _r_();if(s&&!l)return _r_();h=!1,e&&!isNaN(e)?i=setTimeout(function(){_i_("269:c533dc8f"),p.stop().show(0).removeClass(a),_r_()},e):p.stop().show(0).removeClass(a),_r_()}n=u,_i_("269:373437c7"),n.on("mouseenter",b),n.on("mouseleave",m),_r_(),p.on("mouseenter",function(e){_i_("269:678bc700"),l=!0,g(),_r_()}),p.on("mouseleave",function(e){_i_("269:81657828"),l=!1,v(),_r_()}),f.on("mouseenter",function(){_i_("269:e0133abd"),c=!0,_r_()}),f.on("mouseleave",function(){_i_("269:3cb9fc33"),c=!1,_r_()}),r(window).on("keyup",function(e){_i_("269:73ea1f4b"),e&&e.which&&(39==e.which||37==e.which)&&(d=!0,v(1),g(2*_));_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_full_screen_side_reviews}).run(function(e){_i_("269:ddc9a764");var a=e("jquery"),t=e("fragment"),i=e("events"),r=void 0,n=void 0,_=void 0,o=void 0,s=e("jstmpl"),l=a(".similar-ugc-photos-container"),c=".gallery_ugc_similar_photos",d=e("tooltip"),h={},u="gallery_ugc_similar_photos_tooltip_container";if(0===l.length)return _r_();function f(e,t){var i,n;if(_i_("269:cd646a12"),r&&e&&r[e]){if(p(t),i=r[e],a.each(i,function(e){_i_("269:2f2fb010"),i[e].id&&i[e].ugc_photo_id||(i=i.splice(e,1)),_r_()}),!i.length)return _r_();n=s("hp_d_gallery_similar_ugc_photos").render({photosData:i}),function(){_i_("269:de7a7fba");var e=B.env.b_hotel_id;a.ajax({method:"GET",url:"/has_seen_similar_photos",data:{hotel_id:e},error:function(e){},success:function(){}}),_r_()}(),l.append(n),t||a(c).hide(0).slideDown(),function(o){if(_i_("269:ae56ef10"),!a(c).length)return _r_();a(c+" ul li").each(function(){_i_("269:e565a5a2");for(var r=a(this),e=r.data("ugc-img-id"),t=r.data("related-img-id"),i=void 0,n=0;n<o.length;n++)if(o[n].ugc_photo_id==e){i=o[n];break}if(!i)return _r_();r.on("mouseenter",function(){var e,t,i,n;_i_("269:fa275b05"),e="reviews_gallery_ugc_photo_hovered",t=B.env.b_hotel_id,i="photo_id",n=r.data("ugc-img-id"),_i_("269:428e0c74"),a.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:e||"",hotel_id:t||"",attribute_name:i||null,attribute_value:n||null},success:function(e){},error:function(e){}}),_r_(),_r_()}),i&&i.ugc_photo_url&&i.ugc_photo_url.max500&&function(e){if(_i_("269:6b8fc00b"),!e)return _r_();(new Image).src=e,_r_()}(i.ugc_photo_url.max500),h[t]=h[t]||{};var _="";_+=u,i&&i.id&&(_+=" photo_id_"+i.id),h[t][e]=d.setup({target:c+' li[data-ugc-img-id="'+e+'"]',contentTemplate:"hp_d_gallery_similar_ugc_photos_tooltip",contentTemplateData:i,trigger:"hover",customClass:_}).show().hide(),r.on("blur mouseleave remove",function(){_i_("269:d21bc2c0"),h[t]&&h[t][e]&&(h[t][e].hide(),i&&i.id&&a(".photo_id_"+i.id).hide(0)),_r_()}),i&&i.id&&r.on("mouseenter",function(){_i_("269:6e8a2505"),a(".photo_id_"+i.id).show(0),_r_()}),_r_()}),a("."+u).hide(0),_r_()}(i)}_r_()}function p(e){if(_i_("269:36a115b2"),a(c).length)for(var t in e?a(c).hide().remove():a(c).slideUp(function(){_i_("269:9f35ab9d"),a(this).remove(),_r_()}),h)if(t!=n)for(var i in h[t])h[t]&&h[t][i]&&h[t][i].hide().destroy();_r_()}i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(){if(_i_("269:a81fc7ad"),!r){t.call("ugc.display.similar_ugc_photo",{hotel_id:B.env.b_hotel_id,max_photos:4,sort:"similarity",version:2}).then(function(e){_i_("269:5ec9c9c0"),function(e){_i_("269:bdab4644"),e?(r=e,_&&f(_)):(_i_("269:3d608920"),p(),_r_());_r_()}(e),_r_()})}_r_()}),i.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){_i_("269:a618c598"),o=n||void 0,e&&e.modal&&e.modal.activePhotoId?(n=e.modal.activePhotoId,_=e.modal.activePhotoId):_=n=void 0;n&&r&&r[n]?f(n,o):(p(void 0),n=void 0);_r_()}),_r_()}),B.when({action:"hotel",events:"load",condition:B.env.fe_autotranslate_featured_reviews}).run(function(e){_i_("269:2087a310");var t=e("translatable-review/modules/review-translate"),i=B.env.fe_translatable_featured_review_urls||[],n=B.env.fe_translatable_featured_review_parts||[];0<i.length&&t.batchTranslate({review_urls:i.join(","),text_parts:n.join(","),target_lang:B.env.b_lang_for_url,broadcast:!0}).then(function(e){_i_("269:32b14c9a"),"www"===B.env.b_site_type&&(B.env.fe_featured_reviews_translated=e.translations),_r_()}),_r_()}),B.when({action:["hotel","unit"],events:"ready"}).run(function(e){_i_("269:0d40bfa2");var i,n,r=e("jquery"),_=e("events");if("www"==B.env.b_site_type)var o=e("trap-focus");n={init:function(){_i_("269:fa397bad"),this.$formLoginButton=r(".ugc_add_review_entrypoint_modal--login-or-details .js-button-log-in-write-review"),this.$formSubmitDetails=r(".ugc_add_review_entrypoint_modal--reservation_details form"),this.$formSubmitDetailsButton=r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details"),this.attachEvents(),_r_()},attachEvents:function(){_i_("269:fba2271d"),this.$formLoginButton.length&&this.$formLoginButton.on("click",this.openSignInForm.bind(this)),this.$formSubmitDetailsButton.length&&(this.$formSubmitDetailsButton.on("click",this.submitDetailsForm.bind(this)),r(".ugc_add_review_entrypoint_modal--reservation_details").on("keydown",'input[type="text"]',this.processKeyDownOnDetailsForm.bind(this))),_r_()},openSignInForm:function(e){if(_i_("269:debb366a"),i.closeModal(),"mdot"===B.env.b_site_type)_.one("TABNAV.signin_loaded",this.setRedirectUrlMDOT.bind(this)),_.one(B.eventNames.TABNAV_OPENED,this.setRedirectUrlMDOT.bind(this)),B.require("tabbed-nav").activateTab("signin",r(e));else if("www"===B.env.b_site_type||"mdot"===B.env.b_site_type){var t=r(e.target).data("loginUrl");t&&(window.location.href=t)}_r_()},processKeyDownOnDetailsForm:function(e){if(_i_("269:fc2092d0"),!e||!e.which||13!=e.which)return _r_();this.submitDetailsForm(),_r_()},submitDetailsForm:function(e){if(_i_("269:f383fa42"),e&&e.preventDefault&&e.preventDefault(),!this.validateDetailsForm())return _r_();this.updateSubmittingUI("loading"),this.hideDetailsErrorMessage();var t={bn:r("#form_code_input").val(),pincode:r("#form_pin_input").val()},i=B.env.b_secure_hostname||B.env.b_secure_domain;r.ajax({method:"POST",url:i+"/get_review_invite_from_booking",data:t,xhrFields:{withCredentials:!0},crossDomain:!0,success:this.detailsRequestSuccess.bind(this),error:this.detailsRequestError.bind(this)}),_r_()},validateDetailsForm:function(){_i_("269:06da5b4b");var i={},e=r(this.$formSubmitDetails.find('input[type="text"]'));for(var t in e.each(function(e,t){_i_("269:dca6417a"),i[r(t).attr("name")]=!!r(t).val().length,_r_()}),i)if(0==i[t])return this.hideValidtationErrorMessage(),this.showValidationErrorMessage(t),_r_(!1);return this.hideValidtationErrorMessage(),_r_(!0)},showValidationErrorMessage:function(e){if(_i_("269:d2f1421d"),!e)return _r_();r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-"+e).removeClass("g-hidden"),_r_()},hideValidtationErrorMessage:function(){_i_("269:fdff6201"),r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.validation-error-message").addClass("g-hidden"),_r_()},updateSubmittingUI:function(e){if(_i_("269:afe8171e"),!e)return _r_();"loading"==e&&(r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details").addClass("g-hidden"),r(".ugc_add_review_entrypoint_modal--reservation_details form .bui-is-loading").removeClass("g-hidden")),"normal"==e&&(r(".ugc_add_review_entrypoint_modal--reservation_details form .bui-is-loading").addClass("g-hidden"),r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details").removeClass("g-hidden")),_r_()},detailsRequestSuccess:function(e){if(_i_("269:d5a26e1a"),!(e&&e.success&&1==e.success&&e.data&&e.data.review_url))return this.detailsRequestError(e),_r_();window.location.href=e.data.review_url,_r_()},detailsRequestError:function(e){if(_i_("269:8b635d74"),this.updateSubmittingUI("normal"),!e||!e.error)return _r_();this.showDetailsErrorMessage(e.error),_r_()},showDetailsErrorMessage:function(e){if(_i_("269:01153acd"),e&&e.booking_not_found&&1==e.booking_not_found)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-not_found").removeClass("g-hidden"),_r_();if(e&&e.invitation_not_found&&1==e.invitation_not_found)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-invitation_not_found").removeClass("g-hidden"),_r_();if(e&&e.invite_expired&&1==e.invite_expired)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-invite_expired").removeClass("g-hidden"),_r_();r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-went_wrong").removeClass("g-hidden"),_r_()},hideDetailsErrorMessage:function(){_i_("269:d06fa0ed"),r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error").addClass("g-hidden"),_r_()},setRedirectUrlMDOT:function(e){if(_i_("269:6f0aef59"),!e||!e.target||"signin"!=e.target)return _r_();_.one(B.eventNames.TABNAV_RESET,this.resetRedirectUrlMDOT.bind(this)),_.one(B.eventNames.TABNAV_OPENED,this.resetRedirectUrlMDOT.bind(this));var t=r('[data-tab-id="signin"]');this.$signInUrlField=t.find('.js-user-access-form--signin [name="target_url"]'),this.$signInUrlField.length&&(this.originalRedirectUrlValue=this.originalRedirectUrlValue!=this.$signInUrlField.val()?this.$signInUrlField.val():this.originalRedirectUrlValue,this.$signInUrlField.val(-1<B.env.b_this_url.indexOf("wrlogin=1")?B.env.b_url_start+B.env.b_this_url:B.env.b_url_start+B.env.b_this_url+";wrlogin=1")),_r_()},setRedirectUrlWWW:function(e){_i_("269:04f359cf");var t=r(".modal-wrapper.reviews-login-redirect");if(!t.length||!t.is(":visible"))return _r_();B.eventEmitter.one("auth-dialog:hide",this.resetRedirectUrlWWW.bind(this));this.$signInUrlField=t.find('.js-user-access-form--signin [name="target_url"]'),this.$signInUrlField.length&&(this.originalRedirectUrlValue=this.originalRedirectUrlValue!=this.$signInUrlField.val()?this.$signInUrlField.val():this.originalRedirectUrlValue,this.$signInUrlField.val(-1<B.env.b_this_url.indexOf("wrlogin=1")?B.env.b_url_start+B.env.b_this_url:B.env.b_url_start+B.env.b_this_url+";wrlogin=1;tab=4")),_r_()},resetRedirectUrlMDOT:function(e){if(_i_("269:04595b80"),e&&e.target&&"signin"==e.target)return _r_();this.$signInUrlField.length&&(this.originalRedirectUrlValue||""==this.originalRedirectUrlValue)&&this.$signInUrlField.val(this.originalRedirectUrlValue),_r_()},resetRedirectUrlWWW:function(){_i_("269:a0e89487"),this.$signInUrlField.length&&(this.originalRedirectUrlValue||""==this.originalRedirectUrlValue)&&this.$signInUrlField.val(this.originalRedirectUrlValue),_r_()}},(i={init:function(){_i_("269:3c071004"),this.$modals=r('.ugc_add_review_entrypoint_wrap [data-bui-component="Modal"], .entrypoint_form_wrap [data-bui-component="Modal"]'),this.modals={};var i=this;this.$modals.length&&window.BUI&&window.BUI.getInstance&&this.$modals.each(function(e,t){_i_("269:2e5acf5c"),i.modals[r(this).data("modal-id")]=window.BUI.getInstance(r(this)[0]),_r_()}),this.attachEvents(),B.env.fe__write_review_load_error&&(B.env.fe__write_review_load_error=!1,this.openBookingDetailsFormWithError()),_r_()},attachEvents:function(){_i_("269:ae09ae87");r.each(this.modals,function(e,t){_i_("269:9e680487"),t&&t.props&&(t.props.onAfterOpen=this.afterModalOpened.bind(this),t.props.onBeforeClose=this.resetModal.bind(this)),_r_()}.bind(this)),_r_()},afterModalOpened:function(){_i_("269:a18667c9"),n.init(),this.init(),"www"==B.env.b_site_type&&o.release(),_r_()},updateModalsList:function(){_i_("269:bb83c4f8"),this.init(),_r_()},openBookingDetailsFormWithError:function(){_i_("269:49721f81"),this.openModal("reservation_details","not_found"),_r_()},getOpenModal:function(){_i_("269:1e83cbc2");var i=!1;return r.each(this.modals,function(e,t){if(_i_("269:2641ed7d"),t.state.isOpen)return _r_(i=t);_r_()}),_r_(i)},getModals:function(){return _i_("269:d7a9eadc"),_r_(this.modals)},closeModal:function(){_i_("269:f5accd18");var e=this.getOpenModal();e&&(e.close(),"www"==B.env.b_site_type&&o.release()),_r_()},openModal:function(e,t){if(_i_("269:958e0f03"),!e)return _r_();var i=this.getModals();i[e]&&(i[e].open(),"www"==B.env.b_site_type&&o.trap(document.getElementById(e)),t&&"not_found"==t&&n.showDetailsErrorMessage({booking_not_found:1})),_r_()},resetModal:function(){_i_("269:3c41337e"),n.hideDetailsErrorMessage(),n.hideValidtationErrorMessage(),_r_()}}).init(),_r_()}),B.when({action:["hotel","unit"],events:"load"}).run(function(e){_i_("269:315087e5");var t=e("jquery"),i=t(".hp_review_score_entry");i.length&&i.on("click",function(){_i_("269:de50ad0e"),t("#blockdisplay4").length&&t("#blockdisplay4").show(0),_r_()}),_r_()}),B.when({action:"hotel",events:"load"}).run(function(e){_i_("269:40ee9041");var i=e("hotel/reviews"),t=e("jquery");({showSearchClass:"js-show-search-input",container:"#review_list_score_container",toggleButton:"#reviews-filters-search-toggler",searchWrapper:".bui-panel.bui-panel--search-wrapper",searchInput:"#reviews-filters-search-input",searchButton:"#reviews-filters-search-button",clearButton:"#reviews-filters-search-clear",searchError:"#reviews-filters-search-error",topics:".bui-inline-container--topics-wrapper [data-js-review-topic]",errorClassName:"bui-has-error",showMoreButton:".js-topic_filters_show_more",showLessButton:".js-topic_filters_show_less",shortPosition:".js-short_search_button_position",longPosition:".js-long_search_button_position",init:function(){_i_("269:2eeb8824"),this.isSearchVisible=!1,this.isErrorVisible=!1,this.isFirstLoaded=!1,this.$container=t(this.container),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:a2c6ca30"),this.$container.on("click",this.searchButton,this.onSearchClick.bind(this)),this.$container.on("click",this.clearButton,this.onClearClick.bind(this)),this.$container.on("click",this.toggleButton,this.onToggleClick.bind(this)),this.$container.on("keyup",this.searchInput,this.onInputKeyup.bind(this)),this.$container.on("click",this.showMoreButton,this.onShowMoreButtonClick.bind(this)),this.$container.on("click",this.showLessButton,this.onShowLessButtonClick.bind(this)),i.on(B.Reviews.events.LOAD_AFTER,this.onloadAfter.bind(this)),i.on(B.Reviews.events.LOAD_SUCCESS,this.onloadSuccess.bind(this)),_r_()},onClearClick:function(e){_i_("269:8f0ea5fa"),e.preventDefault(),i.load({text:""}),_r_()},onloadSuccess:function(){_i_("269:df8197f7");var e=i.getState().text||"";this.$container.find(this.searchInput).val(e),this.$container.find(this.clearButton).toggle(!!e),this.isFirstLoaded=!0,_r_()},onloadAfter:function(){_i_("269:925b5fc3"),this.isSearchVisible=this.hasLoadedSearchTerm(),this.isSearchVisible?(this.$container.addClass(this.showSearchClass),this.$container.find(this.toggleButton).remove()):this.$container.find(this.toggleButton).removeAttr("aria-hidden"),_r_()},onInputKeyup:function(e){_i_("269:88f8f692"),e.preventDefault();var t=e.target&&e.target.value||"";13==e.keyCode&&this.doSearch(t),this.isErrorVisible&&0<t.length&&this.hideError(),_r_()},onSearchClick:function(e){_i_("269:5540dc44"),e.preventDefault();var t=this.$container.find(this.searchInput).val()||"";this.doSearch(t),_r_()},doSearch:function(e){_i_("269:d490b988");var t=i.getState().text||"";0<(e||"").length&&e!=t&&(i.load({text:e}),this.toggleError(!1)),_r_()},toggleError:function(e){_i_("269:daa92f70"),e?this.showError():this.hideError(),_r_()},onToggleClick:function(e){_i_("269:f41c53a2"),e.preventDefault(),this.showSearch(),_r_()},showError:function(){_i_("269:b3ec551e"),this.$container.find(this.searchError).show().attr("aria-hidden",!1),this.$container.find(this.searchWrapper).addClass(this.errorClassName),this.$container.find(this.searchInput).attr("aria-describedby",this.searchError.replace("#","")),this.isErrorVisible=!0,_r_()},hideError:function(){_i_("269:8ccf3612"),this.$container.find(this.searchError).hide().attr("aria-hidden",!0),this.$container.find(this.searchWrapper).removeClass(this.errorClassName),this.$container.find(this.searchInput).removeAttr("aria-describedby"),this.isErrorVisible=!1,_r_()},showSearch:function(){_i_("269:8252ea98"),this.isSearchVisible=!0,this.$container.addClass(this.showSearchClass),this.$container.find(this.searchInput).focus(),_r_()},hasLoadedSearchTerm:function(){_i_("269:1e77fe72");var e=i.getState().text;return _r_(!!e)},hasLoadedTopics:function(){_i_("269:53b02aaf");var e=i.getState().topics||[];return _r_(0<e.length)},onShowMoreButtonClick:function(){if(_i_("269:f8935b0f"),t(this.shortPosition).addClass("bui-u-hidden"),this.isSearchVisible)return _r_();t(this.toggleButton).appendTo(t(this.longPosition)),_r_()},onShowLessButtonClick:function(){if(_i_("269:b4bcb2cd"),t(this.shortPosition).removeClass("bui-u-hidden"),this.isSearchVisible)return _r_();t(this.toggleButton).appendTo(t(this.shortPosition)),_r_()}}).init(),_r_()}),B.define("component/ugc/hotelpage/gallery-floater",function(e,t,i){_i_("269:f84e7376");var n=e("jquery"),r=e("component"),_=e("translatable-review/modules/review-translate");i.exports=r.extend({init:function(){_i_("269:526ef503"),this.translator=_,this.reviewUrl=this.$el.data("review-url"),this.translated=!!this.$el.data("pretranslated"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:e3759c14"),this.translator.on(this.translator.events.TRANSLATIONS_LOADED,n.proxy(this.loadAutoTranslation,this)),_r_()},loadTranslation:function(e){_i_("269:68f7c1e1");var t=e.hotel_general||"";if(0==t.length)return _r_();this._loadTextAndResize(t),_r_()},loadAutoTranslation:function(e){if(_i_("269:99a8125d"),this.translated||!e)return _r_();this.reviewUrl&&e[this.reviewUrl]&&this.loadTranslation(e[this.reviewUrl]),_r_()},_loadTextAndResize:function(e){_i_("269:45bd1eaa");var t=this.$el.height();this.$el.css("height","auto"),this.$el.text(e);var i=this.$el.height();if(t<i){var n=i/(t-16),r=e.slice(0,Math.floor(e.length/n)),_=r.match(/(\w+)\s/g);_&&(_=_.slice(-1)[0],r=r.slice(0,r.lastIndexOf(_)+_.length)),r+="…",this.$el.text(r)}this.$el.css("height",t+"px"),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_is_review_subscore_summaries_available}).run(function(e){_i_("269:f00de32d");var n=e("jquery"),r="hp_subscore_explanation_summary_on",_="hp_subscore_explanation_summary_off";n(".js-hp_subscore_explanation_cta").on("click",function(){_i_("269:b004e4a2");var e=n(".js-hp_subscore_explanation_summary_on"),t=n(".js-hp_subscore_explanation_summary_off"),i=n(".hp_subscore_explanation_block__wrapper");e.hasClass(r)?(e.removeClass(r).addClass(_),t.removeClass(_).addClass(r),i.removeClass(r).addClass(_)):(e.removeClass(_).addClass(r),t.removeClass(r).addClass(_),i.removeClass(_).addClass(r)),_r_()}),_r_()}),B.define("component/ugcs/review-snippet-more",function(e,t,i){_i_("269:f1a800a2");var n=e("jquery"),r=e("component"),_=e("jstmpl"),o=_("review_snippet_drawer");i.exports=r.extend({init:function(){_i_("269:dc6b1ffe"),this.initBuiDrawer(),this.bindEvents(),_r_()},bindEvents:function(){},initBuiDrawer:function(){_i_("269:de94d75c");var e=this;e.modalInstance=window.BUI.createInstance("mdot"===B.env.b_site_type?"Drawer":"Modal",this.$el.get(0),{id:"review-snippet-drawer",size:"mdot"===B.env.b_site_type?"default":"large",onBeforeOpen:function(){_i_("269:0a68b76a"),this.updateContent(e.renderFullReview()),n(this.modalEl).loadComponents(),_r_()}}),e.modalInstance.mount(),_r_()},renderFullReview:function(){_i_("269:26488452");var e,t=this.$el.attr("data-review_url"),i=this.$el.attr("data-index"),n=B.env.fe_featured_reviews[i];return t&&B.env.fe_featured_reviews_translated&&(e=B.env.fe_featured_reviews_translated[t]),_r_(o.render({fe_review_url:t,fe_user_uploaded_photos:n.b_user_uploaded_photos?n.b_user_uploaded_photos:0,fe_review_positive:n.b_hotel_positive,fe_review_positive_translated:e?e.hotel_positive:"",fe_review_negative:n.b_hotel_negative,fe_review_negative_translated:e?e.hotel_negative:"",fe_avatar_url:n.b_avatar_url?n.b_avatar_url:0,fe_country_name:n.b_country_name,fe_country_code:n.b_guest_countrycode,fe_guest_name:n.b_guest_name,fe_review_date:n.b_completed_date,fe_review_score:n.b_average_score_out_of_10,fe_title:n.b_title,fe_title_translated:e?e.title:"",fe_company_name:B.env.b_companyname,fe_is_desktop_site:"www"===B.env.b_site_type,fe_review_lang:n.b_language}))}}),_r_()}),booking.jstmpl("review_snippet_drawer",function(){_i_("269:9bb76997");var C,E=["\n    ","\n        ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","","\n","/private/ugc_reviews_translated_show_original/name","/private/ugc_reviews_translated_show_translation/name","/private/ugcx_reviews_translated_by_booking/name",'\n    <div class="bui-drawer__content featured_reviews-modal-content">\n        ',"\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n    ",'\n    <div class="c-review-block" \n         itemprop="review" itemscope itemtype="http://schema.org/Review">\n\n        <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">\n            <meta itemprop="name" content="Booking.com B.V.">\n        </div>\n        \n        ','\n            <div class="bui-u-text-right bui-u-margin-bottom--16">\n                <a class="bui-button bui-button--tertiary"\n                    role="link"\n                    tabindex="0"\n                    href="','">\n                    <span class="bui-button__text">',"/private/m_ugc_my_reviews_edit_cta/name","</span>\n                </a>\n            </div>\n        ",'\n        <div class="bui-grid">\n            <div class="bui-grid__column-3 c-review-block__left">\n                ','\n\n    \n    <div class="c-review-block__row c-review-block__guest">\n        ','<div class="','">','<img class="bui-avatar__image"','src="','"','data-component="image-fallback"\n                 data-fallback-src="','"\n                 alt="" aria-hidden="true" />','<img class="bui-avatar__image"\n                 src="',"</div>",'<div class="bui-avatar-block__text">\n                <span class="bui-avatar-block__title">',"</span>",'<span class="bui-avatar-block__subtitle">','<span class="bui-flag bui-avatar-block__flag">\n                                    <img src="','"\n                                         alt="" />\n                                </span>',"</div>\n        </div>","\n    </div>\n\n    \n    ","\n\n\n","\n\n",'\n    <div class="c-review-block__row c-review-block__room-info-row\n        '," c-review-block__meta",'"\n        data-room-id="','" data-component="ugcs/shared/room-info"\n    >\n            ','\n                <ul class="bui-list bui-list--text bui-list--icon bui_font_caption">\n                    <li class="bui-list__item" data-room-id="','" data-component="ugcs/shared/room-info">\n                        <a href="#" class="c-review-block__room-link">\n                            <span class="bui-list__icon" role="presentation">\n                                ',"streamline/bed_double","medium","\n                            </span>\n                            <span>",'</span>\n                            <div class="bui-list__body">\n                                ',"\n                            </div>\n                        </a>\n                    </li>\n                </ul>\n            ",'\n                <a href="#" class="c-review-block__room-link">\n                    <div class="c-review-block__room-info">\n\n                        <div class="bui-grid">\n                            <div class="bui-grid__column-1">\n                                ',"iconset/bed","large",'\n                            </div>\n                            <div class="bui-grid__column-11 c-review-block_room-info-content-wrap">\n                                <div class="c-review-block__room-info" data-room-id="','" data-component="ugcs/shared/room-info">\n                                    <div class="c-review-block__room-info__name">\n                                        <div class="room_info_heading">',"/private/ugcx_reviews_stayed_in_room/name","</div>\n                                        <div>\n                                            ","\n                                                ","\n\n\n\n\n\n\n",'\n        <span class="c-review-block__date">\n            ',"\n        </span>\n    ","\n                                            ",'\n                                        </div>\n                                    </div>\n                                    <div class="c-review-block__room-info__arrow">\n                                        ',"iconset/navarrow_left","larger","\n                                        ","iconset/navarrow_right","\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </a>\n            ","\n    </div>\n    \n","1","\n\n    \n    ",'\n        <ul class="bui-list bui-list--text bui-list--icon bui_font_caption c-review-block__row c-review-block__stay-date">\n            <li class="bui-list__item">\n                <span class="bui-list__icon" role="presentation">\n                    ',"streamline/calendar",'\n                </span>\n                <div class="bui-list__body">\n                    ',"\n                    ","\n                        "," \n                            <strong>","/private/ugcx_guest_reviews_num_nights/name","</strong> &middot;&nbsp;\n                        ","\n                            "," &middot;&nbsp;\n                        ","\n                </div>\n            </li>\n        </ul>\n    ","\n            &middot;&nbsp; ","/private/ls_ugc_ls_summary/name",'\n        <ul class="bui-list bui-list--text bui-list--icon bui_font_caption review-panel-wide__traveller_type c-review-block__row">\n            <li class="bui-list__item">\n                ','\n                    <span class="bui-list__icon" role="presentation">\n                        ',"streamline/group",'\n                    </span>\n                    <div class="bui-list__body">\n                        ',"/private/ugcx_www_hp_review_panel_wide_group/name"," \n                    </div>\n                ","streamline/couple","/private/ugcx_www_hp_review_panel_wide_couple/name","streamline/person","/private/ugcx_www_hp_review_panel_wide_solo/name","streamline/family","/private/ugcx_www_hp_review_panel_wide_family/name","\n            </li>\n        </ul>\n    ",'\n            </div>\n            <div class="bui-grid__column-9 c-review-block__right">\n                \n                \n                <div class="c-review-block__row">\n                    ','\n        <span class="c-review-block__badge">\n            <span class="c-review-block__badge__icon">\n                ',"iconset/star","10","\n            </span>\n            ","\n\n                    \n                    ",'\n\n                    <div class="bui-grid">\n                        <div class="bui-grid__column-11">\n                            ',"\n                                ","\n                                    ","\n            ","\n            <h3\n                ",'lang="','\n                class="'," c-review-block__title c-review-block__title--original "," "," c-review-block__title--small "," c-review__title--hidden",'"\n            >\n                ',"\n            </h3>\n            <h3\n                "," c-review-block__title c-review-block__title--translated ","c-review__title--hidden","\n                ","\n            </h3>\n        ","\n            <h3 "," c-review-block__title ",'">\n                ','\n                        </div>\n                        <div class="bui-grid__column-1 bui-u-text-right">\n                            \n                            \n                            ','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/extl_reviews_no_bcom_reviews/name","/private/comp_num_reviews_sr_page/name","</div> ","\n                        </div>\n                    </div>\n                </div>\n\n                \n                \n                ",'\n                    <div class="c-review-block__row">\n                        ',"\n\n\n\n\n\n","c-review__inner--rtl","c-review__inner--ltr",'\n\n    <div class="c-review"\n        data-component="ugcs/shared/translatable-review"\n        data-translation-provider="','"\n        data-review-url="','"\n        data-pretranslated="','"\n        data-quoted="','"\n        data-type="','"\n        data-orig-lang="','"\n        data-text-part="','"\n        data-listen-to-translations="','"\n        >\n        ','\n            <div class="c-review__row">\n                <p class="c-review__inner ','">\n                    ','<span class="c-review__prefix c-review__prefix--color-green">',"c-review__icon","iconset/review_great",'<span class="bui-u-sr-only">',"/private/comp_your_review_liked_header/name","</span> </span>",'<span class="c-review__body c-review__body--original\n                    '," c-review__body--hidden ",'"\n                    ','\n                        data-full-content="',"/private/quote_open_primary/name","/private/quote_close_primary/name",'"\n                        data-component="ugcs/shared/review"\n                    ',"\n                >",'<span class="c-review__body c-review__body--translated\n            ','"\n                ','\n                    data-full-content="','"\n                    data-component="ugcs/shared/review"\n                ','data-toggle-length="',"\n            >",'&nbsp;<a\n                    class="bui-link bui-link--primary c-review__body-expand bui-u-hidden"\n                    data-component="ugcs/dom-utils/toggle"\n                >',"/private/ugc_d_hp_reviews_read_more/name","</a>","positive","\n                </p>\n            </div>\n        ",'<span class="c-review__prefix">',"iconset/review_poor","/private/comp_your_review_disliked_header/name","\n\n                    ","negative","general","\n\n                </p>\n            </div>\n        ",'\n        <div class="c-review__row" data-no-toggle="1">\n            <span class="c-review__inner ','">\n                <span class="c-review__translation-loader c-review__translation-cta--hidden">\n                    ',"/private/ugc_reviews_loading_translations/name",'...\n                </span>\n                <span class="c-review__translation-cta c-review__translation-cta__original ',"c-review__translation-cta--hidden",' <span class="c-review__translation-cta__provider">','</span> - <a href="#" data-component="prevent-default-helper" class="c-review__translation-link js-review-translation-show-original">',"</a> ",'\n                </span>\n                <span class="c-review__translation-cta c-review__translation-cta__translated ','">\n                    <a href="#" data-component="prevent-default-helper" class="c-review__translation-link js-review-translation-show-translated">',"</a>\n                </span>\n            </span>\n        </div>\n    </div>\n    ",'\n    <div class="c-review">\n        ','<span class="c-review__body"\n','data-full-content="','"\ndata-component="ugcs/shared/review"\n',">","</span>\n",'<a\nclass="bui-link bui-link--primary c-review__body-expand bui-u-hidden"\ndata-component="ugcs/dom-utils/toggle"\n>\n','\n            <div class="c-review__row lalala">\n                <p ',' class="c-review__inner ','\n            <div class="c-review__row">\n                <p ',"\n    </div>\n    ","\n                    </div>\n                ","\n\n                \n                \n                ",'\n        \n        <ul class="c-review-block__photos ','"\n            data-photos-group="','" ','data-component="ugcs/review-block/photos"',">\n            ",'\n                    <li class="c-review-block__photos__item" style="',"display:none;",'">\n                        <button class="c-review-block__photos__button"\n                            data-photos-index="','"\n                            data-photos-src="','"\n                            data-photos-large-src="','"\n                            style="background-image: url(',")",");background-image: -webkit-image-set(url(",") 1x, url(",") 2x)",'"\n                        >\n                            ','\n                                <div class="c-review-block__photos__button__cover">\n                                +',"\n                                </div>\n                            ","\n                        </button>\n                    </li>\n                    ",'\n                                <div class="c-review-block__photos__button__cover">\n                                    +',"\n        </ul>\n    ",'<div class="c-review-block__response">','<div class="c-review-block__response__title">',"c-review-block__response__icon","iconset/chat_bubbles","&nbsp;",'<div class="c-review-block__response__inner"> <span data-toggle-hide="1" class="c-review-block__response__body">',"&hellip;",'<span data-toggle-show="1" class="c-review-block__response__body bui-u-hidden">','</span> <a href="#" data-component="ugcs/dom-utils/toggle prevent-default-helper" class="c-review-block__response__read-more bui-link bui-link--primary">',"/private/comp_your_review_continue/name","</div> </div>","iconset/warning","iconset/close",'\n                    <div class="c-review-block__row c-review-block__row--helpful-vote bui-u-text-right">\n                        ','\n        <div class="c-review-block__actions">\n            ',"\n\n\n\n","\n\t","\n\t\n\t","\n\t\n\t\n\t","\n\t\t","review_helpful_vote_you_and_others_bold","review_helpful_vote_number_people_bold","    \n","            \n"," \n\n"," \n\n\n",'\n    <div class="review-helpful__container" data-component="reviews/review-helpful-unhelpful" >\n        ','\n            <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message review-helpful__vote-others-helpful "',' style="display: none;"',">\n                ",'\n            </p>\n            <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message --unhelpful">\n                \n            </p>\n        ','\n        <form class="review-helpful__form clearfix" action="/vote_review" method="post" data-current-count="','">\n            <input type="hidden" name="hotel_id"   value="','">\n            <input type="hidden" name="review_url" value="','">\n            <input type="hidden" name="review_id" value="0">\n            <input type="hidden" name="vote_type"  value="1"> \n            <input type="hidden" name="vote_value" value="1">\n            <button type="submit" class="review-helpful__form-submit review-helpful-heart-submit" data-type="helpful">\n                ',"iconset/thumbs_up","small",'\n            </button>\n        </form>\n        <form class="review-helpful__form --unhelpful clearfix" action="/vote_review" method="post">\n            <input type="hidden" name="hotel_id"   value="','">\n            <input type="hidden" name="review_id" value="0">\n            <input type="hidden" name="vote_type"  value="4"> \n            <input type="hidden" name="vote_value" value="1">\n            <button type="submit" class="review-helpful__form-submit review-helpful-heart-submit" data-type="unhelpful">\n                ',"iconset/thumbs_down","/private/ugcx_reviews_not_helpful/name","\n            </button>\n        </form>\n\n        ",'\n        <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message review-helpful__vote-others-helpful "','\n        </p>\n        <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message --unhelpful">\n            \n        </p>\n        ',"\n    </div>\n","\n            <div>\n                ",'\n\t\t<div class="review_item_feedback">\n\t\t\t<div class="review_report_form">\n\t\t\t\t<i class="bicon-flag"></i>\n\t\t\t\t<div class="review_report_form_pop g-hidden">\n\t\t\t\t\t<ul class="review_report_form_pop_list" data-reviewurl="','" data-hotelid="','">\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="offensive"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="fraudulent"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="wrong_property"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="other"><p>',"</p></label></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t","\n            </div>\n        </div>\n    ","\n\n                \n                ",'\n    <div class="bui-card content_accuracy_cta_container">\n         <div class="bui-card__content">\n            <div class="bui-card__header">\n              <h3 class="bui-card__title">',"/private/ugcx_content_accuracy_entry_point_header/name",'</h3>\n            </div>\n            <div class="content_accuracy_cta_margin">\n              <span class="content_accuracy_cta_text">',"/private/ugcx_content_accuracy_entry_point_subheader/name",'</span>\n            </div>\n            <a class="bui-button bui-button--secondary content_accuracy_cta_margin"\n                role="button"\n                href="','">\n                <span class="bui-button__text">',"/private/ugcx_content_accuracy_entry_point_cta/name","</span>\n            </a>\n        </div>\n    </div>\n    ","\n\n            </div> \n        </div> \n    </div> \n",'\n        <div class="c-review-block" itemprop="review" itemscope itemtype="http://schema.org/Review">\n            <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">\n                <meta itemprop="name" content="Booking.com B.V.">\n            </div>\n            \n            \n\n            ','\n                <div class="c-review-block__row">\n                    ','<div class="c-guest-with-score">\n            <div class="c-guest-with-score__guest">','</div>\n            <div class="c-guest-with-score__score">',"\n                </div>\n            ","\n\n            \n            \n            ",'\n                        <a class="bui-button bui-button--tertiary review_block__edit"\n                            role="link"\n                            tabindex="0"\n                            href="','">\n                            <span class="bui-button__text">',"</span>\n                        </a>\n                    ","\n            \n            \n            ","\n\n            ",'\n    <div class="bui-card c-review-block__stay-info">\n        <div class="bui-card__content">\n            <ul class="bui-list bui-list--text bui-list--icon bui_font_caption">\n                \n                ','\n                    <li class="bui-list__item c-review-block__stay-info-item"\n                        data-component="ugcs/shared/room-info"\n                        data-room-id="','">\n                        <a href="#" class="c-review-block__stay-info-link">\n                            <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                                ','\n                            </span>\n                            <div class="bui-list__body">\n                                ',"\n                            </div>\n                        </a>\n                    </li>\n                ","\n                \n                ",'\n                    <li class="bui-list__item c-review-block__stay-info-item">\n                        <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                            ','\n                        </span>\n                        <div class="bui-list__body">\n                            ',"\n                            <p>\n                            "," &middot;\n                            ","\n                            </p>\n                        </div>\n                    </li>\n                ",'\n                        <li class="bui-list__item c-review-block__stay-info-item">\n                            <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                                ',"\n                            </div>\n                        </li>\n                    ","\n            </ul>\n        </div>\n    </div>\n","\n            \n            ",'\n                <div class="c-review-block__row c-review-block__row--helpful-vote">\n                    ',"\n\n            \n            ","\n\n        </div>\n    "],T=["fe_title","fe_adjective","fe_score","fe_hide_low_adjectives","fe_review_score","fe_copy_show_original","fe_copy_show_translated","fe_copy_translated_by","fe_company_name","fe_review_url","ip_country","b_guest_countrycode","fe_country_code","b_facts","fe_review_edit_url","fe_class_block","fe_modifier_small","fe_modifier_large","fe_avatar","fe_avatar_class","fe_modifier_larger","fe_modifier_largest","fe_name","fe_character_avatar","fe_character","fe_fallback_avatar","fe_flag_size","fe_hide_flag","fe_country_name","fe_allow_zero","fe_guest_avatar","fe_guest_country_code","fe_guest_country","fe_guest_name","fe_single_line","fe_room_id","fe_icon_color","fe_room_name","fe_date","b_review_stayed_date_formated","b_lang_is_rtl","b_stayed_rooms","fe_num_nights","b_is_long_stay_review","fe_guest_stay_date","b_review_customer_types","fe_customer_long_stay_description","b_stay_customer_type","fe_badge","fe_guest_badge","fe_review_date","fe_review_title_lang","fe_review_title_translated_lang","fe_title_direction_class","fe_review_title_size","fe_start_translated","fe_review_title","fe_title_translated_direction_class","fe_review_title_translated","fe_translatable","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_score_inline","fe_score_formatted","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_can_show_adjective","fe_calc_score_formatted","fe_reviews_number","fe_review_score_formatted","fe_direction_class","fe_force_rtl","fe_force_ltr","fe_translation_provider","fe_quoted","fe_data_type","fe_review_lang","fe_text_part","fe_listen_to_translations","fe_review_prefix","fe_review_body","fe_truncate","fe_prefix","fe_review_body_translated","fe_truncated","fe_review_part","fe_fold","b_site_type","fe_review_positive","fe_review_positive_translated","fe_review_negative","fe_review_negative_translated","fe_review_general","fe_review_general_translated","fe_review_translated","fe_uploaded_photos","fe_destination_photos","fe_additional_class","fe_displayed_counter","fe_max_thubmnails","max1280x900","max500_ao","max1024x768","square144","b_is_mobile_site","square80","square160","fe_total_photos","fe_review_id","fe_response","fe_response_title","fe_response_truncated","fe_review_response","fe_review_response_title","fe_jstmpl","b_hotel_id","review_helpful_hotel_id","b_single_review_url_path","review_helpful_review_url","b_already_voted_info","is_helpful_by_user","b_helpful_vote_count","helpful_count","review_helpful_vote_you_bold","vote_feedback_message","number_people","fe_helpful_forward_feedback","review_helpful_vote_button_confirmed","fe_hotel_id","highlight_review","b_label","b_bookings_owned","b_hotel_positive","b_hotel_negative","flag_review_inappropriate","flag_review_fraudulent","flag_review_wrong_property","flag_review_other","is_property_reviews_tab","b_is_external","b_browser","b_browser_version","b_user_auth_level","b_auth_level_high","fe_content_accuracy_url","b_is_desktop_site","fe_is_desktop_site","fe_modifier_guest_small","fe_modifier_score_small","fe_modifier_score_smaller","fe_photos_review_url","fe_review_block_customer_type_icon","fe_review_block_customer_type_text","fe_stay_customer_type","fe_show_stay_info_block","fe_disable_helpful_buttons","fe_avatar_url","anonymous","fe_title_translated","fe_user_uploaded_photos"];return _r_(function(r){_i_("269:5adaa3e4");var e,t,i,n="",_=this.fn;function o(e){if(_i_("269:0e4c993e"),e+=E[143],_.MJ(_.MB(T[95]))||_.MJ(_.MB(T[99]))||_.MJ(_.MB(T[97]))){e+=E[0],e+=E[0],e+=E[0],e+=E[0],e+=E[0],e+=E[0];var t="";if(_.MD(T[78])&&(t+=E[144]),_.MD(T[79])&&(t+=E[145]),_.MN(T[77],t),e+=[E[146],_.F.entities(_.MC(T[80])),E[147],_.F.entities(_.MC(T[9])),E[148],_.F.entities(_.MC(T[55])),E[149],_.F.entities(_.MC(T[81])),E[150],_.F.entities(_.MC(T[82])),E[151],_.F.entities(_.MC(T[83])),E[152],_.F.entities(_.MC(T[84])),E[153],_.F.entities(_.MC(T[85])),E[154]].join(""),_.MD(T[95])){e+=[E[155],_.F.entities(_.MC(T[77])),E[156]].join("");t="";t+=[E[157],(r.unshift({class:E[158],name:E[159]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[160],_.ME(E[161],_.MB,_.MN,null),E[162]].join(""),_.MN(T[86],t),e+=E[82],r.unshift({fe_fold:_.MB(T[93]),fe_quoted:_.MB(T[81]),fe_review_body:_.MB(T[95]),fe_review_body_translated:_.MB(T[96]),fe_review_lang:_.MB(T[83]),fe_review_part:E[180],fe_review_prefix:_.MB(T[86]),fe_start_translated:_.MB(T[55]),fe_truncate:_.MB(T[88])}),e=d(e),r.shift(),e+=E[181]}if(e+=E[1],_.MD(T[97])){e+=[E[155],_.F.entities(_.MC(T[77])),E[156]].join("");t="";t+=[E[182],(r.unshift({class:E[158],name:E[183]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[160],_.ME(E[184],_.MB,_.MN,null),E[162]].join(""),_.MN(T[86],t),e+=E[185],r.unshift({fe_fold:_.MB(T[93]),fe_review_body:_.MB(T[97]),fe_review_body_translated:_.MB(T[98]),fe_review_lang:_.MB(T[83]),fe_review_part:E[186],fe_review_prefix:_.MB(T[86]),fe_start_translated:_.MB(T[55]),fe_truncate:_.MB(T[88])}),e=d(e),r.shift(),e+=E[181]}e+=E[1],_.MD(T[99])&&(e+=[E[155],_.F.entities(_.MC(T[77])),E[156]].join(""),r.unshift({fe_fold:_.MB(T[93]),fe_review_body:_.MB(T[99]),fe_review_body_translated:_.MB(T[100]),fe_review_lang:_.MB(T[83]),fe_review_part:E[187],fe_start_translated:_.MB(T[55]),fe_truncate:_.MB(T[88])}),e=d(e),r.shift(),e+=E[188]),e+=[E[189],_.F.entities(_.MC(T[77])),E[190],_.ME(E[191],_.MB,_.MN,null),E[192]].join(""),_.MK(_.MB(T[55]))&&(e+=E[193]),e+=E[156],e+=[E[194],_.MC(T[7]),E[195],_.F.entities(_.MC(T[5])),E[196]].join(""),e+=E[197],_.MD(T[55])&&(e+=E[193]),e+=[E[198],_.MC(T[6]),E[199]].join(""),_.MN("fe_direction_class",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_fold",0),e+=E[0],_.MN("fe_review_body",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_review_general_translated",0),e+=E[0],_.MN("fe_review_negative_translated",0),e+=E[0],_.MN("fe_review_positive_translated",0),e+=E[0],_.MN("fe_listen_to_translations",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_prefix",0),e+=E[0],_.MN("fe_truncate",0),e+=E[0],_.MN("fe_quoted",0),e+=E[15]}return e+=E[15],_r_(e)}function a(e){if(_i_("269:915baae4"),e+=E[143],_.MJ(_.MB(T[95]))||_.MJ(_.MB(T[99]))||_.MJ(_.MB(T[97]))){e+=E[0],e+=E[0];var t="";if(_.MD(T[78])&&(t+=E[144]),_.MD(T[79])&&(t+=E[145]),_.MN(T[77],t),e+=E[200],_.MD(T[95])){e+=[E[155],_.F.entities(_.MC(T[77])),E[156]].join("");t="";t+=[E[157],(r.unshift({class:E[158],name:E[159]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[160],_.ME(E[161],_.MB,_.MN,null),E[162]].join(""),_.MN(T[86],t),e+=E[82],r.unshift({fe_fold:_.MB(T[93]),fe_quoted:_.MB(T[81]),fe_review_body:_.MB(T[95]),fe_review_lang:_.MB(T[83]),fe_review_prefix:_.MB(T[86]),fe_truncate:_.MB(T[88])}),e=h(e),r.shift(),e+=E[181]}if(e+=E[1],_.MD(T[97])){e+=E[207],_.MD(T[83])&&(e+=[E[116],_.F.entities(_.MC(T[83])),E[33]].join("")),e+=[E[208],_.F.entities(_.MC(T[77])),E[156]].join("");t="";t+=[E[182],(r.unshift({class:E[158],name:E[183]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[160],_.ME(E[184],_.MB,_.MN,null),E[162]].join(""),_.MN(T[86],t),e+=E[82],r.unshift({fe_fold:_.MB(T[93]),fe_review_body:_.MB(T[97]),fe_review_lang:_.MB(T[83]),fe_review_prefix:_.MB(T[86]),fe_truncate:_.MB(T[88])}),e=h(e),r.shift(),e+=E[181]}e+=E[1],_.MD(T[99])&&(e+=E[209],_.MD(T[83])&&(e+=[E[116],_.F.entities(_.MC(T[83])),E[33]].join("")),e+=[E[208],_.F.entities(_.MC(T[77])),E[156]].join(""),r.unshift({fe_fold:_.MB(T[93]),fe_review_body:_.MB(T[99]),fe_review_lang:_.MB(T[83]),fe_truncate:_.MB(T[88])}),e=h(e),r.shift(),e+=E[181]),e+=E[210],_.MN("fe_direction_class",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_fold",0),e+=E[0],_.MN("fe_review_body",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_prefix",0),e+=E[0],_.MN("fe_truncate",0),e+=E[0],_.MN("fe_quoted",0),e+=E[0],_.MN("fe_review_lang",0),e+=E[15]}return e+=E[15],_r_(e)}function s(e){if(_i_("269:29fb3914"),e+=E[14],_.MJ(_.MB(T[22]))){e+=E[14],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=E[14],_.MN("fe_class_avatar","bui-avatar"),e+=E[14],_.MN("fe_flag_size",16),e+=E[14],_.MD(T[16])&&(e+=E[14],_.MN("fe_class_block",_.MB(T[15])+" bui-avatar-block--small"),e+=E[14],_.MN("fe_flag_size",12),e+=E[14]),e+=E[14],_.MD(T[17])&&(e+=E[14],_.MN("fe_class_block",_.MB(T[15])+" bui-avatar-block--large"),e+=E[14]),e+=[E[29],_.F.entities(_.MC(T[15])),E[30]].join("");var t={fe_avatar:_.MB(T[18]),fe_modifier_large:_.MB(T[17]),fe_modifier_small:_.MB(T[16]),fe_name:_.MB(T[22])},i=r;(r=_.SV([{},{}])).unshift(t),n=e,_i_("269:b7138def"),n+=E[14],(_.MJ(_.MB(T[22]))||_.MJ(_.MB(T[18])))&&(n+=E[14],_.MN("fe_avatar",_.defined(_.MB(T[18]))&&_.MJ(10<_.MB(T[18]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(T[18])))?_.MB(T[18]):0),n+=E[14],_.MN("fe_avatar_class","c-avatar bui-avatar "),n+=E[14],_.MD(T[16])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--small"),n+=E[14],_.MD(T[17])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--large"),n+=E[14],_.MD(T[20])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--larger"),n+=E[14],_.MD(T[21])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--largest"),n+=E[14],_.MN("fe_character",_.MB(T[22])&&_.substr(_.MB(T[22]),0,1).toLowerCase()),n+=E[14],_.MN("fe_character_avatar",0),n+=E[14],_.MJ(/[a-z]/i.test(_.MB(T[24])))&&(n+=E[14],_.MN(T[23],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(T[24])+".png",0,0,0,0)),n+=E[14]),n+=E[14],_.MD(T[23])?(n+=E[14],_.MN(T[25],_.MC(T[23]))):(n+=E[14],_.MN(T[25],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),n+=E[14],n+=[E[29],_.F.entities(_.MC(T[19])),E[30]].join(""),_.MJ(_.MB(T[18]))||_.MJ(_.MB(T[23]))?(n+=E[31],_.MD(T[18])?n+=[E[32],_.MC(T[18]),E[33]].join(""):_.MD(T[23])&&(n+=[E[32],_.MC(T[23]),E[33]].join("")),n+=[E[34],_.MC(T[25]),E[35]].join("")):n+=[E[36],_.MC(T[25]),E[35]].join(""),n+=E[37]),n+=E[14],_.MN("fe_avatar",0),n+=E[14],_.MN("fe_avatar_class",0),n+=E[14],_.MN("fe_avatar_text",0),n+=E[14],_.MN("fe_character",0),n+=E[14],_.MN("fe_fallback_avatar",0),n+=E[14],_.MN("fe_modifier_large",0),n+=E[14],_.MN("fe_modifier_larger",0),n+=E[14],_.MN("fe_modifier_largest",0),n+=E[14],_.MN("fe_modifier_small",0),n+=E[14],_.MN("fe_name",0),n+=E[14],_.MN("fe_on_error_func",0),n+=E[14],n+=E[15],e=_r_(n),r=_.SV(i),e+=[E[38],_.F.js(_.MC(T[22])),E[39]].join(""),_.MJ(_.MB(T[28]))&&(e+=E[40],_.MD(T[12])&&(e+=E[14],_.MD(T[27])||(e+=[E[41],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(T[26])+"/"+_.MB(T[12])+".png",0,0,0,0),E[42]].join("")),e+=E[14]),e+=[E[14],_.F.entities(_.MC(T[28])),E[39]].join("")),e+=E[43]}var n;return e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_class_avatar",0),e+=E[14],_.MN("fe_class_block",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_flag_size",0),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],e+=E[15],_r_(e)}function l(e){if(_i_("269:2000a4aa"),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_larger",0),e+=E[14],_.MN("fe_modifier_largest",0),e+=E[14],_.MN("fe_show_adjective",0),e+=E[14],_.MN("fe_reviews_number",0),e+=E[14],_.MN("fe_modifier_end",0),e+=E[14],_.MN("fe_modifier_inline",0),e+=E[14],_.MN("fe_modifier_inverse",0),e+=E[14],_.MN("fe_modifier_outline",0),e+=E[14],_.MN("fe_modifier_text",0),e+=E[14],_.MN("fe_hide_low_adjectives",0),e+=E[14],_.MJ(_.MB(T[22]))){e+=E[300];var t={fe_avatar:_.MB(T[18]),fe_country_code:_.MB(T[12]),fe_country_name:_.MB(T[28]),fe_hide_flag:_.MB(T[27]),fe_modifier_small:_.MB(T[154]),fe_name:_.MB(T[22])},i=r;(r=_.SV([{},{}])).unshift(t),e=s(e),r=_.SV(i),e+=E[301];t={fe_allow_zero:_.MB(T[29]),fe_modifier_small:_.MB(T[155]),fe_modifier_smaller:_.MB(T[156]),fe_score:_.MB(T[2]),fe_score_formatted:_.MB(T[69])},i=r;(r=_.SV([{},{}])).unshift(t),e=function(e){if(_i_("269:4f91e5b6"),e+=["",E[119]].join(""),_.MJ(_.MB(T[2]))||_.MJ(_.MB(T[29]))){if(_.MN("fe_classes","bui-review-score c-score"),_.MJ(_.MB(T[61]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--outline"),_.MJ(_.MB(T[62]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--end"),_.MJ(_.MB(T[63]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--inverse"),_.MJ(_.MB(T[64]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--inline"),_.MJ(_.MB(T[65]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--text"),_.MJ(_.MB(T[16]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--small"),_.MJ(_.MB(T[66]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--smaller"),_.MJ(_.MB(T[67]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--external"),_.MJ(_.MB(T[68]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--external-inline"),_.MD(T[69])?_.MN("fe_calc_score_formatted",_.MB(T[69])):(_.MJ(_.MB(T[29]))&&_.MN("fe_calc_score_formatted",0),_.MJ(_.MB(T[2]))&&_.MN("fe_calc_score_formatted",_.format_review_score_new(_.MB(T[2])))),_.MN("fe_can_show_adjective",_.MB(T[70])||_.MB(T[71])),_.MJ(_.MB(T[73]))){var t="";r.unshift({fe_hide_low_adjectives:_.MB(T[3]),fe_score:_.MB(T[2])}),t=function(e){if(_i_("269:57448080"),_.MD(T[2])){var t="";_.MJ(1<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(T[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(T[1],t),_.MJ(_.MB(T[3]))&&_.MJ(_.MB(T[2])<7)&&_.MN(T[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(T[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(t),r.shift(),_.MN(T[72],t),_.MJ(_.MB(T[71]))&&_.MN("fe_adjective_text",_.MB(T[71]))}e+=[E[29],_.F.entities(_.MC(T[60])),E[132],(r.unshift({review_score_number:_.MB(T[69])}),C=_.ME(E[133],_.MB,_.MN,null),r.shift(),C),E[134],_.F.entities(_.MC(T[74])),E[135]].join(""),_.MD(T[72])&&(e+=[E[136],_.MC(T[72]),E[135]].join(""),_.MD(T[75])&&(e+=E[137],_.MD(T[67])?e+=[(r.unshift({total_num_reviews:_.MI(_.MB(T[75]))+_.MI(0)}),C=_.ME(E[138],_.MB,_.MN,_.MO(_.MI(_.MC(T[75]))+_.MI(0),null,E[138])),r.shift(),C),E[119]].join(""):e+=[(r.unshift({num_reviews:_.format_number(_.MB(T[75]))}),C=_.ME(E[139],_.MB,_.MN,_.MO(_.MI(_.MC(T[75]))+_.MI(0),null,E[139])),r.shift(),C),E[119]].join(""),e+=E[140]),e+=E[140]),e+=E[140]}return _.MN("fe_adjective_text",0),_.MN("fe_allow_zero",0),_.MN("fe_classes",0),_.MN("fe_custom_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_modifier_end",0),_.MN("fe_modifier_inline",0),_.MN("fe_modifier_inverse",0),_.MN("fe_modifier_outline",0),_.MN("fe_modifier_text",0),_.MN("fe_reviews_number",0),_.MN("fe_score",0),_.MN("fe_score_formatted",0),_.MN("fe_calc_score_formatted",0),_.MN("fe_show_adjective",0),e+=["",E[119]].join(""),e+=E[15],_r_(e)}(e),r=_.SV(i),e+=E[43]}return e+=E[14],_.MN("fe_allow_zero",0),e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_score",0),e+=E[14],_.MN("fe_score_formatted",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],e+=E[15],_r_(e)}function c(e){if(_i_("269:b2d772da"),e+=E[14],_.MJ(_.MB(T[22]))){e+=E[14],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=E[14],_.MN("fe_class_avatar","bui-avatar"),e+=E[14],_.MN("fe_flag_size",16),e+=E[14],_.MD(T[16])&&(e+=E[14],_.MN("fe_class_block",_.MB(T[15])+" bui-avatar-block--small"),e+=E[14],_.MN("fe_flag_size",12),e+=E[14]),e+=E[14],_.MD(T[17])&&(e+=E[14],_.MN("fe_class_block",_.MB(T[15])+" bui-avatar-block--large"),e+=E[14]),e+=[E[29],_.F.entities(_.MC(T[15])),E[30]].join("");var t={fe_avatar:_.MB(T[18]),fe_modifier_large:_.MB(T[17]),fe_modifier_small:_.MB(T[16]),fe_name:_.MB(T[22])},i=r;(r=_.SV([{},{}])).unshift(t),n=e,_i_("269:425df06c"),n+=E[14],(_.MJ(_.MB(T[22]))||_.MJ(_.MB(T[18])))&&(n+=E[14],_.MN("fe_avatar",_.defined(_.MB(T[18]))&&_.MJ(10<_.MB(T[18]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(T[18])))?_.MB(T[18]):0),n+=E[14],_.MN("fe_avatar_class","c-avatar bui-avatar "),n+=E[14],_.MD(T[16])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--small"),n+=E[14],_.MD(T[17])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--large"),n+=E[14],_.MD(T[20])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--larger"),n+=E[14],_.MD(T[21])&&_.MN("fe_avatar_class",_.MB(T[19])+" bui-avatar--largest"),n+=E[14],_.MN("fe_character",_.MB(T[22])&&_.substr(_.MB(T[22]),0,1).toLowerCase()),n+=E[14],_.MN("fe_character_avatar",0),n+=E[14],_.MJ(/[a-z]/i.test(_.MB(T[24])))&&(n+=E[14],_.MN(T[23],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(T[24])+".png",0,0,0,0)),n+=E[14]),n+=E[14],_.MD(T[23])?(n+=E[14],_.MN(T[25],_.MC(T[23]))):(n+=E[14],_.MN(T[25],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),n+=E[14],n+=[E[29],_.F.entities(_.MC(T[19])),E[30]].join(""),_.MJ(_.MB(T[18]))||_.MJ(_.MB(T[23]))?(n+=E[31],_.MD(T[18])?n+=[E[32],_.MC(T[18]),E[33]].join(""):_.MD(T[23])&&(n+=[E[32],_.MC(T[23]),E[33]].join("")),n+=[E[34],_.MC(T[25]),E[35]].join("")):n+=[E[36],_.MC(T[25]),E[35]].join(""),n+=E[37]),n+=E[14],_.MN("fe_avatar",0),n+=E[14],_.MN("fe_avatar_class",0),n+=E[14],_.MN("fe_avatar_text",0),n+=E[14],_.MN("fe_character",0),n+=E[14],_.MN("fe_fallback_avatar",0),n+=E[14],_.MN("fe_modifier_large",0),n+=E[14],_.MN("fe_modifier_larger",0),n+=E[14],_.MN("fe_modifier_largest",0),n+=E[14],_.MN("fe_modifier_small",0),n+=E[14],_.MN("fe_name",0),n+=E[14],_.MN("fe_on_error_func",0),n+=E[14],n+=E[15],e=_r_(n),r=_.SV(i),e+=[E[38],_.F.js(_.MC(T[22])),E[39]].join(""),_.MJ(_.MB(T[28]))&&(e+=E[40],_.MD(T[12])&&(e+=E[14],_.MD(T[27])||(e+=[E[41],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(T[26])+"/"+_.MB(T[12])+".png",0,0,0,0),E[42]].join("")),e+=E[14]),e+=[E[14],_.F.entities(_.MC(T[28])),E[39]].join("")),e+=E[43]}var n;return e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_class_avatar",0),e+=E[14],_.MN("fe_class_block",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_flag_size",0),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],e+=E[15],_r_(e)}function d(e){return _i_("269:c01d103b"),e+=E[15],e+=[E[14],"",E[14]].join(""),_.MD(T[87])&&(e+=E[14],_.MJ(_.MB(T[88]))&&_.MJ(160<_.MB(T[87]).toString().length)&&(e+=E[14],_.MN("fe_truncated",_.substr(_.MB(T[87]),0,160)+"..."),e+=E[14]),e+=E[14]),e+=E[14],_.MN("fe_prefix",""),e+=E[14],_.MD(T[86])&&(e+=E[14],_.MN("fe_prefix",_.MB(T[89])+""+_.MB(T[86])+"&nbsp;&middot;&nbsp;"),e+=E[14]),e+=E[14],_.MD(T[87])&&(e+=E[14],e+=[E[14],_.MC(T[89]),E[163]].join(""),_.MJ(_.MB(T[90]))&&_.MJ(_.MB(T[55]))&&(e+=E[164]),e+=E[165],_.MD(T[91])&&(e+=E[166],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=_.F.html(_.MC(T[87])),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[169]),e+=E[14],_.MD(T[83])&&(e+=[E[116],_.F.entities(_.MC(T[83])),E[33]].join("")),e+=E[170],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=[E[14],_.MC(T[91])||_.MC(T[87])].join(""),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[39],e+=E[14]),e+=E[14],e+=E[171],_.MD(T[92])&&(e+=[E[14],_.F.entities(_.MC(T[92])),E[14]].join("")),e+=E[14],_.MK(_.MB(T[55]))&&(e+=E[164]),e+=E[172],_.MD(T[91])&&(e+=E[173],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=_.F.html(_.MC(T[90])),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[174]),e+=E[14],_.MD(T[93])&&(e+=[E[175],_.F.entities(_.MC(T[93])),E[33]].join("")),e+=E[176],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=[E[14],_.MC(T[91])||_.MC(T[90])].join(""),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[39],_.MD(T[93])&&(e+=E[177],_.MJ(_.MC(T[94])+""=="mdot")||_.MJ(_.MC(T[94])+""=="www")||(e+=[E[14],_.ME(E[178],_.MB,_.MN,null),E[14]].join("")),e+=E[179]),e+=E[14],e+=E[14],_.MN("fe_fold",0),e+=E[14],_.MN("fe_prefix",0),e+=E[14],_.MN("fe_review_body_type",0),e+=E[14],_.MN("fe_review_body",0),e+=E[14],_.MN("fe_review_prefix",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function h(e){return _i_("269:e827ed8b"),e+=E[15],e+=[E[14],"",E[14]].join(""),_.MD(T[87])&&(e+=E[14],_.MJ(_.MB(T[88]))&&_.MJ(160<_.MB(T[87]).toString().length)&&(e+=E[14],_.MN("fe_truncated",_.substr(_.MB(T[87]),0,160)+"..."),e+=E[14]),e+=E[14]),e+=E[14],_.MN("fe_prefix",""),e+=E[14],_.MD(T[86])&&(e+=E[14],_.MN("fe_prefix",_.MB(T[89])+""+_.MB(T[86])+'<span aria-hidden="true">&nbsp;&middot;&nbsp;</span>'),e+=E[14]),e+=E[14],_.MD(T[87])&&(e+=[_.MC(T[89]),E[201]].join(""),_.MD(T[91])&&(e+=E[202],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=_.MC(T[87]),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[203]),_.MD(T[93])&&(e+=[E[175],_.F.entities(_.MC(T[93])),E[33]].join("")),_.MD(T[83])&&(e+=[E[116],_.F.entities(_.MC(T[83])),E[33]].join("")),e+=E[204],_.MD(T[81])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=_.MC(T[91])||_.MC(T[87]),_.MD(T[81])&&(e+=_.ME(E[168],_.MB,_.MN,null)),e+=E[205],_.MJ(_.MB(T[93]))&&_.MJ(_.MB(T[87]).toString().length>_.MB(T[93]))&&(e+=E[206],_.MJ(_.MC(T[94])+""=="mdot")||_.MJ(_.MC(T[94])+""=="www")||(e+=[_.ME(E[178],_.MB,_.MN,null),E[15]].join("")),e+=E[179])),e+=E[14],_.MN("fe_fold",0),e+=E[14],_.MN("fe_prefix",0),e+=E[14],_.MN("fe_review_body",0),e+=E[14],_.MN("fe_review_prefix",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_review_lang",0),e+=E[14],_.MN("fe_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function u(e){return _i_("269:ad78dba5"),e+=["",E[0]].join(""),_.MD(T[56])&&(e+=E[1],_.MD(T[51])&&(e+=E[114],_.MN("fe_title_direction_class",_.MJ(/^(ar|he)$/.test(_.MB(T[51])))?"c-review__title--rtl":"c-review__title--ltr"),e+=E[1]),e+=E[1],_.MD(T[52])&&(e+=E[114],_.MN("fe_title_translated_direction_class",_.MJ(/^(ar|he)$/.test(_.MB(T[52])))?"c-review__title--rtl":"c-review__title--ltr"),e+=E[1]),e+=E[1],_.MD(T[59])?(e+=E[115],_.MD(T[51])&&(e+=[E[116],_.F.entities(_.MC(T[51])),E[33]].join("")),e+=E[117],e+=[E[118],_.F.entities(_.MC(T[53])),E[119]].join(""),_.MJ(_.MB(T[54]))&&_.MJ(_.MB(T[54])+""=="small")&&(e+=E[120]),e+=E[119],_.MJ(_.MB(T[55]))&&(e+=E[121]),e+=E[119],e+=[E[122],_.MC(T[56]),E[123]].join(""),_.MD(T[52])&&(e+=[E[116],_.F.entities(_.MC(T[52])),E[33]].join("")),e+=E[117],e+=[E[124],_.F.entities(_.MC(T[57])),E[119]].join(""),_.MK(_.MB(T[55]))&&(e+=E[125]),e+=E[119],e+=E[122],_.MD(T[58])?e+=[E[82],_.MC(T[58]),E[126]].join(""):e+=[E[82],_.MC(T[56]),E[126]].join(""),e+=E[127]):(e+=E[128],_.MD(T[51])&&(e+=[E[116],_.F.entities(_.MC(T[51])),E[33]].join("")),e+=E[117],e+=[E[129],_.F.entities(_.MC(T[53])),E[119]].join(""),_.MJ(_.MB(T[54]))&&_.MJ(_.MB(T[54])+""=="small")&&(e+=E[120]),e+=E[119],e+=[E[130],_.MC(T[56]),E[127]].join("")),e+=E[0]),e+=E[0],_.MN("fe_review_title",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_review_title_translated",0),e+=E[0],_.MN("fe_review_title_translated_lang",0),e+=E[0],_.MN("fe_review_title_lang",0),e+=E[0],_.MN("fe_title_direction_class",""),e+=E[0],_.MN("fe_title_translated_direction_class",""),e+=[E[15],"",E[15]].join(""),_r_(e)}function f(e){return _i_("269:1c8d9908"),e+=["",E[0],(r.unshift({name:E[245]}),C=_.HELPER("icon_export",r[0]),r.shift(),C),E[0],(r.unshift({name:E[74]}),C=_.HELPER("icon_export",r[0]),r.shift(),C),E[0],(r.unshift({name:E[71]}),C=_.HELPER("icon_export",r[0]),r.shift(),C),E[0],(r.unshift({name:E[246]}),C=_.HELPER("icon_export",r[0]),r.shift(),C),E[15],""].join(""),_r_(e)}function p(e){if(_i_("269:15dfb5d1"),e+=["",E[119]].join(""),_.MJ(_.MB(T[2]))||_.MJ(_.MB(T[29]))){if(_.MN("fe_classes","bui-review-score c-score"),_.MJ(_.MB(T[61]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--outline"),_.MJ(_.MB(T[62]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--end"),_.MJ(_.MB(T[63]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--inverse"),_.MJ(_.MB(T[64]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--inline"),_.MJ(_.MB(T[65]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--text"),_.MJ(_.MB(T[16]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--small"),_.MJ(_.MB(T[66]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--smaller"),_.MJ(_.MB(T[67]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--external"),_.MJ(_.MB(T[68]))&&_.MN("fe_classes",_.MB(T[60])+" bui-review-score--external-inline"),_.MD(T[69])?_.MN("fe_calc_score_formatted",_.MB(T[69])):(_.MJ(_.MB(T[29]))&&_.MN("fe_calc_score_formatted",0),_.MJ(_.MB(T[2]))&&_.MN("fe_calc_score_formatted",_.format_review_score_new(_.MB(T[2])))),_.MN("fe_can_show_adjective",_.MB(T[70])||_.MB(T[71])),_.MJ(_.MB(T[73]))){var t="";r.unshift({fe_hide_low_adjectives:_.MB(T[3]),fe_score:_.MB(T[2])}),t=function(e){if(_i_("269:48ed71d1"),_.MD(T[2])){var t="";_.MJ(1<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(T[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(T[1],t),_.MJ(_.MB(T[3]))&&_.MJ(_.MB(T[2])<7)&&_.MN(T[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(T[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(t),r.shift(),_.MN(T[72],t),_.MJ(_.MB(T[71]))&&_.MN("fe_adjective_text",_.MB(T[71]))}e+=[E[29],_.F.entities(_.MC(T[60])),E[132],(r.unshift({review_score_number:_.MB(T[69])}),C=_.ME(E[133],_.MB,_.MN,null),r.shift(),C),E[134],_.F.entities(_.MC(T[74])),E[135]].join(""),_.MD(T[72])&&(e+=[E[136],_.MC(T[72]),E[135]].join(""),_.MD(T[75])&&(e+=E[137],_.MD(T[67])?e+=[(r.unshift({total_num_reviews:_.MI(_.MB(T[75]))+_.MI(0)}),C=_.ME(E[138],_.MB,_.MN,_.MO(_.MI(_.MC(T[75]))+_.MI(0),null,E[138])),r.shift(),C),E[119]].join(""):e+=[(r.unshift({num_reviews:_.format_number(_.MB(T[75]))}),C=_.ME(E[139],_.MB,_.MN,_.MO(_.MI(_.MC(T[75]))+_.MI(0),null,E[139])),r.shift(),C),E[119]].join(""),e+=E[140]),e+=E[140]),e+=E[140]}return _.MN("fe_adjective_text",0),_.MN("fe_allow_zero",0),_.MN("fe_classes",0),_.MN("fe_custom_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_modifier_end",0),_.MN("fe_modifier_inline",0),_.MN("fe_modifier_inverse",0),_.MN("fe_modifier_outline",0),_.MN("fe_modifier_text",0),_.MN("fe_reviews_number",0),_.MN("fe_score",0),_.MN("fe_score_formatted",0),_.MN("fe_calc_score_formatted",0),_.MN("fe_show_adjective",0),e+=["",E[119]].join(""),e+=E[15],_r_(e)}function b(e){return _i_("269:de1facc5"),e+=["",E[22]].join(""),_.MD(T[14])&&(e+=[E[23],_.F.entities(_.MC(T[14])),E[24],_.ME(E[25],_.MB,_.MN,null),E[26]].join("")),e=function(e){_i_("269:02522b37"),e+=["",E[28]].join(""),r.unshift({fe_allow_zero:_.MB(T[29]),fe_avatar:_.MB(T[30]),fe_country_code:_.MB(T[31]),fe_country_name:_.MB(T[32]),fe_hide_flag:_.MB(T[27]),fe_name:_.MB(T[33]),fe_score:_.MB(T[4])}),e=c(e),r.shift(),e+=E[44],_.MD(T[37])&&(e+=E[1],r.unshift({fe_room_id:_.MB(T[35]),fe_room_name:_.MB(T[37]),fe_single_line:E[77]}),e=g(e),r.shift(),e+=E[0]);e+=E[78],_.MJ(_.MB(T[44]))&&(e+=[E[79],(r.unshift({name:E[80],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[81]].join(""),_.MN("fe_num_nights",_.MC(T[41])&&_.MC(T[41])[0]?_.MC(T[41])[0].b_nights:0),e+=E[82],_.MD(T[42])&&(e+=E[83],_.MD(T[43])?e+=[E[84],(r.unshift({num:_.MB(T[42])}),C=_.ME(E[85],_.MB,_.MN,_.MO(_.MC(T[42]),null,E[85])),r.shift(),C),E[86]].join(""):e+=[E[87],(r.unshift({num:_.MB(T[42])}),C=_.ME(E[85],_.MB,_.MN,_.MO(_.MC(T[42]),null,E[85])),r.shift(),C),E[88]].join(""),e+=E[82]),e+=E[82],_.MJ(_.MC(T[39]))&&(e+=E[83],r.unshift({fe_date:_.MC(T[39])}),e=function(e){_i_("269:f693a8a3"),e+=[E[66],"",E[0]].join(""),_.MD(T[38])&&(e+=[E[67],_.MC(T[38]),E[68]].join(""));return e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}(e),r.shift(),e+=E[82]),e+=E[89]);e+=E[78],_.MN("fe_customer_type",_.MC(T[45])),e+=E[0];var t="";_.MD(T[43])&&(t+=[E[90],_.ME(E[91],_.MB,_.MN,null),E[1]].join(""));t+=E[14],_.MN(T[46],t),e+=E[0],_.MJ(_.MC(T[47]))&&(e+=E[92],_.MJ(_.MC(T[47])+""=="group")||_.MJ(_.MC(T[47])+""=="with friends")||_.MJ(_.MC(T[47])+""=="colleagues")?e+=[E[93],(r.unshift({name:E[94],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[95],_.ME(E[96],_.MB,_.MN,null),E[83],_.MC(T[46]),E[97]].join(""):_.MJ(_.MC(T[47])+""=="young couple")||_.MJ(_.MC(T[47])+""=="mature couple")?e+=[E[93],(r.unshift({name:E[98],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[95],_.ME(E[99],_.MB,_.MN,null),E[83],_.MC(T[46]),E[97]].join(""):_.MJ(_.MC(T[47])+""=="solo traveller")?e+=[E[93],(r.unshift({name:E[100],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[95],_.ME(E[101],_.MB,_.MN,null),E[83],_.MC(T[46]),E[97]].join(""):(_.MJ(_.MC(T[47])+""=="family with young children")||_.MJ(_.MC(T[47])+""=="family with older children"))&&(e+=[E[93],(r.unshift({name:E[102],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[95],_.ME(E[103],_.MB,_.MN,null),E[83],_.MC(T[46]),E[97]].join("")),e+=E[104]);return e+=[E[46],"",E[15]].join(""),_r_(e)}(e+=E[27]),e+=E[105],r.unshift({fe_badge:_.MB(T[49])}),e=function(e){_i_("269:ae9e78af"),e+=[E[66],"",E[0]].join(""),_.MJ(_.MB(T[48]))&&(e+=[E[106],(r.unshift({color:"#FFFFFF",name:E[107],width:E[108]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[109],_.MC(T[48]),E[68]].join(""));return e+=E[0],_.MN("fe_badge",0),e+=[E[15],"",E[15]].join(""),_r_(e)}(e),r.shift(),e+=E[110],_.MJ(_.MB(T[50]))&&(e+=E[83],r.unshift({fe_date:_.MB(T[50])}),e=y(e),r.shift(),e+=E[82]),e+=E[111],_.MD(T[56])&&(e+=E[112],_.MD(T[59])?(e+=E[113],r.unshift({fe_review_title:_.MB(T[56]),fe_review_title_lang:_.MB(T[51]),fe_review_title_translated:_.MB(T[58]),fe_review_title_translated_lang:_.MB(T[52]),fe_start_translated:_.MB(T[55]),fe_translatable:_.MB(T[59])})):(e+=E[113],r.unshift({fe_review_title:_.MB(T[56]),fe_review_title_lang:_.MB(T[51])})),e=u(e),r.shift(),e+=E[112],e+=E[87]),e+=E[131],r.unshift({fe_allow_zero:_.MB(T[29]),fe_score:_.MB(T[4]),fe_score_formatted:_.MB(T[76])}),e=p(e),r.shift(),e+=E[141],(_.MJ(_.MB(T[95]))||_.MJ(_.MB(T[97]))||_.MJ(_.MB(T[99])))&&(e+=E[142],_.MD(T[59])?(e+=E[87],r.unshift({fe_copy_show_original:_.MB(T[5]),fe_copy_show_translated:_.MB(T[6]),fe_copy_translated_by:_.MB(T[7]),fe_force_ltr:_.MB(T[79]),fe_force_rtl:_.MB(T[78]),fe_review_general:_.MB(T[99]),fe_review_general_translated:_.MB(T[101]),fe_review_lang:_.MB(T[83]),fe_review_negative:_.MB(T[97]),fe_review_negative_translated:_.MB(T[98]),fe_review_positive:_.MB(T[95]),fe_review_positive_translated:_.MB(T[96]),fe_review_url:_.MB(T[9]),fe_start_translated:_.MB(T[55]),fe_truncate:_.MB(T[88])}),e=o(e)):(e+=E[87],r.unshift({fe_force_ltr:_.MB(T[79]),fe_force_rtl:_.MB(T[78]),fe_review_general:_.MB(T[99]),fe_review_lang:_.MB(T[83]),fe_review_negative:_.MB(T[97]),fe_review_positive:_.MB(T[95]),fe_truncate:_.MB(T[88])}),e=a(e)),r.shift(),e+=E[83],e+=E[211]),e+=E[212],(_.MJ(_.MB(T[103]))||_.MJ(_.MB(T[102])))&&(e+=E[142],r.unshift({fe_destination_photos:_.MB(T[103]),fe_review_id:_.MB(T[115]),fe_uploaded_photos:_.MB(T[102])}),e=k(e),r.shift(),e+=E[211]),e+=E[212],_.MJ(_.MB(T[119]))&&(e+=E[142],r.unshift({fe_response:_.MB(T[119]),fe_response_title:_.MB(T[120]),fe_truncate:1}),e=v(e),r.shift(),e+=E[211]),e+=E[212],_.MK(_.MB(T[121]))&&(_.MJ(_.MB(T[103]))||_.MJ(_.MB(T[102])))&&(e=f(e+=E[82]),e+=E[126]),e+=E[212],_.MJ(_.MB(T[135]))&&_.MJ(_.MB(T[9]))&&(e+=E[247],r.unshift({fe_helpful_forward_feedback:E[77],fe_hotel_id:_.MB(T[135]),fe_review_url:_.MB(T[9])}),e=w(e),r.shift(),e+=E[211]),e+=E[288],_.MJ(_.MB(T[151]))&&(e+=E[82],r.unshift({fe_content_accuracy_url:_.MB(T[151])}),e=m(e),r.shift(),e+=E[126]),e+=[E[297],"",E[15]].join(""),_r_(e)}function m(e){return _i_("269:b40c239c"),e+=["",E[289],_.ME(E[290],_.MB,_.MN,null),E[291],_.ME(E[292],_.MB,_.MN,null),E[293],_.F.entities(_.MC(T[151])),E[294],_.ME(E[295],_.MB,_.MN,null),E[296]].join(""),_.MN("fe_content_accuracy_url",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function v(e){return _i_("269:fe1ca5ff"),e+=[E[14],"",E[14]].join(""),_.MD(T[116])&&(_.MJ(_.MB(T[88]))&&_.MJ(60<_.MB(T[116]).toString().length)&&_.MN("fe_response_truncated",_.substr(_.MB(T[116]),0,60)),e+=E[234],_.MD(T[117])&&(e+=[E[235],(r.unshift({class:E[236],name:E[237]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[238],_.F.html(_.MC(T[117])),E[37]].join("")),e+=[E[239],_.F.html(_.MC(T[118])||_.MC(T[116])),E[14]].join(""),_.MD(T[118])&&(e+=E[240]),e+=E[39],_.MD(T[118])&&(e+=[E[241],_.F.html(_.MC(T[116])),E[242],_.ME(E[243],_.MB,_.MN,null),E[179]].join("")),e+=E[244]),e+=E[14],_.MN("fe_response",0),e+=E[14],_.MN("fe_response_title",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_response_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function g(e){return _i_("269:bcc5ae8d"),e+=[E[45],"",E[46]].join(""),_.MJ(_.MB(T[35]))&&_.MJ(_.MB(T[37]))&&(e+=E[47],_.MD(T[34])||(e+=E[48]),e+=[E[49],_.F.entities(_.MC(T[35])),E[50]].join(""),_.MD(T[34])?e+=[E[51],_.F.entities(_.MC(T[35])),E[52],(r.unshift({name:E[53],size:E[54]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[55],_.F.entities(_.MC(T[36])),E[56],_.F.entities(_.MC(T[37])),E[57]].join(""):(e+=[E[58],(r.unshift({color:"#6B6B6B",name:E[59],size:E[60]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[61],_.F.entities(_.MC(T[35])),E[62],(r.unshift({room_name:_.MB(T[37])}),C=_.ME(E[63],_.MB,_.MN,null),r.shift(),C),E[64]].join(""),_.MJ(_.MC(T[39]))&&(e+=E[65],r.unshift({fe_date:_.MC(T[39])}),e=M(e),r.shift(),e+=E[69]),e+=E[70],_.MD(T[40])?e+=[E[69],(r.unshift({color:"#BDBDBD",name:E[71],size:E[72]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[73]].join(""):e+=[E[69],(r.unshift({color:"#BDBDBD",name:E[74],size:E[72]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[73]].join(""),e+=E[75]),e+=E[76]),e+=E[15],_.MN("fe_room_id",0),e+=E[15],_.MN("fe_room_name",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function M(e){return _i_("269:643aa65f"),e+=[E[66],"",E[0]].join(""),_.MD(T[38])&&(e+=[E[67],_.MC(T[38]),E[68]].join("")),e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function w(e){var t,i;return _i_("269:ac2761e9"),e+=[E[66],"",E[0]].join(""),_.MJ(_.MB(T[9]))&&_.MJ(_.MB(T[135]))&&(e+=E[248],r.unshift({fe_helpful_forward_feedback:_.MB(T[133]),review_helpful_hotel_id:_.MB(T[135]),review_helpful_review_url:_.MB(T[9])}),e=function(e){if(_i_("269:93bcc859"),e+=E[249],_.MK(_.MB(T[123]))&&(e+=E[250],_.MN("review_helpful_hotel_id",_.MC(T[122])),e+=E[15]),e+=E[249],_.MK(_.MB(T[125]))&&(e+=E[250],_.MN("review_helpful_review_url",_.MC(T[124])),e+=E[15]),e+=E[249],_.MK(_.MB(T[127]))&&(e+=E[250],_.MN("is_helpful_by_user",_.MC(T[126])&&_.MC(T[126]).helpful),e+=E[15]),e+=E[249],_.MK(_.MB(T[129]))&&(e+=E[250],_.MN("helpful_count",_.MC(T[128])),e+=E[251],_.MN("number_people",_.MC(T[128])),e+=E[15]),e+=E[45],_.MN("start_bold","<strong>"),e+=E[15],_.MN("end_bold","</strong>"),e+=E[15],_.MJ(_.MB(T[127]))&&_.MJ(_.MB(T[129])<=1))e+=E[251],_.MN("vote_feedback_message",_.MB(T[130])),e+=E[15];else if(_.MJ(_.MB(T[127]))&&_.MJ(1<_.MB(T[129]))){e+=E[252];var t="";t+=E[253],_.MN("number_people",_.MI(_.MB(T[132]))-_.MI(1)),t+=[E[253],_.VP(E[254],_.MO(_.MC(T[132]),null,E[254])),E[250]].join(""),_.MN(T[131],t),e+=E[15]}else _.MK(_.MB(T[127]))&&_.MJ(0<_.MB(T[129]))&&(e+=E[251],_.MN(T[131],[E[253],_.VP(E[255],_.MO(_.MC(T[132]),null,E[255])),E[250]].join("")),e+=E[15]);return e+=E[45],e+=E[256],e+=E[257],e+=E[258],e+=E[259],_.MJ(_.MB(T[123]))&&_.MJ(_.MB(T[125]))&&(e+=E[260],_.MD(T[133])&&(e+=E[261],_.MK(_.MB(T[131]))&&(e+=E[262]),e+=[E[263],_.MB(T[131]),E[264]].join("")),e+=[E[265],_.F.entities(_.MB(T[129])),E[266],_.F.entities(_.MB(T[123])),E[267],_.F.entities(_.MB(T[125])),E[268],(r.unshift({color:"#0071C2",name:E[269],size:E[270]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[126],_.MB(T[134]),E[271],_.F.entities(_.MB(T[123])),E[267],_.F.entities(_.MB(T[125])),E[272],(r.unshift({color:"#0071C2",name:E[273],size:E[270]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[126],_.ME(E[274],_.MB,_.MN,null),E[275]].join(""),_.MD(T[133])||(e+=E[276],_.MK(_.MB(T[131]))&&(e+=E[262]),e+=[E[217],_.MB(T[131]),E[277]].join("")),e+=E[278]),e+=E[45],_.MN("review_helpful_hotel_id",""),e+=E[15],_.MN("review_helpful_review_url",""),e+=E[15],_.MN("is_helpful_by_user",""),e+=E[15],_.MN("helpful_count",""),e+=E[15],_.MN("number_people",""),e+=E[15],_.MN("vote_feedback_message",""),e+=E[15],_r_(e)}(e),r.shift(),e+=E[279],i=e,_i_("269:6b8751b9"),i+=E[45],_.MN("show_review_feedback_form",_.MK(_.MB(T[136])&&_.MJ(_.MC(T[137])+""=="review_am"))&&_.MC(T[138])&&(_.MC(T[139])||_.MC(T[140]))),i+=E[46],i+=E[15],e=_r_(i),e+=E[126],t=e,_i_("269:a3e69c7b"),t+=E[250],_.MJ(_.MB(T[145]))&&_.MK(_.MC(T[146]))&&_.MK(_.MJ(_.MC(T[147])+""=="msie")&&_.MJ(7==_.MC(T[148])))&&_.MJ(_.MC(T[149])==_.MC(T[150]))&&(t+=[E[280],_.MC(T[124]),E[281],_.F.entities(_.MC(T[122])),E[282],_.MB(T[141]),E[283],_.MB(T[142]),E[284],_.MB(T[143]),E[285],_.MB(T[144]),E[286]].join("")),t+=E[15],e=_r_(t),e+=E[287]),e+=E[0],_.MN("fe_hotel_id",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("module_review_feedback",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function y(e){return _i_("269:8376961b"),e+=[E[66],"",E[0]].join(""),_.MD(T[38])&&(e+=[E[67],_.MC(T[38]),E[68]].join("")),e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function k(e){if(_i_("269:ff65466b"),e+=[E[66],"",E[0]].join(""),_.MN("fe_total_photos",_.MI(_.array_length(_.MB(T[102])))+_.MI(_.array_length(_.MB(T[103])))),e+=E[0],_.MJ(0<_.MB(T[114]))){if(e+=E[1],_.MN("fe_displayed_counter",1),e+=E[1],_.MN("fe_max_thubmnails",4),e+=E[1],_.MN("fe_additional_class",""),e+=E[1],_.MJ(_.MC(T[94])+""=="mdot")&&(e+=E[114],_.MN("fe_additional_class","c-review-block__photos--mobile"),e+=E[1]),e+=[E[213],_.F.entities(_.MC(T[104])),E[214],_.F.entities(_.MC(T[9])),E[215]].join(""),_.MJ(_.MC(T[94])+""!="mdot")&&(e+=E[216]),e+=E[217],_.MD(T[102])){e+=E[126];var t=_.MC(T[102])||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=E[218],_.MJ(_.MB(T[105])>_.MB(T[106]))&&(e+=E[219]),e+=[E[220],_.F.entities(_.MC(T[105])),E[221]].join(""),_.MJ(_.MC(T[94])+""=="www")?e+=_.F.entities(_.MC(T[107])):e+=_.F.entities(_.MC(T[108])),e+=[E[222],_.F.entities(_.MC(T[109])),E[223]].join(""),_.MD(T[111])?e+=[_.F.entities(_.MC(T[110])),E[224]].join(""):e+=[_.F.entities(_.MC(T[112])),E[225],_.F.entities(_.MC(T[112])),E[226],_.F.entities(_.MC(T[113])),E[227]].join(""),e+=E[228],_.MJ(_.MB(T[114])>_.MB(T[105]))&&_.MJ(_.MB(T[105])==_.MB(T[106]))&&(e+=[E[229],_.F.entities(_.MI(_.MC(T[114]))-_.MI(_.MC(T[105]))),E[230]].join("")),e+=E[231],_.MN("fe_displayed_counter",_.MI(_.MB(T[105]))+_.MI(1)),e+=E[126];r.shift(),e+=E[114]}if(e+=E[114],_.MD(T[103])){e+=E[126];t=_.MC(T[103])||[];r.unshift(null);for(i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=E[218],_.MJ(_.MB(T[105])>_.MB(T[106]))&&(e+=E[219]),e+=[E[220],_.F.entities(_.MC(T[105])),E[221]].join(""),_.MJ(_.MC(T[94])+""=="www")?e+=_.F.entities(_.MC(T[107])):e+=_.F.entities(_.MC(T[108])),e+=[E[222],_.F.entities(_.MC(T[109])),E[223]].join(""),_.MD(T[111])?e+=[_.F.entities(_.MC(T[110])),E[224]].join(""):e+=[_.F.entities(_.MC(T[112])),E[225],_.F.entities(_.MC(T[112])),E[226],_.F.entities(_.MC(T[113])),E[227]].join(""),e+=E[228],_.MJ(_.MB(T[114])>_.MB(T[105]))&&_.MJ(_.MB(T[105])==_.MB(T[106]))&&(e+=[E[232],_.F.entities(_.MI(_.MC(T[114]))-_.MI(_.MC(T[105]))),E[230]].join("")),e+=E[231],_.MN("fe_displayed_counter",_.MI(_.MB(T[105]))+_.MI(1)),e+=E[126];r.shift(),e+=E[114]}e+=E[233]}return e+=E[0],_.MN("fe_destination_photos",0),e+=E[0],_.MN("fe_displayed_counter",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("fe_total_photos",0),e+=E[0],_.MN("fe_uploaded_photos",0),e+=[E[15],"",E[15]].join(""),_r_(e)}if(n+=E[0],!_.MD(T[0])){n+=E[1];var B="";r.unshift({fe_score:_.MB(T[4])}),B=function(e){if(_i_("269:e66dcfcc"),_.MD(T[2])){var t="";_.MJ(1<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(T[2]))&&_.MJ(_.MB(T[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(T[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(T[1],t),_.MJ(_.MB(T[3]))&&_.MJ(_.MB(T[2])<7)&&_.MN(T[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(T[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(B),r.shift(),_.MN(T[0],B),n+=E[0]}return n+=E[0],_.MD(T[9])&&(n+=E[1],_.MN(T[5],_.ME(E[16],_.MB,_.MN,null)),n+=E[1],_.MN(T[6],_.ME(E[17],_.MB,_.MN,null)),n+=E[1],_.MN(T[7],(r.unshift({b_companyname:_.MB(T[8])}),C=_.ME(E[18],_.MB,_.MN,null),r.shift(),C)),n+=E[0]),n+=E[0],_.MN("fe_hide_flag",_.MJ(_.MB(T[10])+""=="cn")&&_.MJ(_.MC(T[11])+""=="tw")),n+=E[0],_.MN("fe_country_code",_.MJ(_.MB(T[12])+""=="tw")&&_.MK(_.MC(T[13]).taiwan_is_a_country)?0:_.MB(T[12])),n+=E[19],r.unshift({fe_guest_avatar:_.MB(T[163]),fe_guest_country:_.MB(T[28]),fe_guest_country_code:_.MB(T[12]),fe_guest_name:_.MB(T[33])?_.MB(T[33]):_.MB(T[164]),fe_hide_flag:_.MB(T[27]),fe_is_desktop_site:_.MB(T[153]),fe_jstmpl:E[77],fe_photos_review_url:_.MB(T[9]),fe_review_date:_.MB(T[50]),fe_review_negative:_.MB(T[97]),fe_review_negative_translated:_.MB(T[98]),fe_review_positive:_.MB(T[95]),fe_review_positive_translated:_.MB(T[96]),fe_review_score:_.MB(T[4]),fe_review_title:_.MB(T[0]),fe_review_title_lang:_.MB(T[83]),fe_review_title_translated:_.MB(T[165]),fe_review_url:_.MB(T[9]),fe_start_translated:_.MB(T[9])?1:0,fe_translatable:_.MB(T[9])?1:0,fe_uploaded_photos:_.MB(T[166])}),e=n,_i_("269:b0cee502"),e+=[E[20],"",E[21]].join(""),_.MJ(_.MC(T[152]))||_.MJ(_.MB(T[153]))?(e=b(e+=E[1]),e+=E[0]):(e+=E[298],_.MD(T[33])&&(e+=E[299],r.unshift({fe_allow_zero:_.MB(T[29]),fe_avatar:_.MB(T[30]),fe_country_code:_.MB(T[31]),fe_country_name:_.MB(T[32]),fe_hide_flag:_.MB(T[27]),fe_name:_.MB(T[33]),fe_score:_.MB(T[4]),fe_score_formatted:_.MB(T[76])}),e=l(e),r.shift(),e+=E[302]),e+=E[303],(_.MJ(_.MB(T[56]))||_.MJ(_.MB(T[50])))&&(e+=E[299],r.unshift({fe_badge:_.MB(T[49])}),i=e,_i_("269:795452ea"),i+=[E[66],"",E[0]].join(""),_.MJ(_.MB(T[48]))&&(i+=[E[106],(r.unshift({color:"#FFFFFF",name:E[107],width:E[108]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[109],_.MC(T[48]),E[68]].join("")),i+=E[0],_.MN("fe_badge",0),i+=[E[15],"",E[15]].join(""),e=_r_(i),r.shift(),e+=E[185],r.unshift({fe_date:_.MB(T[50])}),e=y(e),r.shift(),e+=E[110],_.MD(T[14])&&(e+=[E[304],_.F.entities(_.MC(T[14])),E[305],_.ME(E[25],_.MB,_.MN,null),E[306]].join("")),e+=E[185],_.MD(T[59])?(e+=E[83],r.unshift({fe_review_title:_.MB(T[56]),fe_review_title_lang:_.MB(T[51]),fe_review_title_size:_.MB(T[54]),fe_review_title_translated:_.MB(T[58]),fe_review_title_translated_lang:_.MB(T[52]),fe_start_translated:_.MB(T[55]),fe_translatable:_.MB(T[59])})):(e+=E[83],r.unshift({fe_review_title:_.MB(T[56]),fe_review_title_lang:_.MB(T[51])})),e=u(e),r.shift(),e+=E[82],e+=E[302]),e+=E[303],(_.MJ(_.MB(T[95]))||_.MJ(_.MB(T[97]))||_.MJ(_.MB(T[99])))&&(e+=E[299],_.MD(T[59])?(e+=E[83],r.unshift({fe_copy_show_original:_.MB(T[5]),fe_copy_show_translated:_.MB(T[6]),fe_copy_translated_by:_.MB(T[7]),fe_data_type:_.MB(T[82]),fe_force_ltr:_.MB(T[79]),fe_force_rtl:_.MB(T[78]),fe_review_general:_.MB(T[99]),fe_review_general_translated:_.MB(T[101]),fe_review_lang:_.MB(T[83]),fe_review_negative:_.MB(T[97]),fe_review_negative_translated:_.MB(T[98]),fe_review_positive:_.MB(T[95]),fe_review_positive_translated:_.MB(T[96]),fe_review_url:_.MB(T[9]),fe_start_translated:_.MB(T[55]),fe_truncate:_.MB(T[88])}),e=o(e)):(e+=E[83],r.unshift({fe_force_ltr:_.MB(T[79]),fe_force_rtl:_.MB(T[78]),fe_review_general:_.MB(T[99]),fe_review_lang:_.MB(T[83]),fe_review_negative:_.MB(T[97]),fe_review_positive:_.MB(T[95]),fe_truncate:_.MB(T[88])}),e=a(e)),r.shift(),e+=E[82],e+=E[302]),e+=E[307],(_.MJ(_.MB(T[103]))||_.MJ(_.MB(T[102])))&&(e+=E[299],r.unshift({fe_destination_photos:_.MB(T[103]),fe_review_url:_.MB(T[157]),fe_uploaded_photos:_.MB(T[102])}),e=k(e),r.shift(),e+=E[302]),e+=E[308],_.MD(T[161])&&(e+=E[299],r.unshift({fe_guest_stay_date:_.MB(T[44]),fe_room_id:_.MB(T[35]),fe_room_name:_.MB(T[37]),fe_stay_customer_type:_.MB(T[160])}),t=e,_i_("269:67f111d8"),t+=["",E[46]].join(""),(_.MJ(_.MB(T[37]))||_.MJ(_.MB(T[44]))||_.MJ(_.MB(T[160])))&&(t+=E[309],_.MD(T[37])&&(t+=[E[310],_.F.entities(_.MC(T[35])),E[311],(r.unshift({name:E[53],size:E[270]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[312],_.F.entities(_.MC(T[37])),E[313]].join("")),t+=E[314],_.MD(T[44])&&(t+=[E[315],(r.unshift({name:E[80],size:E[270]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[316]].join(""),_.MN("fe_num_nights",_.MC(T[41])&&_.MC(T[41])[0]?_.MC(T[41])[0].b_nights:0),t+=E[317],_.MD(T[42])&&(t+=[E[112],(r.unshift({num:_.MB(T[42])}),C=_.ME(E[85],_.MB,_.MN,_.MO(_.MC(T[42]),null,E[85])),r.shift(),C),E[318]].join("")),t+=E[87],_.MJ(_.MC(T[39]))&&(t+=E[112],r.unshift({fe_date:_.MC(T[39])}),t=M(t),r.shift(),t+=E[87]),t+=E[319]),t+=E[314],_.MD(T[160])&&(t+=E[82],_.MN(T[158],void 0),t+=E[82],_.MN(T[159],void 0),t+=E[82],_.MJ(_.MC(T[47])+""=="group")||_.MJ(_.MC(T[47])+""=="with friends")||_.MJ(_.MC(T[47])+""=="colleagues")?(t+=E[83],_.MN(T[158],E[94]),t+=E[83],_.MN(T[159],_.ME(E[96],_.MB,_.MN,null)),t+=E[82]):_.MJ(_.MC(T[47])+""=="young couple")||_.MJ(_.MC(T[47])+""=="mature couple")?(t+=E[83],_.MN(T[158],E[98]),t+=E[83],_.MN(T[159],_.ME(E[99],_.MB,_.MN,null)),t+=E[82]):_.MJ(_.MC(T[47])+""=="solo traveller")?(t+=E[83],_.MN(T[158],E[100]),t+=E[83],_.MN(T[159],_.ME(E[101],_.MB,_.MN,null)),t+=E[82]):(_.MJ(_.MC(T[47])+""=="family with young children")||_.MJ(_.MC(T[47])+""=="family with older children"))&&(t+=E[83],_.MN(T[158],E[102]),t+=E[83],_.MN(T[159],_.ME(E[103],_.MB,_.MN,null)),t+=E[82]),t+=E[82],_.MJ(_.MB(T[158]))&&_.MJ(_.MB(T[159]))&&(t+=[E[320],(r.unshift({name:_.MB(T[158]),size:E[270]}),C=_.HELPER("icon",r[0]),r.shift(),C),E[312],_.F.entities(_.MC(T[159])),E[321]].join("")),t+=E[126]),t+=E[322]),t+=E[46],_.MN("fe_guest_stay_date",0),t+=E[15],_.MN("fe_room_id",0),t+=E[15],_.MN("fe_room_name",0),t+=E[15],_.MN("fe_stay_customer_type",0),t+=[E[15],"",E[15]].join(""),e=_r_(t),r.shift(),e+=E[302]),e+=E[303],_.MJ(_.MB(T[119]))&&(e+=E[299],r.unshift({fe_response:_.MB(T[119]),fe_response_title:_.MB(T[120]),fe_truncate:1}),e=v(e),r.shift(),e+=E[302]),e+=E[307],_.MK(_.MB(T[121]))&&(_.MJ(_.MB(T[103]))||_.MJ(_.MB(T[102])))&&(e=f(e+=E[126]),e+=E[114]),e+=E[308],_.MJ(_.MB(T[37]))&&_.MK(_.MB(T[161]))&&(e+=E[126],r.unshift({fe_room_id:_.MB(T[35]),fe_room_name:_.MB(T[37])}),e=g(e),r.shift(),e+=E[114]),e+=E[323],_.MJ(_.MB(T[135]))&&_.MJ(_.MB(T[9]))&&_.MK(_.MB(T[162]))&&(e+=E[324],r.unshift({fe_hotel_id:_.MB(T[135]),fe_review_url:_.MB(T[9])}),e=w(e),r.shift(),e+=E[302]),e+=E[325],_.MJ(_.MB(T[151]))&&(e+=E[126],r.unshift({fe_content_accuracy_url:_.MB(T[151])}),e=m(e),r.shift(),e+=E[114]),e+=E[326]),e+=E[0],_.MN("fe_allow_zero",0),e+=E[0],_.MN("fe_destination_photos",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_guest_avatar",0),e+=E[0],_.MN("fe_guest_badge",0),e+=E[0],_.MN("fe_guest_country",0),e+=E[0],_.MN("fe_guest_country_code",0),e+=E[0],_.MN("fe_guest_name",0),e+=E[0],_.MN("fe_guest_stay_date",0),e+=E[0],_.MN("fe_hotel_id",0),e+=E[0],_.MN("fe_jstmpl",0),e+=E[0],_.MN("fe_review_date",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_general_translated",0),e+=E[0],_.MN("fe_review_is_rtl",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_negative_translated",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_positive_translated",0),e+=E[0],_.MN("fe_review_response",0),e+=E[0],_.MN("fe_review_response_title",0),e+=E[0],_.MN("fe_review_response_truncate",0),e+=E[0],_.MN("fe_review_score",0),e+=E[0],_.MN("fe_review_score_formatted",0),e+=E[0],_.MN("fe_review_subscores",0),e+=E[0],_.MN("fe_review_title",0),e+=E[0],_.MN("fe_review_truncate",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("fe_photos_review_url",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_translatable",0),e+=E[0],_.MN("fe_uploaded_photos",0),e+=E[0],_.MN("fe_review_title_lang",0),e+=E[0],_.MN("fe_review_title_translated_lang",0),e+=E[0],_.MN("fe_review_lang",0),e+=E[0],_.MN("fe_visitor_cc1",0),e+=E[0],_.MN("fe_content_accuracy_url",0),e+=E[0],_.MN("fe_is_desktop_site",0),e+=[E[15],"",E[15]].join(""),n=_r_(e),r.shift(),n+=E[278],_r_(n)})}()),B.define("component/ugc/featured-reviews-carousel",function(e,t,i){_i_("269:446b6446");var n=e("component"),r=e("events");i.exports=n.extend({init:function(){_i_("269:e89c2c91"),window.BUI.createInstance("Carousel",this.el,{onAfterNavigate:function(){_i_("269:f8295160"),r.emit("featured-reviews-carousel:navigate"),_r_()}}).mount(),_r_()}}),_r_()}),B.define("ugc/behavior-tracker",function(e,t,i){_i_("269:29f91c7d");var r=e("jquery"),_=e("c360Tracker"),o=e("report-error"),n={fields:{REVIEW_SUMMARY:"travel_product_review_summary",PRODUCT_TYPE:"travel_product_type",PRODUCT_ID:"travel_product_id",REVIEW_NUMBER:"review_number",REVIEW_SCORE:"review_score",SORT_VALUE:"sort_value",FILTER_NAME:"filter_name",FILTER_VALUES:"filter_values",PAGE_NUMBER:"page_number"},trackBehavior:function(e,t,i){if(_i_("269:ee6cb6af"),!e||!t)return o("[ugc/behavior-tracker] Action name and version is required!"),_r_(!1);var n={action_name:e,action_version:t,content:i};return _r_(_.track(n))},trackOnClick:function(e,t,i,n){_i_("269:082d0bde1"),r(e).on("click",function(){_i_("269:bc3ba5711"),this.trackBehavior(t,i,n),_r_()}.bind(this)),_r_()}};i.exports=n,_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:60f09ce2");var r=e("ugc/behavior-tracker"),t=e("events"),i=e("hotel/review-list"),n=function(){_i_("269:360cccfc");var e={};return e[r.fields.PRODUCT_TYPE]="accommodation",e[r.fields.PRODUCT_ID]=B.env.b_hotel_id||"0",e[r.fields.REVIEW_NUMBER]=B.env.b_review_nr||0,e[r.fields.REVIEW_SCORE]=B.env.b_review_score_detailed||0,_r_(e)}();function _(){_i_("269:88a11caa");var e={};return e[r.fields.REVIEW_SUMMARY]=n,_r_(e)}function o(){_i_("269:59726583");var i={},e=Array.from(arguments);if(!e||0===e.length)return _r_(i);return e.forEach(function(e){_i_("269:dc4ce7b9");var t=n[e];t&&(e===r.fields.PRODUCT_ID?i[e]=parseInt(t):i[e]=t),_r_()}),_r_(i)}r.trackOnClick(".hp_nav_reviews_link","ugc__hp_top_bar_review_cta_clicked","0.1.0",_()),r.trackOnClick("#js--hp-gallery-scorecard","ugc__hp_review_floater_cta_clicked","0.1.0",_()),r.trackOnClick(".reviews-carousel-control","ugc__hp_review_floater_clicked","0.1.0",_()),r.trackOnClick(".hp_review_score_entry","ugc__hp_review_block_header_clicked","0.1.0",_()),$("#guest-featured_reviews__horizontal-block").on("click",".bui-input-checkbutton",function(e){_i_("269:f1c16207");var t=$(e.currentTarget).find("[data-js-review-topic]");if(0===t.length)return _r_();var i=t.first().data("category-id")||"0",n=_();n.topic_id=parseInt(i),r.trackBehavior("ugc__hp_review_block_topic_clicked","0.1.0",n),_r_()}),r.trackOnClick("#guest-featured_reviews__horizontal-block .bui-carousel__button","ugc__hp_review_block_carousel_clicked","0.1.0",o(r.fields.PRODUCT_TYPE,r.fields.PRODUCT_ID)),r.trackOnClick(".hp-featured_reviews-bottom .bui-button","ugc__hp_review_block_footer_clicked","0.1.0",o(r.fields.PRODUCT_TYPE,r.fields.PRODUCT_ID)),t.on("reviews-tab-opened",function(){_i_("269:142038c1"),r.trackBehavior("ugc__reviewlist_opened","0.1.0",_()),_r_()}),i.on(i.events.SORT_CHANGED,function(e,t){if(_i_("269:7596a5ea"),!t)return _r_(!1);var i=o(r.fields.PRODUCT_TYPE,r.fields.PRODUCT_ID);i[r.fields.SORT_VALUE]=t.value,r.trackBehavior("ugc__reviewlist_sort_used","0.1.0",i),_r_()}),i.on(i.events.FILTER_CHANGED,function(e,t){if(_i_("269:50b2ab5a"),!t)return _r_(!1);var i=o(r.fields.PRODUCT_TYPE,r.fields.PRODUCT_ID);i[r.fields.FILTER_NAME]=t.name,i[r.fields.FILTER_VALUES]=t.values,r.trackBehavior("ugc__reviewlist_filter_used","0.1.0",i),_r_()}),i.on(i.events.PAGE_CHANGED,function(e,t){if(_i_("269:24431552"),!t)return _r_(!1);var i=o(r.fields.PRODUCT_TYPE,r.fields.PRODUCT_ID);i[r.fields.PAGE_NUMBER]=t.value,r.trackBehavior("ugc__reviewlist_pagination_used","0.1.0",i),_r_()}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:3db77782");var _=e("et"),t=e("jquery"),o="adUAVYCIFBUEKAeDZQUAIIKe";function a(e){return _i_("269:f05566db"),_r_(Math.ceil(e/864e5))}!function(){_i_("269:9781db6e"),_.stage(o,1);var e=B.env.b_search_config?B.env.b_search_config.traveller_segment:null;e&&("solo"===e?_.stage(o,2):"couple"===e?_.stage(o,3):"group"===e?_.stage(o,4):"family"===e?_.stage(o,5):"business"===e&&_.stage(o,6));var t=B.env.b_checkin_date,i=B.env.b_checkout_date;if(t&&i){var n=new Date(t),r=new Date(i);!function(e,t){if(_i_("269:ff3b1fb7"),5<a(Math.abs(e.getTime()-t.getTime())))return _r_(!0);return _r_(!1)}(n,r)?_.stage(o,8):_.stage(o,7),function(e){_i_("269:70d7669a");var t=new Date;if(a(Math.abs(e.getTime()-t.getTime()))<=4)return _r_(!0);return _r_(!1)}(n)&&_.stage(o,9)}_r_()}(),t(".hp_nav_reviews_link").on("click",function(){_i_("269:7c0f099c"),_.goalWithValue("js_ugc_d_hp_nav_cta_clicked",1),_r_()}),t("#js--hp-gallery-scorecard").on("click",function(){_i_("269:698b4913"),_.goalWithValue("js_ugc_d_hp_floater_cta_clicked",1),_r_()}),t(".reviews-carousel-control").on("click",function(){_i_("269:ced1afd0"),_.goalWithValue("js_ugc_d_hp_floater_arrow_clicked",1),_r_()}),t(".hp_review_score_entry").on("click",function(){_i_("269:1fbb60c8"),_.goalWithValue("js_ugc_d_hp_rb_score_cta_clicked",1),_r_()}),t(".hp-featured_reviews-bottom .bui-button").on("click",function(){_i_("269:75bf9f72"),_.goalWithValue("js_ugc_d_hp_rb_footer_cta_clicked",1),_r_()}),_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:1c59a4e7");var i=e("et"),t=e("with-capla"),n=e("hotel/rooms_table/gently_select_rooms"),r=e("events"),_="CAPLA_EVENT_property-web-property-page_SEE_AVAILABILITY_BTN_CLICKED",o="CAPLA_EVENT_property-web-property-page_READ_ALL_REVIEWS_CLICKED";t("property-web","property-page",function(e){if(_i_("269:34b3ea97"),i.track("adUAVYCIFBUcMEBDbDcVIZdRRT")){var t=e.eventBus;t.subscribe(_,function(){_i_("269:cc04c69a"),n.scrollToRoomsTable(),_r_()}),t.subscribe(o,function(){_i_("269:31b28a3b"),r.trigger("open-tab",{tab:"reviews"}),_r_()})}_r_()})(),_r_()}),B.define("component/ugcs/dom-utils/toggle",["component","jquery"],function(e,t){return _i_("269:962be9bd"),_r_(e.extend({init:function(){_i_("269:ddd6231b"),this.$toggleWrapper=this.$el.parent().find("[data-toggle-length]"),this.hasReverter=!1,this.$toggleWrapper.length?(this.autoTruncate=!0,this.onUpdate()):(this.$toShow=this.$el.parent().find("[data-toggle-show]"),this.$toHide=this.$el.parent().find("[data-toggle-hide]"),this.$reverter=this.$el.parent().find("[data-toggle-reverter]"),this.hasReverter=0<this.$reverter.length),this.bindEvents(),this.$el.data("expanded")&&this.toggle(),_r_()},bindEvents:function(){_i_("269:cd639307"),this.autoTruncate&&this.$el.on("updateText.ugcs.toggle",this.onUpdate.bind(this)),this.$el.on("click.ugcs.toggle",this.toggle.bind(this)),this.$el.on("focus.ugcs.toggle",this.onFocus.bind(this)),this.$el.on("blur.ugcs.toggle",this.onBlur.bind(this)),this.hasReverter&&this.$reverter.on("click.ugcs.toggle",this.revert.bind(this)),_r_()},unBindEvents:function(){_i_("269:e19b4e98"),this.$el.off(".ugcs.toggle"),this.hasReverter&&this.$reverter.off(".ugcs.toggle"),_r_()},onFocus:function(e){_i_("269:a6c67898"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onBlur:function(e){_i_("269:a6c678981"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onKeyDown:function(e){_i_("269:7faddd6e"),32==e.keyCode&&(this.$el.blur(),this.toggle(e)),_r_()},onUpdate:function(e){if(_i_("269:df568ce2"),this.autoTruncate){this.fullText=this.$toggleWrapper.text();var t=this.$toggleWrapper.data("toggleLength");this.fullText.length>t+3?(this.$el.removeClass("bui-u-hidden"),this.$toggleWrapper.text(this.fullText.slice(0,t)+"…")):this.$el.addClass("bui-u-hidden")}_r_()},revert:function(e){_i_("269:b19b18fd"),this.$toShow.addClass("bui-u-hidden"),this.$toHide.removeClass("bui-u-hidden"),this.$el.removeClass("bui-u-hidden"),this.hasReverter&&this.$reverter.addClass("bui-u-hidden"),_r_()},toggle:function(e){_i_("269:bae8aa6c"),e&&e.preventDefault();var t=this;if(window.setTimeout(function(){_i_("269:a369b7aa"),t.$el.addClass("bui-u-hidden"),_r_()},0),this.autoTruncate)return this.$toggleWrapper.text(this.fullText),_r_();this.$toShow.removeClass("bui-u-hidden"),this.hasReverter?(this.$toHide.addClass("bui-u-hidden"),this.$reverter.removeClass("bui-u-hidden")):(this.$toHide.remove(),this.unBindEvents()),_r_()}}))}),B.define("component/ugcs/dom-utils/dropdown-select",["component","jquery"],function(e,t){return _i_("269:47f5e285"),_r_(e.extend({init:function(){_i_("269:5a7bbc9f"),this.$text=this.$el.find(".bui-button__text"),this.$options=this.$el.find(".bui-dropdown-menu__button"),this.instance=window.BUI.createInstance("Dropdown",this.el,{onAfterOpen:this.onAfterOpen.bind(this),onItemChoose:this.onChange.bind(this)}),this.instance.mount(),this.$el.on("setVal",this.setValWithoutChange.bind(this)),_r_()},onAfterOpen:function(){_i_("269:71130590");var n=this;this.$options.filter(function(e,t){_i_("269:3b6d62d6");var i=n.$el.val();return _r_(t.dataset.value===(Array.isArray(i)?i[0]:i))}).focus(),_r_()},unBindEvents:function(){_i_("269:87fae48b"),this.instance.unmount(),_r_()},setValWithoutChange:function(e,i){_i_("269:f90c43a6"),this.$text.html(this.$options.filter(function(e,t){return _i_("269:189953e0"),_r_(t.dataset.value===i)}).html()),this.$el.val(i),_r_()},onChange:function(e){_i_("269:568a9b9c"),this.$text.html(e.el.innerHTML),this.$el.val(e.el.dataset.value),this.$el.trigger("change",[e.el.dataset.value]),_r_()}}))}),B.define("component/ugcs/review-block/photos",function(e,t,i){_i_("269:81b0e5b0");var n=e("component"),r=e("jquery"),_=e("jstmpl");i.exports=n.extend({init:function(){if(_i_("269:bf1e61c9"),B.env.ugcs=B.env.ugcs||{},B.env.ugcs.review_block=B.env.ugcs.review_block||{},B.env.ugcs.review_block.photos=B.env.ugcs.review_block.photos||{},this.id=this.$el.data("photos-group"),this.id||this.$el.remove(),!this.id)return _r_(!0);this.$all=this.$el.find("[data-photos-src]"),this.bindEvents(),this.additionalClass=B.env.b_site_type&&"www"==B.env.b_site_type?"c-review-block__gallery__inner--increased":"",_r_()},bindEvents:function(){_i_("269:c7973324"),this.$all.bind("click.review-block.photos",r.proxy(this.onBtnClick,this)),_r_()},onBtnClick:function(e){_i_("269:3eb52983"),e.preventDefault();var t=this.$all.index(r(e.currentTarget));B.env.ugcs.review_block.photos[this.id]||this.initGallery(),B.env.ugcs.review_block.photos[this.id].show(t),_r_()},initGallery:function(){_i_("269:e0ab0bea");var i=[];this.$all.each(function(e,t){_i_("269:c08200aa"),i.push(r(t).data("photos-src")),_r_()});var e=this.additionalClass,t=_("component_review_block_gallery").render({photos:i,additionalClass:e}),n=r(t);r("body").append(n),B.env.ugcs.review_block.photos[this.id]=n.component("ugcs/review-block/gallery"),_r_()}}),_r_()}),booking.jstmpl("component_review_block_gallery",function(){_i_("269:b4807bb9");var a,s=['\n    <div class="c-review-block__gallery">\n        <div class="c-review-block__gallery__inner ',' bui-f-depth-2">\n            <ul class="c-review-block__gallery__list">\n                ','\n                    <li index="','"\n                        class="c-review-block__gallery__item">\n                        ',"c-review-block__gallery__error-icon","iconset/warning",'\n                        <img alt=""\n                             index="','"\n                             class="c-review-block__gallery__photo"\n                             data-src="','" />\n                    </li>\n                ','\n            </ul>\n            <button class="c-review-block__gallery__previous">\n                <span>\n                    ',"24","iconset/navarrow_left",'\n                </span>\n            </button>\n            <button class="c-review-block__gallery__next">\n                <span>\n                    ',"iconset/navarrow_right",'\n                </span>\n            </button>\n            <div class="c-review-block__gallery__header">\n                <button class="c-review-block__gallery__close">\n                    ',"/private/close/name","iconset/close",'\n                </button>\n            </div>\n            <div class="c-review-block__gallery__footer">\n                <span class="c-review-block__gallery__count"></span>\n            </div>\n        </div>\n    </div>\n'],l=["additionalClass","photos"];return _r_(function(e){_i_("269:9afb84e8");var t="",i=this.fn;t+=[s[0],i.F.entities(i.MC(l[0])),s[1]].join("");var n=i.MC(l[1])||[];e.unshift({photo:null});for(var r,_=1,o=n.length;_<=o;_++)e[0].photo=r=n[_-1],t+=[s[2],i.F.entities(i.MI(_)-i.MI(1)),s[3],(e.unshift({class:s[4],name:s[5]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[6],i.F.entities(i.MI(_)-i.MI(1)),s[7],i.F.entities(r),s[8]].join("");return e.shift(),t+=[s[9],(e.unshift({color:"#000000",height:s[10],name:s[11],width:s[10]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[12],(e.unshift({color:"#000000",height:s[10],name:s[13],width:s[10]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[14],i.ME(s[15],i.MB,i.MN,null),(e.unshift({name:s[16]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[17]].join(""),_r_(t)})}()),B.define("component/ugcs/review-block/gallery",function(e,t,i){_i_("269:dfe53b28");var n=e("component"),l=e("jquery"),r=e("events");i.exports=n.extend({init:function(){_i_("269:d6ed96f4"),this.isRtl=l("body").hasClass("lang_is_rtl"),this.loadClass="c-review-block__gallery__photo--loaded",this.errorClass="c-review-block__gallery__item--error",this.$window=l(window),this.$close=this.$el.find(".c-review-block__gallery__close"),this.$next=this.$el.find(".c-review-block__gallery__next"),this.$previous=this.$el.find(".c-review-block__gallery__previous"),this.$photos=this.$el.find("img"),this.$count=this.$el.find(".c-review-block__gallery__count"),this.$inner=this.$el.find(".c-review-block__gallery__inner"),this.$listItem=this.$el.find(".c-review-block__gallery__item"),this.total=this.$photos.length,this.current=0,this.seenPictures=[],this.uiFixes(),_r_()},bindEvents:function(){_i_("269:384b6e06"),l(document).on("keydown.ugcs.review-block.gallery",l.proxy(this.onKeyboardPress,this)),this.$close.on("click.ugcs.review-block.gallery.close",l.proxy(this.onCloseClick,this)),this.$el.on("click.ugcs.review-block.gallery.wrapper",l.proxy(this.onBgClick,this)),this.$inner.on("click.ugcs.review-block.gallery.inner",l.proxy(this.onGalleryClick,this)),this.$next.on("click.ugcs.review-block.gallery.next",l.proxy(this.onNextClick,this)),this.$photos.one("load.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoLoad,this)),this.$photos.one("error.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoError,this)),this.$previous.on("click.ugcs.review-block.gallery.prev",l.proxy(this.onPreviousClick,this)),this.$window.on("resize.ugcs.review-block.window",l.proxy(this.onWindowResize,this)),_r_()},unbindEvents:function(){_i_("269:600b6e9f"),l(document).off("keydown.ugcs.review-block.gallery",l.proxy(this.onKeyboardPress,this)),this.$close.off("click.ugcs.review-block.gallery.close",l.proxy(this.onCloseClick,this)),this.$el.off("click.ugcs.review-block.gallery.wrapper",l.proxy(this.onBgClick,this)),this.$inner.off("click.ugcs.review-block.gallery.inner",l.proxy(this.onGalleryClick,this)),this.$next.off("click.ugcs.review-block.gallery.next",l.proxy(this.onNextClick,this)),this.$photos.off("load.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoLoad,this)),this.$photos.off("error.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoError,this)),this.$previous.off("click.ugcs.review-block.gallery.prev",l.proxy(this.onPreviousClick,this)),this.$window.off("resize.ugcs.review-block.window",l.proxy(this.onWindowResize,this)),_r_()},uiFixes:function(){if(_i_("269:9a7a2ccb"),1<this.total)return _r_(!0);this.$previous.remove(),this.$next.remove(),_r_()},onGalleryClick:function(e){_i_("269:875fad7e"),e.stopPropagation(),_r_()},onKeyboardPress:function(e){_i_("269:1fa57cde"),27==e.which&&this.hide(),37==e.which&&this.previous(),39==e.which&&this.next(),_r_()},onPhotoLoad:function(e){_i_("269:3f4980fd"),l(e.currentTarget).addClass(this.loadClass),this.fixPhotoToGallery(),_r_()},onPhotoError:function(e){_i_("269:fa053a03"),l(e.currentTarget).parent().addClass(this.errorClass),_r_()},onBgClick:function(e){_i_("269:50639143"),e.preventDefault(),this.hide(),_r_()},onCloseClick:function(e){_i_("269:506391431"),e.preventDefault(),this.hide(),_r_()},onWindowResize:function(){_i_("269:cba5eebf"),this.fixGalleryToViewport(),_r_()},onNextClick:function(e){_i_("269:f338ab5e"),e.preventDefault(),this.isRtl?this.previous():this.next(),_r_()},onPreviousClick:function(e){_i_("269:e2eafc9d"),e.preventDefault(),this.isRtl?this.next():this.previous(),_r_()},next:function(){_i_("269:7ad0e2aa");var e=this.current+1==this.total?0:this.current+1;this.go(e),_r_()},previous:function(){_i_("269:45bf9f49");var e=0==this.current?this.total-1:this.current-1;this.go(e),_r_()},hide:function(){_i_("269:aed5adca"),this.$el.hide(),this.unbindEvents(),_r_()},show:function(e){_i_("269:2390f192"),this.bindEvents(),this.$el.show(),this.go(e),this.fixGalleryToViewport(),_r_()},go:function(e){_i_("269:ba5103b5");var s=this;this.current=0<=e?e:this.current;var t=this.$listItem.find('img[index="'+this.current+'"]'),i=this.$listItem.filter('[index="'+this.current+'"]'),n=t.data("src");n&&t.attr("src",n),t.removeAttr("data-src"),this.$listItem.hide(),i.show(),this.$count.html(this.current+1+"/"+this.total),this.fixPhotoToGallery(),r.emit("reviews:gallery:switch",{current:this.current,total:this.total}),function(e){var t;_i_("269:9d4e34ed"),e&&e.length&&(t=l(e[0]));if(!(t&&t.length&&t.find(".c-review-block__gallery__photo")&&t.find(".c-review-block__gallery__photo").attr("src")))return _r_();var i=t.find(".c-review-block__gallery__photo").attr("src"),n=/xphoto\/\w+\/(\w+)\.[jpg|png|webp]/.exec(i);n&&n[1]&&-1==s.seenPictures.indexOf(n[1])&&(r="reviews_list_seen_big_photo",_=B.env.b_hotel_id,o="photo_id",a=n[1],_i_("269:af463583"),l.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:r||"",hotel_id:_||"",attribute_name:o||null,attribute_value:a||null},success:function(e){},error:function(e){}}),_r_(),s.seenPictures.push(n[1]));var r,_,o,a;_r_()}(i),_r_()},fixGalleryToViewport:function(){_i_("269:bda2026d");var e=this.$window.height(),t=this.$window.width()/e,i=this.$inner.width()/this.$inner.height(),n=i<t?{width:i/t*90+"%"}:{};this.$inner.css(n),this.fixPhotoToGallery(),_r_()},fixPhotoToGallery:function(){_i_("269:6952e265");var e=this.$photos.eq(this.current),t=(e[0]||{}).naturalWidth/(e[0]||{}).naturalHeight<this.$inner.width()/this.$inner.height()?{height:"100%",width:"auto"}:{width:"100%",height:"auto"};e.css(t),_r_()}}),_r_()}),booking.jstmpl("component_review_block_review_read_more_button",function(){_i_("269:6a0e20ce");var i=['\n    <span class="c-review__read-more">\n        ',"\n    </span>\n"];return _r_(function(e){_i_("269:2d52ea3b");var t="";this.fn;return t+=i[0],_r_(t+=i[1])})}()),B.define("component/ugcs/review-block/review",["component","jquery"],function(e,t){return _i_("269:a19c000f"),_r_(e.extend({init:function(){if(_i_("269:88d69aff"),this.fullContent=this.$el.data("full-content"),!this.fullContent)return _r_(!0);this.$button=t(B.jstmpl("component_review_block_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:af8f58d2"),this.$button.on("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("269:d68f7095"),this.$button.off("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("269:aaf922ff"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.remove(),_r_()}}))}),B.when({events:"ready"}).run(function(e){_i_("269:74c82a86");var _=e("jquery");({init:function(){_i_("269:3c562241");var r=this;_("[data-js-breakdown-show-more]").each(function(e,t){_i_("269:00c75935");var i=_(t),n=i.parents(".c-subscores").find(".c-subscores__hide");0==n.length?i.hide():r.bindEvents(i,n),_r_()}),_r_()},bindEvents:function(e,t){_i_("269:8dd4a5d0"),e.on("click.ugcs.score-breakdown",_.proxy(this.showSubscores,this,e,t)),_r_()},unBindEvents:function(e,t){_i_("269:b8e9e706"),e.off("click.ugcs.score-breakdown",_.proxy(this.showSubscores,this,e,t)),_r_()},showSubscores:function(e,t){_i_("269:57f0c301"),t.show(),this.unBindEvents(e,t),e.hide(),_r_()}}).init(),_r_()}),booking.jstmpl("component_shared_review_read_more_button",function(){_i_("269:556b18ff");var n=['\n    <span class="c-review__read-more">\n        ',"/private/comp_ugc_read_more_cta/name","\n    </span></span>\n"];return _r_(function(e){_i_("269:bde66dc91");var t="",i=this.fn;return t+=[n[0],i.ME(n[1],i.MB,i.MN,null),n[2]].join(""),_r_(t)})}()),B.define("component/ugcs/shared/review",function(e,t,i){_i_("269:acc4453b");var n=e("jquery"),r=B.jstmpl,_=e("component");i.exports=_.extend({init:function(){_i_("269:2ac6b80e"),this.fullContent=this.$el.data("full-content"),this.fullContent&&(this.$button=n(r("component_shared_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents()),_r_()},bindEvents:function(){_i_("269:af8f58d21"),this.$button.on("click.ugcs.review.show-more",n.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("269:d68f70951"),this.$button.off("click.ugcs.review.show-more",n.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("269:ad0b280e"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.hide(),_r_()}}),_r_()}),B.define("translatable-review/modules/review-translate",function(e,t,i){_i_("269:b86594f4");var a=e("jquery"),n=e("event-emitter").extend({events:{TRANSLATIONS_LOADED:"TRANSLATIONS_LOADED"},translate:function(e){_i_("269:9d749df6");var t=e.provider,i=e.review_url,n=e.target_lang;if(!i||!n)throw"Args review_url and target_lang are required!";return _r_("google"===t?this._googleTranslate(i,n):"booking"===t?this._bookingTranslate(e):this.translateV2(e))},batchTranslate:function(e){_i_("269:5a0f8f1b");var t=e.provider||"booking";if(!e.review_urls||!e.target_lang)throw"Args review_urls and target_lang are required!";if("booking"===t)return _r_(this._bookingBatchTranslate(e));throw"Invalid translation provider!"},_googleTranslate:function(e,t){_i_("269:e4bbb887");var i=this,n={review_url:e,target:t};return _r_(a.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review",data:JSON.stringify(n)}).then(function(e){return _i_("269:1df0df1c"),_r_(i._generate_response(e))}))},_bookingTranslate:function(e){_i_("269:2f3b3a41");var n=e.review_url,t=e.target_lang,i=e.text_part,r={review_urls:[n],target:t};return i&&(r.text_parts=[i]),_r_(a.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(r)}).then(function(e){_i_("269:4d69f7c4");var t={success:0};if(1===e.success&&e.translations){var i=e.translations[n];i&&(t.success=1,t.translated_review={hotel_general:i})}return _r_(t)}))},_bookingBatchTranslate:function(e){_i_("269:a8ea45c0");var t=this,i=e.review_urls,n=e.target_lang,r=e.text_parts,_=!!e.broadcast,o={review_urls:i,target:n,version:2,support_full_review:"mdot"===B.env.b_site_type||"www"===B.env.b_site_type};return r&&0<r.length&&(o.text_parts=r),_r_(a.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(o)}).then(function(e){return _i_("269:ea330de5"),_r_(t._generate_response_batch(e,_))}))},translateV2:function(e){_i_("269:85afe12a");var t=this,i=e.review_url,n=e.target_lang;if(!i||!n)throw"Args review_urls and target_lang are required!";var r={review_urls:[i],target_lang:n};return _r_(t.batchTranslateV2(r).then(function(e){return _i_("269:7ae8aa51"),_r_(t._generate_response_single(e,i))}))},batchTranslateV2:function(e){_i_("269:bf294c37");var t=this,i=e.review_urls,n=e.target_lang,r=e.version,_=!!e.broadcast;if(!i||!n)throw"Args review_urls and target_lang are required!";var o={review_urls:i,target:n,version:r};return _r_(a.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review_batch",data:JSON.stringify(o)}).then(function(e){return _i_("269:ea330de51"),_r_(t._generate_response_batch(e,_))}))},_generate_response:function(e){_i_("269:d5951d8b");var t={success:0};if(1===e.success){var i=e.translated_review;t.success=1,t.translated_review={title:i.title,hotel_positive:i.hotel_positive,hotel_negative:i.hotel_negative,hotel_general:i.hotel_general||i.tip,translation_provider:i.translation_provider}}return _r_(t)},_generate_response_single:function(e,t){_i_("269:8bdf73e8");var i={success:0};if(1===e.success){var n=e.translations[t];if(!n)return _r_(i);n.hotel_general=n.hotel_general||n.hotel_positive,i.translated_review=n,i.success=1}return _r_(i)},_generate_response_batch:function(e,t){_i_("269:77b0eec2");var i={success:0};return 1===e.success&&e.translations&&(i.translations=this._map_translations_from_response(e.translations),i.success=1,t&&this.emit(this.events.TRANSLATIONS_LOADED,i.translations)),_r_(i)},_map_translations_from_response:function(n){return _i_("269:10b924a2"),_r_(Object.keys(n).reduce(function(e,t){_i_("269:8d1eab83");var i=n[t];return e[t]="string"==typeof i?{hotel_general:i}:{hotel_positive:i.hotel_positive,hotel_negative:i.hotel_negative,hotel_general:i.hotel_general,title:i.title,translation_provider:i.translation_provider},_r_(e)},{}))}});i.exports=n,_r_()}),B.define("translatable-review/modules/events",function(e,t,i){_i_("269:c1afa693");var n=e("event-emitter");i.exports=n.extend({events:{TRANSLATE_SUCCESS:"TRANSLATE_SUCCESS"}}),_r_()}),B.define("translatable-review/modules/trackers",function(e,t,i){_i_("269:21490f48");var n={track_show_original:function(e,t){if(_i_("269:402dc517"),!e||!t)return _r_();var i={review_url:e,target_lang:t};return _r_($.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/track_show_original",data:JSON.stringify(i)}))}};i.exports=n,_r_()}),B.define("component/ugcs/shared/translatable-review",function(e,t,i){_i_("269:3c31c6f2");var r=e("jquery"),_=e("et"),n=e("component"),o=e("translatable-review/modules/review-translate"),a=e("translatable-review/modules/trackers"),s=e("translatable-review/modules/events"),l=e("jstmpl"),c=l("provider_logo_google"),d=l("provider_logo_booking");i.exports=n.extend({originalCta:".c-review__translation-cta__original",translatedCta:".c-review__translation-cta__translated",translationProviderText:".c-review__translation-cta__provider",originalLink:".js-review-translation-show-original",translatedLink:".js-review-translation-show-translated",originalBody:".c-review__body--original",translatedBody:".c-review__body--translated",bodyExpandLink:".c-review__body-expand",reviewBlock:".c-review-block",originalTitle:".c-review-block__title--original",translatedTitle:".c-review-block__title--translated",translationLoader:".c-review__translation-loader",rtlWrappers:".c-review__inner",rtlClass:"c-review__inner--rtl",ltrClass:"c-review__inner--ltr",featuredReviewClass:"c-review",init:function(){_i_("269:5b43a955"),this.$ctaOriginal=this.$el.find(this.originalCta),this.$ctaTranslated=this.$el.find(this.translatedCta),this.$translationLinkOriginal=this.$el.find(this.originalLink),this.$translationLinkTranslated=this.$el.find(this.translatedLink),this.$originalTexts=this.$el.find(this.originalBody),this.$translatedTexts=this.$el.find(this.translatedBody),this.$translatedExpand=this.$el.find(this.translatedBody+"+"+this.bodyExpandLink),this.$reviewBlock=this.$el.parents(this.reviewBlock),0<this.$reviewBlock.length?(this.$titleOriginal=this.$reviewBlock.find(this.originalTitle),0<this.$titleOriginal.length&&(this.$originalTexts=this.$originalTexts.add(this.$titleOriginal),this.$titleTranslated=this.$reviewBlock.find(this.translatedTitle),this.$translatedTexts=this.$translatedTexts.add(this.$titleTranslated),this.$rtlWrappers=this.$reviewBlock.find(this.rtlWrappers))):this.$el.hasClass(this.featuredReviewClass)&&(this.$rtlWrappers=this.$el.find(this.rtlWrappers)),this.originalLang=this.$el.data("orig-lang"),this.targetLang=B.env.b_lang_for_url,this.reviewUrl=this.$el.data("review-url"),this.translationProvider=this.$el.data("translation-provider"),this.$translationLoader=this.$el.find(this.translationLoader),this.translator=o,this.translated=!!this.$el.data("pretranslated"),this.dataType=this.$el.data("type"),this.textPart=this.$el.data("text-part"),this.listenToTranslations=this.$el.data("listen-to-translations"),this.quoted=!!this.$el.data("quoted"),this.OPEN_QUOTE=this.decodeEntities(l.translations("quote_open_primary")),this.CLOSE_QUOTE=this.decodeEntities(l.translations("quote_close_primary")),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:aea907d7"),this.$translationLinkOriginal.on("click",r.proxy(this.showOriginal,this)),this.$translationLinkTranslated.on("click",r.proxy(this.showTranslation,this)),this.listenToTranslations&&this.translator.on(this.translator.events.TRANSLATIONS_LOADED,r.proxy(this.loadAutoTranslation,this)),_r_()},showTranslation:function(){_i_("269:3d34b555");var i=this;if(i.translated)i.$originalTexts.hide(),i.$ctaTranslated.hide(),i.$translationLoader.hide(),i.handleRtl(i.targetLang),i.$translatedTexts.show(),i.$ctaOriginal.show(),i.translatedExpandRestore&&i.$translatedExpand.show();else{i.$ctaTranslated.hide(),i.$translationLoader.show();var e={provider:i.translationProvider,review_url:i.reviewUrl,target_lang:i.targetLang,data_type:i.dataType,text_part:i.textPart};i.translator.translate(e).then(function(e){if(_i_("269:2817eb64"),i.$translationLoader.hide(),1==e.success){var t=e.translated_review;i.loadTranslation(t)?(i.showTranslation(),i.trackChars(t),s.emit(s.events.TRANSLATE_SUCCESS,i)):i.translationFailure()}else i.translationFailure();_r_()}).fail(function(){_i_("269:05215f85"),i.translationFailure(),_r_()})}_r_()},showOriginal:function(){_i_("269:85e7fbe6"),this.$translatedTexts.hide(),this.$ctaOriginal.hide(),this.translatedExpandRestore=!this.$translatedExpand.is(":hidden"),this.$translatedExpand.hide(),this.handleRtl(this.originalLang),this.$originalTexts.show(),this.$ctaTranslated.show(),_.goalWithValue("js_reviewlist_show_original",1),a.track_show_original(this.reviewUrl,B.env.b_lang),_r_()},loadTranslation:function(e){if(_i_("269:d51815c3"),!e)return _r_(!1);if(!(e.hotel_general||e.hotel_positive||e.hotel_negative))return _r_(!1);if(this.$translatedTexts.filter(".general").text(this.formatText(e.hotel_general)),this.$translatedTexts.filter(".positive").text(this.formatText(e.hotel_positive)),this.$translatedTexts.filter(".negative").text(this.formatText(e.hotel_negative)),this.$translatedExpand.trigger("updateText"),e.title&&this.$titleTranslated&&this.$titleTranslated.length&&this.$titleTranslated.text(e.title),!this.translationProvider&&e.translation_provider){this.translationProvider=e.translation_provider;var t=this.$el.find(this.translationProviderText),i=d;"google"===e.translation_provider&&(i=c),t.html(l.translations("ugc_reviews_translated_by",null,{companyname:i.render({})}))}return this.translated=!0,_r_(!0)},translationFailure:function(){_i_("269:32d7fd9c"),this.$translationLoader.hide(),this.$ctaOriginal.text(l.translations("ugc_reviews_translated_failed")),this.$ctaOriginal.show(),_r_()},loadAutoTranslation:function(e){if(_i_("269:11cf0d99"),this.translated||!e)return _r_();this.reviewUrl&&e[this.reviewUrl]&&(this.loadTranslation(e[this.reviewUrl])&&this.showTranslation());_r_()},decodeEntities:function(e){_i_("269:9fde2cf7");var t=document.createElement("textarea");return t.innerHTML=e,_r_(t.value)},formatText:function(e){_i_("269:591dec00");var t=e||"";return this.quoted&&(t=this.OPEN_QUOTE+t+this.CLOSE_QUOTE),_r_(t)},trackChars:function(e){_i_("269:57fe1da1");if(!e)return _r_();var t={booking:0,google:0},i=e.translation_provider||"google",n=0;this.$originalTexts.each(function(){_i_("269:f689dbe7");var e=r(this),t=r.trim(e.text());n+=t.length,_r_()}),t[i]=n,_.goalWithValue("js_reviewlist_booking_translate_chars",t.booking),_.goalWithValue("js_reviewlist_google_translate_chars",t.google),_r_()},isTargetLangRtl:function(e){return _i_("269:ebcab777"),_r_("ar"===e||"he"===e)},handleRtl:function(e){_i_("269:a5c6df30");if(!e)return _r_();this.$rtlWrappers&&0<this.$rtlWrappers.length&&(this.isTargetLangRtl(e)?(this.$rtlWrappers.removeClass(this.ltrClass),this.$rtlWrappers.addClass(this.rtlClass)):(this.$rtlWrappers.removeClass(this.rtlClass),this.$rtlWrappers.addClass(this.ltrClass))),_r_()}}),_r_()}),booking.jstmpl("provider_logo_google",function(){_i_("269:27c41d3a");var n=["\n    ",'<svg width="49px" height="16px" viewBox="0 0 49 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: relative; top: 4px;">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="result" fill="#757575" fill-rule="nonzero">\n            <path d="M11.9684863,5.65009119 L6.29942857,5.65009119 L6.29942857,7.33232827 L10.32,7.33232827 C10.1213763,9.69128267 8.15878419,10.6972888 6.30623708,10.6972888 C3.93609726,10.6972888 1.86786626,8.83243769 1.86786626,6.21865046 C1.86786626,3.67241337 3.83941641,1.71146505 6.31144073,1.71146505 C8.21865046,1.71146505 9.3424924,2.92727052 9.3424924,2.92727052 L10.5203647,1.70752584 C10.5203647,1.70752584 9.00853495,0.0244620061 6.25123404,0.0244620061 C2.74047416,0.0244620061 0.0243647416,2.98781763 0.0243647416,6.18859574 C0.0243647416,9.32503343 2.57945289,12.3833678 6.34120365,12.3833678 C9.64970213,12.3833678 12.071538,10.1169119 12.071538,6.76537386 C12.071538,6.05831003 11.9688802,5.6496535 11.9688802,5.6496535 L11.9684863,5.65009119 Z" id="Path"></path>\n            <path d="M16.6128632,4.4318541 C14.2866869,4.4318541 12.6196231,6.25045593 12.6196231,8.37145289 C12.6196231,10.5238176 14.2365957,12.3762188 16.6401945,12.3762188 C18.8160973,12.3762188 20.5987112,10.7131429 20.5987112,8.41770213 C20.5987112,5.78679635 18.5251307,4.4318541 16.6128632,4.4318541 Z M16.6359942,5.99212158 C17.7799212,5.99212158 18.8639334,6.91696049 18.8639334,8.40719757 C18.8639334,9.86582371 17.7845413,10.8170213 16.6307419,10.8170213 C15.3629972,10.8170213 14.3628756,9.80167781 14.3628756,8.3956231 C14.3628756,7.01972036 15.350596,5.99212158 16.6359942,5.99212158 Z" id="Shape"></path>\n            <path d="M25.2976049,4.4318541 C22.9714286,4.4318541 21.3043647,6.25045593 21.3043647,8.37145289 C21.3043647,10.5238176 22.9213374,12.3762188 25.3249362,12.3762188 C27.5008389,12.3762188 29.2834529,10.7131429 29.2834529,8.41770213 C29.2834529,5.78679635 27.2098723,4.4318541 25.2976049,4.4318541 L25.2976049,4.4318541 Z M25.3207353,5.99212158 C26.4646624,5.99212158 27.5486745,6.91696049 27.5486745,8.40719757 C27.5486745,9.86582371 26.4692824,10.8170213 25.315483,10.8170213 C24.0477384,10.8170213 23.0476168,9.80167781 23.0476168,8.3956231 C23.0476168,7.01972036 24.0353371,5.99212158 25.3207353,5.99212158 Z" id="Shape"></path>\n            <path d="M33.815538,4.43574468 C31.6803891,4.43574468 30.0020912,6.30579939 30.0020912,8.40476596 C30.0020912,10.7956717 31.9478176,12.3811793 33.7787234,12.3811793 C34.9108328,12.3811793 35.5128024,11.9317933 35.9572523,11.4159757 L35.9572523,12.1992462 C35.9572523,13.5697021 35.125155,14.3903708 33.8691793,14.3903708 C32.6558541,14.3903708 32.0472705,13.4881945 31.835769,12.9762432 L30.309155,13.6144438 C30.8507234,14.7595866 31.9409605,15.9537994 33.8818237,15.9537994 C36.0047173,15.9537994 37.6227112,14.6166565 37.6227112,11.8123283 L37.6227112,4.67457751 L35.9573009,4.67457751 L35.9573009,5.34745289 C35.4455927,4.79567173 34.7453374,4.43589058 33.8155866,4.43589058 L33.815538,4.43574468 Z M33.9700912,5.99285106 C35.0168997,5.99285106 36.0918176,6.88671125 36.0918176,8.41317933 C36.0918176,9.96474164 35.0191854,10.8198419 33.9469422,10.8198419 C32.8086565,10.8198419 31.7494954,9.89558663 31.7494954,8.42791489 C31.7494954,6.90290578 32.8495076,5.99285106 33.9700426,5.99285106 L33.9700912,5.99285106 Z" id="Shape"></path>\n            <path d="M45.027696,4.42650456 C43.0136413,4.42650456 41.3225532,6.02893617 41.3225532,8.39343465 C41.3225532,10.8954164 43.2074894,12.3792827 45.221155,12.3792827 C46.9017872,12.3792827 47.9332766,11.4598419 48.5488632,10.6360608 L47.1757325,9.72240729 C46.819414,10.2754043 46.2237082,10.8158541 45.2295684,10.8158541 C44.1128754,10.8158541 43.5994164,10.2043526 43.2813131,9.61201216 L48.6075137,7.4019696 L48.3309957,6.75428571 C47.8162237,5.48590881 46.6158347,4.42650456 45.0275064,4.42650456 L45.027696,4.42650456 Z M45.0970845,5.95418845 C45.8228231,5.95418845 46.3451331,6.3400462 46.5669447,6.80267477 L43.0100328,8.2893617 C42.8566857,7.13838298 43.9471271,5.95418845 45.0970845,5.95418845 Z" id="Shape"></path>\n            <polygon id="Path" points="38.7838055 12.143465 40.5333495 12.143465 40.5333495 0.435258359 38.7838055 0.435258359"></polygon>\n        </g>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("269:8db487d6");var t,i="";this.fn;return t=i+=n[0],_i_("269:c6deab81"),i=_r_(t+=n[1]),_r_(i+=n[2])})}()),booking.jstmpl("provider_logo_booking",function(){_i_("269:7b824e0f");var n=["\n    ",'<svg width="80px" height="14px" viewBox="0 0 80 14" version="1.1" xmlns="http://www.w3.org/2000/svg"\n    style="position: relative; top: 4px;">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="#757575" d="M31.463 1.344a1.21 1.21 0 112.42 0 1.21 1.21 0 11-2.42 0zm-19.86 7.545c-1.043\n        0-1.767-.828-1.767-2.01 0-1.183.724-2.01 1.766-2.01 1.049 0 1.782.827 1.782 2.01 0 1.202-.718 2.01-1.782\n        2.01zm0-5.786c-2.205 0-3.806 1.588-3.806 3.776 0 2.188 1.6 3.777 3.805 3.777 2.213 0 3.82-1.59 3.82-3.777\n        0-2.188-1.607-3.776-3.82-3.776zM29.12 7.068a1.785 1.785 0\n        00-.29-.406l-.066-.07.07-.068c.102-.107.204-.234.304-.38l1.946-2.893h-2.361L27.26\n        5.514c-.082.121-.25.182-.5.182h-.333V1.42c0-.855-.532-.972-1.108-.972h-.986v10.097h2.094V7.515h.197c.238\n        0 .4.028.475.157l1.154 2.18c.322.591.645.692 1.249.692h1.604l-1.194-1.976-.793-1.5zm10.16-3.982c-1.065\n        0-1.743.473-2.125.873l-.126.129-.046-.175c-.111-.428-.488-.664-1.056-.664h-.938l.006\n        7.293h2.079V7.18c0-.328.043-.613.13-.874.231-.787.876-1.277 1.683-1.277.649 0 .902.343.902 1.228v3.176c0\n        .755.35 1.109 1.105 1.109h.99l-.004-4.639c0-1.843-.899-2.817-2.6-2.817zm-6.582.166h-.985l.007\n        5.639h-.001v1.652h1.051l.037.002.491-.002h.487v-.003h.003l.004-6.181c0-.746-.357-1.107-1.094-1.107zm-12.93\n        5.637C18.726 8.89 18 8.061 18 6.88c0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717\n        2.01-1.78 2.01zm0-5.786c-2.207 0-3.808 1.588-3.808 3.776 0 2.188 1.601 3.777 3.808 3.777 2.211 0\n        3.82-1.59 3.82-3.777 0-2.188-1.609-3.776-3.82-3.776zm26.496 5.466c-1.137 0-1.541-.992-1.541-1.921\n        0-.41.103-1.744 1.431-1.744.66 0 1.54.19 1.54 1.812 0 1.531-.778 1.853-1.43 1.853zm2.51-5.337c-.395\n        0-.699.158-.85.445l-.058.111-.097-.083c-.335-.29-.937-.635-1.913-.635-1.944 0-3.253 1.46-3.253 3.632 0\n        2.17 1.354 3.687 3.292 3.687.661 0 1.184-.154 1.599-.469l.16-.12v.202c0 .975-.63 1.513-1.772 1.513a4.22\n        4.22 0 01-1.398-.258c-.44-.133-.699-.024-.878.418l-.165.41-.233.596.145.077c.73.388 1.681.62 2.542.62 1.77\n        0 3.836-.907 3.836-3.458l.008-6.688h-.966zM3.86 8.806l-1.693-.002V6.781c.001-.433.169-.657.538-.709h1.155c.824\n        0 1.356.52 1.356 1.36 0 .862-.519 1.373-1.356 1.374zM2.168 3.349h.001v-.533c0-.466.197-.688.63-.716h.866c.743\n        0 1.187.444 1.187 1.187 0 .568-.304 1.23-1.16 1.23H2.169V3.348zm3.854\n        2.018l-.306-.171.267-.229c.311-.267.832-.867.832-1.905 0-1.587-1.232-2.611-3.137-2.611H1.256A1.06\n        1.06 0 00.234 1.499V10.507H3.72c2.118 0 3.487-1.153 3.487-2.938 0-.962-.443-1.784-1.186-2.202z"/>\n        <path fill="#B0B0B0" d="M50.556 9.413a1.21 1.21 0 112.419 0 1.21 1.21 0 11-2.42 0zm13.823-.524c-1.042\n        0-1.768-.828-1.768-2.01 0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717 2.01-1.78\n        2.01zm0-5.786c-2.206 0-3.807 1.588-3.807 3.776 0 2.188 1.6 3.777 3.807 3.777 2.211 0 3.82-1.59 3.82-3.777\n        0-2.188-1.609-3.776-3.82-3.776zm13.106.007c-.862\n        0-1.696.404-2.231 1.081l-.15.191-.119-.213c-.385-.703-1.048-1.059-1.97-1.059-.966\n        0-1.613.539-1.914.86l-.197.213-.076-.28c-.11-.405-.47-.627-1.015-.627h-.874l-.008\n        7.264h1.985V7.334c0-.282.035-.56.106-.85.19-.775.71-1.608 1.585-1.525.54.052.804.47.804\n        1.275v4.306h2V7.334c0-.352.032-.614.11-.878.162-.74.705-1.498 1.55-1.498.611 0 .838.346.838\n        1.276v3.244c0 .735.327 1.062 1.06 1.062h.935l.002-4.637c0-1.853-.816-2.793-2.42-2.793zM59.37\n        8.018c-.006.007-.861.907-1.985.907-1.026 0-2.06-.628-2.06-2.031 0-1.212.802-2.06 1.95-2.06.374 0\n        .798.135.865.36l.01.037a.73.73 0 00.707.537l1.088.001v-.95c0-1.255-1.595-1.71-2.67-1.71-2.295 0-3.96\n        1.599-3.96 3.8 0 2.2 1.648 3.796 3.919 3.796 1.97 0 3.042-1.296 3.052-1.309l.057-.07-.86-1.429-.113.121z"/>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("269:e94222af");var t,i="";this.fn;return t=i+=n[0],_i_("269:0b834f58"),i=_r_(t+=n[1]),_r_(i+=n[2])})}()),B.define("component/ugcs/shared/room-info",function(e,t,i){"use strict";_i_("269:651a8ca9");var n,r=e("jquery"),_=e("component"),o="mdot"===B.env.b_site_type,a="www"===B.env.b_site_type;o&&(n=e("tabbed-nav")),i.exports=_.extend({init:function(){if(_i_("269:dacaf937"),this.$rt=r(".js-rooms-table"),this.$rtFilters=r(".rt-controls"),this.$anchorTo=0<this.$rtFilters.length?this.$rtFilters:this.$rt.find("#bookForm"),this.roomId=this.$el.data("roomId"),a&&(this.$rt=r(".hprt-table")),B.env.fe_only_one_room_type)return this.hide(),this.$el.parents(".c-review-block__room-info-row").hide(),_r_();this.disableIfUnavailable(),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#roomstable_nodates")),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#form_search")),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:3276afdc"),this.$el.on("click",r.proxy(this.onClickRoomInfo,this)),_r_()},unBindEvents:function(){_i_("269:8cfbeaeb"),this.$el.off("click",r.proxy(this.onClickRoomInfo,this)),_r_()},onClickRoomInfo:function(e){if(_i_("269:b6b23ba5"),e.preventDefault(),this.$el.hasClass("review-block__room-info--disabled"))return _r_();n&&n.activateTab("main",r(e.target)),a&&r(".sliding-panel-widget-close-button").click(),this.scrollDownRT(),_r_()},disableIfUnavailable:function(){_i_("269:e91f4360"),this.roomId&&!this.$rt.find('[data-room-id="'+this.roomId+'"]').length&&(this.$el.addClass("review-block__room-info--disabled"),this.$el.parent("a").removeAttr("href")),_r_()},scrollDownRT:function(){_i_("269:832ee938");var e=this.roomId?this.$rt.find('[data-room-id="'+this.roomId+'"]:first'):null;if(e&&e.length&&(this.$anchorTo=e),!this.$anchorTo||!this.$anchorTo.length)return _r_();var t=this.$anchorTo.parents(".rt-collapsed__wrap").find(".bui-action-bar__item button");t.size()&&t.is(":visible")&&t.click();var i=15,n=this.$rt.find(".hprt-table-header");a&&n.size()&&(i+=n[0].clientHeight),r("html, body").animate({scrollTop:this.$anchorTo.offset().top-i},750),_r_()},hide:function(){_i_("269:9548afb4"),this.$el.addClass("g-hidden"),_r_()}}),_r_()}),B.define("referral/raf-goal",function(e,t,i){_i_("269:97b3ad3a");var n=e("et");i.exports={shareGoal:function(e){_i_("269:53c28dcd"),n.goal(e),n.goal("gm_share"),_r_()}},_r_()}),B.define("component/referral/invalid-link",function(e,t,i){_i_("269:ffdc4fb7");var n=e("component"),r=e("lightbox");booking.jstmpl("invalid_link_card",function(){_i_("269:eaab8a16");var r,_=["\n        ","\n",'\n    <div data-component="referral/require-login-lightbox"></div>\n','\n    <div class="raf_modal_invalid">\n        <div class="raf_modal_invalid__title">\n            ',"\n                ","/private/raf_friend_landing_shut_down_modal_body/name","\n            ","/private/raf_flex_shutdown_influencers/name",'\n        </div>\n        <div class="raf_modal_invalid_image">\n            <img width="150" src="','" alt="invalid raf">\n        </div>\n        <div class="raf_modal_invalid__subtitle">\n        </div>\n        <div class="raf_modal_invalid__body">\n        </div>\n        <div class="raf_modal_invalid_cta">\n            <button class="bui-button bui-button--primary js-modal-close" type="button" style="width: 100%">\n                <span class="bui-button__text">\n                    ',"/private/raf_validation_error_modal_employee_button/name",'\n                </span>\n            </button>\n        </div>\n        <button class="modal-mask-closeBtn" title="Close">\n            ',"iconset/close","large",'\n            <span class="invisible_spoken">Close</span>\n        </button>\n    </div>\n',"\n    "],o=["b_raf_error_code","b_raf_li_in","b_campaign_expired"];return _r_(function(e){_i_("269:fe6eaff8");var t,i="",n=this.fn;return i+=_[0],t=i,_i_("269:669836af"),t+=_[1],n.MJ(n.MC(o[0])+""=="user_not_logged_in")?t+=_[2]:(t+=_[3],n.MJ(1==n.MC(o[1]))?t+=[_[4],n.ME(_[5],n.MB,n.MN,null),_[6]].join(""):n.MJ(1==n.MC(o[2]))&&(t+=[_[4],n.ME(_[7],n.MB,n.MN,null),_[6]].join("")),t+=[_[8],n.STATIC_HOSTNAME("/static/img/referral/raf-failure.svg",0,0,0,0),_[9],n.ME(_[10],n.MB,n.MN,null),_[11],(e.unshift({name:_[12],size:_[13]}),r=n.HELPER("icon",e[0]),e.shift(),r),_[14]].join("")),i=_r_(t),i+=_[15],_r_(i)})}()),i.exports=n.extend({init:function(){_i_("269:16a9c65b");var e=B.jstmpl("invalid_link_card"),t={b_raf_li_in:this.$el.data("raf-li-in"),b_campaign_expired:this.$el.data("campaign-expired"),fe_companyname:B.env.b_companyname},i=r.show(e.render(t),{bCloseButton:!1,customWrapperClassName:"raf_invalid_modal_wrapper"});i&&i.loadComponents&&i.loadComponents(),$(".js-modal-close").click(function(){_i_("269:766c755e"),r.hide(),_r_()}),_r_()}}),_r_()}),B.define("component/incentives/js_stage_tracker",function(e,t,i){_i_("269:a214f6d2");var n=e("component"),r=e("et");i.exports=n.extend({init:function(){_i_("269:24e1f38a"),r.stage(this.$el.data("hash"),this.$el.data("stage")),_r_()}}),_r_()}),B.define("referral/clipboard",function(e,t,i){_i_("269:6dad79bc");var n=function(){};n.prototype.copy=function(e,t){_i_("269:b9e312de"),this.text=e,this.isRTL=B.env.b_lang_rtl,"function"==typeof t&&(this.copyCallback=t),this.selectFake(),_r_()},n.prototype.selectFake=function(){_i_("269:563ce6c9"),this.removeFake();var e=document.createElement("textarea");(this.fakeElement=e).style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style[this.isRTL?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;e.style.top=t+"px",e.setAttribute("readonly",""),e.value=this.text,document.body.appendChild(e),function(e){var t;if(_i_("269:eed13d9d"),"SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}_r_(t)}(e),this.copyText(),_r_()},n.prototype.removeFake=function(){_i_("269:dcba3dac"),this.fakeElement&&(document.body.removeChild(this.fakeElement),this.fakeElement=null),_r_()},n.prototype.copyText=function(){var t;_i_("269:881b30ae");try{t=document.execCommand("copy")}catch(e){t=!1}this.handleResult(t),_r_()},n.prototype.handleResult=function(e){_i_("269:14c14746"),this.copyCallback&&(e?this.copyCallback(null):this.copyCallback(!0)),this.removeFake(),_r_()},i.exports=new n,_r_()}),B.define("hotel/new-rooms-table/fit-status-helper",function(e,t,i){"use strict";_i_("269:1ed3a1bf");var n=e("hotel/redux/actionTypes"),r=e("hotel/store"),_=e("search-config");function o(e,t){_i_("269:dc0151ab"),r.dispatch({type:n.CHANGE_FIT_STATUS,fit_status:e,no_fit_guests:t}),_r_()}i.exports={update:function(){_i_("269:0f69a058");var e=r.getState().roomsTable.js_selection;if(e.blockIDs&&0<e.blockIDs.length&&e.blockIDs[0]&&0==e.blockIDs[0].indexOf("bbasic_"))return o(2,0),_r_();var t=[];for(var i in e.blocks)t.push({block_id:i,qty:e.blocks[i].js_nr_selected});if(t.length){var n=B.require("fragment").call("hotel.fit_validation",{hotel_id:B.env.b_hotel_id,hotel_cc1:B.env.b_countrycode,is_user_genius:B.env.b_reg_user_is_genius?1:0,search_config:_.getRawValue(),checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date,selected_blocks:JSON.stringify(t)});n.then(function(e){if(_i_("269:a4906ef7"),void 0!==e.fit_status){var t="undefined"!==e.no_fit_guests?e.no_fit_guests:{};o(e.fit_status,t)}_r_()}),n.catch(function(e){})}_r_()}},_r_()}),B.define("component/hotel/new-rooms-table/fit-status-tooltip",function(e,t,i){"use strict";_i_("269:a4f997cc");var n=e("component"),r=e("hotel/redux/actionTypes"),_=e("hotel/store"),o=e("search-config").getRawValue(),l=e("jstmpl"),c=1,d=0,h=-1,a=0===o.b_children_total;i.exports=n.extend({tltpTimeout:null,init:function(){_i_("269:c40cc563");var i=o.b_nr_rooms_needed;window.innerWidth<1440&&a&&this.$el.addClass("fit_status_tooltip_container--to-top"),_.subscribe(function(){_i_("269:bd9f17db");var e=_.getState(),t=e.roomsTable.js_selection;0!=t.roomCount&&e.roomsTable.lastAction!=r.SELECT_ROOM||this.resetTooltip(),e.roomsTable.lastAction==r.CHANGE_FIT_STATUS&&t.roomCount&&t.roomCount>=i&&void 0!==t.fitStatus&&void 0!==t.noFitGuests&&a&&(this.prepareForRender(t.fitStatus,t.noFitGuests),this.displayTooltip(2===t.fitStatus)),_r_()}.bind(this)),_r_()},prepareForRender:function(e,t){_i_("269:a6427401");var i=this.$el.find(".js-fit-status-msg-main"),n=this.$el.find(".js-fit-status-msg-sec"),r="",_="",o=c;if(void 0!==e){if(2===e)r=l.translations("gaf_hp_rt_group_fits");else{var a=t.num_children,s=t.num_adults;0===e?(r=0<s&&0<a?l.translations("gaf_hp_rt_group_wont_fit_4_adult_and",s,{num_adults:s})+l.translations("gaf_hp_rt_group_wont_fit_4_adult_and_kids",a,{num_children:a}):0<s?l.translations("gaf_hp_rt_group_wont_fit_4",s,{num_adults:s}):l.translations("gaf_hp_rt_group_wont_fit_4_children",a,{num_children:a}),_=l.translations("gaf_hp_rt_group_wont_fit_2"),o=h):1===e&&(r=0<s&&0<a?l.translations("gaf_hp_rt_maybe_fit_adult_plus",s,{num_adult:s})+l.translations("gaf_hp_rt_maybe_fit_adult_plus_child",a,{num_child:a}):0<s?l.translations("gaf_hp_rt_maybe_fit_adult",s,{num_adult:s}):l.translations("gaf_hp_rt_maybe_fit_child",a,{num_child:a}),_=l.translations("gaf_hp_rt_maybe_fit_request"),o=d)}r.length?i.html(r).show():i.hide(),_.length?n.html(_).show():n.hide(),o===h?(this.$el.addClass("fit_status_tooltip_container--neg"),this.$el.removeClass("fit_status_tooltip_container--pos")):o===c?(this.$el.addClass("fit_status_tooltip_container--pos"),this.$el.removeClass("fit_status_tooltip_container--neg")):this.$el.removeClass("fit_status_tooltip_container--neg fit_status_tooltip_container--pos")}_r_()},resetTooltip:function(){_i_("269:fa08fc7d"),clearTimeout(this.tltpTimeout),this.$el.hide(),_r_()},displayTooltip:function(e){_i_("269:7081bb91");var t=this.$el;t.show().animate({opacity:1},600),e&&(this.tltpTimeout=setTimeout(function(){_i_("269:ee078cd0"),t.animate({opacity:0},600,function(){_i_("269:b1eb74fd"),t.hide(),_r_()}),_r_()},1e4)),_r_()}}),_r_()}),booking.jstmpl("fe_hprt_fit_message_block",function(){_i_("269:fb5c120d");var n,r=['\n    <div class="hprt-fit-message">\n        <div class="hprt-fit-message__head">\n            ','\n                <span class="hprt-fit-message__icon hprt-fit-message__icon--pos">\n                    ',"streamline/checkmark_selected","\n                </span>\n            ",'\n                <span class="hprt-fit-message__icon hprt-fit-message__icon--neg">\n                    ',"streamline/info_sign",'\n\n            <p class="hprt-fit-message__text">',"/private/fam_pp_rt_fit_message_good/name","/private/fam_pp_rt_fit_message_no_child/name","/private/fam_pp_rt_fit_message_no_fit/name","</p>\n        </div>\n\n        ",'\n            <p class="hprt-fit-message__sub">',"/private/fam_pp_rt_fit_message_no_fit_review/name","</p>\n        ","\n    </div>\n"],_=["fe_fit_status","fe_fit_reason"];return _r_(function(e){_i_("269:2ee0f105");var t="",i=this.fn;return t+=r[0],i.MJ(2==i.MB(_[0]))?t+=[r[1],(e.unshift({name:r[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[3]].join(""):t+=[r[4],(e.unshift({name:r[5]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[3]].join(""),t+=r[6],i.MJ(2==i.MB(_[0]))?t+=i.ME(r[7],i.MB,i.MN,null):i.MJ(0==i.MB(_[0]))&&(i.MJ(i.MB(_[1])+""=="NO_CHILD")?t+=i.ME(r[8],i.MB,i.MN,null):t+=i.ME(r[9],i.MB,i.MN,null)),t+=r[10],i.MJ(0==i.MB(_[0]))&&(t+=[r[11],i.ME(r[12],i.MB,i.MN,null),r[13]].join("")),t+=r[14],_r_(t)})}()),B.when({action:"hotel"}).run(function(e){_i_("269:eaf812a7");var t=e("jquery"),a=e("hotel/store"),s=e("utils/deepequal"),i=e("events"),n=t("#hprt-form"),r=!1;i.on(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED,function(){_i_("269:668e826a"),r=!0,_r_()}),n.on("submit",function(){_i_("269:d5758f9b"),r&&function(){_i_("269:9808d16d");for(var e=a.getState().roomsTable.js_selection.blocks,t={},i=0;i<B.env.b_room_group.length;i++){var n=B.env.b_room_group[i];t[n.block_id]=n}{if(e){var r={};for(var _ in e){var o={};o.count=e[_].js_nr_selected,o.block_id=_,r[_]=o}return _r_(s(r,t))}return _r_(!1)}}()&&n.append('<input type="hidden" name="is_group_recommendation" value="1">'),_r_()}),_r_()}),B.define("sliding-view-model",function(e,t,i){_i_("269:3d31669b");var n=e("event-emitter"),r={},_={show:"sliding-view/show",showView:"sliding-view/showView",hide:"sliding-view/hide"};function o(){_i_("269:c041a663"),this.isShown=0,n.extend(this),_r_()}o.prototype.isPanelShown=function(){return _i_("269:0ec518081"),_r_(this.isShown)},o.prototype.hide=function(){_i_("269:e339093e"),this.isShown&&this.emit(_.hide),_r_()},o.prototype.show=function(e){if(_i_("269:b5dafb4d"),this.isShown)return this.emit(_.showView,e),_r_();this.emit(_.show,e),_r_()},i.exports={EVENTS:_,get:function(e){if(_i_("269:757623b0"),"string"!=typeof e||0===e.length)throw new Error("sliding-view-model: invalid .get() argument!");return r.hasOwnProperty(e)||(r[e]=new o,r[e].id=e),_r_(r[e])},hideAll:function(){for(var e in _i_("269:41b079151"),r)r[e].hide();_r_()},isAnyPanelOpen:function(){if(_i_("269:fac5c04d"),r)for(var e in r)if(r.hasOwnProperty(e))return _r_(r[e].isPanelShown());_r_()}},_r_()}),B.define("component/core/sliding-view-trigger",function(e,t,i){_i_("269:83b71692");var n=e("component"),_=e("sliding-view-model");i.exports=n.extend({init:function(){if(_i_("269:4aad685d"),this.panel=this.$el.data("paramPanel"),"string"!=typeof this.panel)throw new Error("core/sliding-view: `data-panel` is invalid or undefined!");this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=_.get(this.panel);var n=this.el.dataset;if(n){this.params={};var r=new RegExp("param");Object.keys(n).forEach(function(e){_i_("269:7e858d44");var t=n[e];if(r.test(e)){var i=e.slice(5);i=i.toLowerCase(),this.params[i]=t}"paramIsStatic"===e&&(this.params.target=this.panel+"_static"),_r_()}.bind(this))}this._attachEvents(),_r_()},_attachEvents:function(){_i_("269:3c0e7bba"),this.$el.on("click",this.onClick.bind(this)),_r_()},onClick:function(e){_i_("269:315376a1"),e.preventDefault(),this.model.show(this.params),_r_()}}),_r_()}),B.define("component/core/sliding-view-content",function(a,e,t){"use strict";_i_("269:8b0b6695");var s=a("jquery"),i=a("fragment"),l=a("jstmpl");function n(e){_i_("269:2bf3e9b2"),this.id=e.id,this.$el=s("<div/>",{id:this.id,class:"sliding-views-group "}),e.isDefault&&(this.isDefault=e.isDefault),e.isInstant&&(this.isInstant=e.isInstant),e.title&&(this.title=e.title),e.fragment&&(this.fragmentName=e.fragment.name,this.fragmentParams=e.fragment.params,this.isLoading=!1),e.async&&(this.async=!0,this.cstName=e.async.cstName,this.loadingCstName=e.async.loadingCstName,this.concatJsFile=e.async.concatJsFile,this.concatCssFile=e.async.concatCssFile,this.isRendered=!1,this.isLoading=!1),e.datasource&&(this.datasource=e.datasource,this.isLoading=!1),e.beforeRender&&"function"==typeof e.beforeRender&&(this.beforeRender=e.beforeRender),e.afterRender&&"function"==typeof e.afterRender&&(this.afterRender=e.afterRender),e.destroyOnClose&&(this.destroyOnClose=!0),e.hasMap&&(this.hasMap=!0,this.mapId=e.fe_map_id),this.bindEvents(),_r_()}n.prototype.bindEvents=function(){},n.prototype.destroy=function(){_i_("269:85e23e04"),this.isRendered=!1,this.isLoading=!1,s(document).off("keyup"),this.$el.remove(),_r_()},n.prototype.setLoading=function(){_i_("269:4ec8c42d");var t=this,i=l(t.loadingCstName);i&&"__no_op__"!==i.name?this.isLoading?(this.isLoading=!1,this.$el.removeClass("loading"),this.$el.empty()):(this.isLoading=!0,this.$el.addClass("loading"),this.$el.html(l(this.loadingCstName).render())):a("async-loader").load({js:this.concatJsFile,css:this.concatCssFile}).then(function(e){_i_("269:810bec77"),"__no_op__"===i.name&&(i=l(t.loadingCstName)),t.isLoading?(t.isLoading=!1,t.$el.removeClass("loading"),t.$el.empty()):(t.isLoading=!0,t.$el.addClass("loading"),t.$el.html(i.render())),_r_()});_r_()},n.prototype._onFragmentSuccess=function(e,t,i){_i_("269:d2d05887");var n=this.data=i;return"function"==typeof this.beforeRender&&(n=this.beforeRender.call(this,i,t)),e.resolve(n,t),_r_(i)},n.prototype._getFragmentData=function(e,t){_i_("269:ba4467b6");e.resort_id||e.landmark_id||!(!e.dest_id||!e.dest_type||e.dest_id&&""===e.dest_id||e.dest_type&&""===e.dest_type)?i.call(this.fragmentName,e).then(this._onFragmentSuccess.bind(this,t,e),function(e){_i_("269:a5c4191f"),t.resolve({error:e}),_r_()}):t.resolve({error:"Missing fragment parameters"}),_r_()},n.prototype.getData=function(e){_i_("269:8ae49a99");var t=new s.Deferred,i=s.extend({},this.fragmentParams,e);return this.isRendered?t.resolve(this.data,i):this.fragmentName&&i?this._getFragmentData(i,t):this.datasource?this.datasource.then(this._onFragmentSuccess.bind(this,t,i),function(e){_i_("269:a5c4191f1"),t.resolve({error:e}),_r_()}):t.resolve({error:"No fragment to call"}),_r_(t)},n.prototype.render=function(t,i){_i_("269:d08a6944");var n=new s.Deferred,r=this;if(r.isRendered)n.resolve(r.renderedContent);else{var e,_=l(r.cstName),o=a("async-loader");_&&"__no_op__"!==_.name||(e=o.load({js:r.concatJsFile,css:r.concatCssFile})),e||_&&"__no_op__"!==_.name?e?e.then(function(e){_i_("269:72fa1bcd"),"__no_op__"===_.name&&(_=l(r.cstName)),r.renderedContent=_.render(t),r.isRendered=!0,r.setLoading(),n.resolve(r.renderedContent),"function"==typeof r.afterRender&&r.afterRender.call(r,t,i),_r_()}).catch(function(e){_i_("269:8e8639c2"),n.resolve({error:e}),_r_()}):(r.renderedContent=_.render(t),r.isRendered=!0,r.setLoading(),n.resolve(r.renderedContent),"function"==typeof r.afterRender&&r.afterRender.call(r,t,i)):n.resolve({error:"No cst"})}return _r_(n)},n.prototype.initMap=function(){_i_("269:8590765d");var e=this.$el.find(".tt-map-container__"+this.mapId).data("map-card-instance");e&&(this.mapApi=e,this.mapApi.initMap(this.data)),_r_()},t.exports=n,_r_()}),B.define("component/core/sliding-view",function(o,e,t){"use strict";_i_("269:dcac3406");var a=B.debug&&B.debug("debug_beach_team_pilot"),s=o("events"),l=o("jquery"),r="is-shown",_=o("sliding-view-model"),n="sliding-view/open",i="sliding-view/close",c="sliding-view/load_view",d="sliding-view/back",h="sliding-view/forward",u="sliding-view/back_close",f="sliding-view/backdrop_close",p="sliding-view/forward_open",b="sliding-view/view_rendered";function m(e){_i_("269:a9db9c17");var t=this;if(e.id&&(t.id=e.id,t.model=_.get(t.id),t.$el=l("#"+t.id)),t.$title=t.$el.find(".sliding-view__title"),t.$content=t.$el,t.$close=this.$el.find("[data-close-button]"),t.current=null,t.prev=null,t.isShown=!1,t.viewStack=[],t.views={},t.useScrollBlocker=e.useScrollBlocker,t.srMap=l(".map_full_overlay__wrapper"),e.views)e.views.forEach(function(e){_i_("269:53fb973f"),t.registerView(e),_r_()});else{var i=new(o("component/core/sliding-view-content"))({id:t.id+"_static",isDefault:!0});t.registerView(i)}var n=window.location.hash.slice(1);""===n||n.match(/map_opened/)||(i=t.getView(n))&&i.id&&t.showAfterDomReady(i.id);t.$backdrop=l("<div/>",{class:"sliding-view__backdrop"}).appendTo("body"),this.bindEvents(),a.log("inited"),_r_()}m.prototype.bindEvents=function(){_i_("269:2ef1ea91");var t=this;this.model.on(_.EVENTS.show,function(e){_i_("269:59732ea5"),t.show(e.target,e),_r_()}),this.model.on(_.EVENTS.showView,function(e){_i_("269:b186fcbf"),t.showView(e.target,e),_r_()}),this.model.on(_.EVENTS.hide,this.hide.bind(this)),this.$close.on("click",this.onCloseClick.bind(this)),"www"===B.env.b_site_type&&this.$backdrop.on("click",function(){_i_("269:29dfcafd"),t.current&&t.current.id&&s.emit(f,t.current.id),window.location.hash.match(/map_opened/)?history.back(-1):t.hide(),_r_()}),this.useScrollBlocker&&(this.scrollBlocker=o("page-scroll-block"),this.scrollBlocker.init()),l(window).on("hashchange",this.handleChange.bind(this)),a.log("events binded"),_r_()},m.prototype.handleChange=function(e){_i_("269:59db2b99");var t=window.location.hash.slice(1);if("www"===B.env.b_site_type&&this.isOpen()&&"searchresults"===B.env.b_action&&(""===t||"_"===t)&&this.srMap&&this.srMap.is(":visible"))return window.location.hash="map_opened",_r_();t.match(/map_opened/)&&(t=t.substring(11));var i=this.getView(t),n=this;if(i&&n.current){if(!n.isOpen())return _r_();var r=0;n.prev&&n.prev.id===i.id&&(r=1),r?(s.emit(d,n.current.id),n.removeView(n.current)):n.cachedParams&&n.cachedParams&&(s.emit(h,i.id),n.showView(i.id,n.cachedParams))}else i&&!n.current?i.params&&(s.emit(p,i.id),n.show(i.id,i.params)):!i&&n.current&&(s.emit(u,n.current.id),n.hide());a.log("hashChanged",i),_r_()},m.prototype.registerView=function(e){_i_("269:8db88fb6"),e.id&&(this.views[e.id]=e),_r_()},m.prototype.isOpen=function(){return _i_("269:c325f973"),_r_(this.model.isShown)},m.prototype.onCloseClick=function(){_i_("269:f8056d61"),history.back(-1),_r_()},m.prototype.show=function(e,t){_i_("269:d6e453a8"),this.model.isShown=1,this.isShown=!0,this.toggleBackDrop(),this.$el.show();var i=this;this.animateOpen(this).then(function(){_i_("269:8dab8fec"),e?i.showView(e,t):i.viewStack.length||Object.keys(i.views).some(function(e){_i_("269:aac27195");var t=i.views[e];t.isDefault&&i.showView(t.id),_r_()}),_r_()}),this.useScrollBlocker&&this.scrollBlocker.freeze(),s.emit(n,e),_r_()},m.prototype.showAfterDomReady=function(e){_i_("269:b9aa7989");var t=this;"sliding-view__beach"!==e&&"sliding-view__photos"!==e||("searchresults"===B.env.b_action?e="sliding-view__ufi":"hotel"===B.env.b_action&&(e="sliding-view__property")),l(document).ready(function(){_i_("269:25615711"),setTimeout(function(){_i_("269:6a0cbbf2"),t.show(e),_r_()},20),_r_()}),_r_()},m.prototype.hide=function(){_i_("269:671070be"),this.model.isShown=0,this.isShown=!1,this.toggleBackDrop();var e=this;this.animateClose(this).then(function(){_i_("269:2c5249ca"),e.$el.hide(),e.removeAllViews(),_r_()}),this.useScrollBlocker&&this.scrollBlocker.unfreeze(),this.hasError&&this.$content.find("#sliding-view__error").remove(),this.current&&s.emit(i,this.current.id),_r_()},m.prototype.getView=function(e){_i_("269:21199824");var t=this.views[e];if(t)return _r_(t);_r_()},m.prototype.loadView=function(e,t){if(_i_("269:9fe76f29"),!e.id)return _r_();if(t&&t.fromMap||window.location.hash.match(/map_opened/)?window.location.hash="map_opened-"+e.id:window.location.hash=e.id,this.viewStack.length?this.prev=this.getView(this.viewStack[this.viewStack.length-1]):this.prev=null,this.viewStack.push(e.id),this.setTitle(e,t),this.toggleBackBtn(),this.renderView(e,t),this.current&&this.current.id===e.id)return _r_();this.current=e,this.setActiveClass(),s.emit(c,e.id,t),_r_()},m.prototype.setActiveClass=function(){_i_("269:3a7571f1");var t=this,e=this.viewStack;e.length&&e.forEach(function(e){_i_("269:9fa1143b"),t.$content.removeClass("active-view__"+e),_r_()}),t.current&&t.$content.addClass("active-view__"+t.current.id),_r_()},m.prototype.removeAllViews=function(){_i_("269:8659ed27");var i=this;if(i.viewStack.forEach(function(e){_i_("269:f3a6f7af");var t=i.getView(e);t&&t.destroyOnClose&&t.destroy(),t.$el.removeClass("is-shown"),_r_()}),i.current=null,i.setActiveClass(),i.viewStack=[],i.prev=null,window.location.hash.match(/map_opened/))a.log("map open all panels closed");else{if("mdot"===B.env.b_site_type&&(window.location.href.indexOf("htMap")||window.location.href.indexOf("srMap")))return _r_();window.location.hash="_"}_r_()},m.prototype.removeView=function(e,t){_i_("269:a8fe4bdd");var i=this;if(this.setTitle(e,t),this.prev?this.animateClose(e).then(function(){_i_("269:581d0616"),e.destroyOnClose&&e.destroy(),i.hasError&&i.$content.find("#sliding-view__error").remove(),_r_()}):this.hide(),this.current=this.prev,i.setActiveClass(),this.viewStack.pop(e.id),this.toggleBackBtn(),1<this.viewStack.length){var n=this.viewStack.indexOf(this.current.id);this.prev=0<n?this.getView(this.viewStack[n-1]):null}else this.prev=null;_r_()},m.prototype.animateClose=function(e){_i_("269:a23082ea");var t=new l.Deferred,i=e.$el,n=e.isInstant?0:200;return i.removeClass(r),setTimeout(function(){return _i_("269:ddee4527"),_r_(t.resolve())},n),_r_(t)},m.prototype.animateOpen=function(e){_i_("269:045ee441");var t=new l.Deferred,i=e.$el,n=e.isInstant?0:400;return setTimeout(function(){return _i_("269:56b9f048"),i.addClass(r),_r_(t.resolve())},n),_r_(t)},m.prototype.renderView=function(i,n){_i_("269:361d904d");var r=this,e=r.$content.find("#"+i.id);if(e.length)e.addClass("is-shown"),this.$el.show();else{var _=i.$el;i.setLoading(),this.$content.append(_),this.animateOpen(i).then(function(){_i_("269:bc7330e4"),i.getData(n).then(function(e,t){_i_("269:624d5f73"),i.render(e,t).then(function(e){if(_i_("269:c025746a"),e&&"string"==typeof e&&""!==e)_.html(e),r.hasError=0,r.loadComponents(i).then(function(e){_i_("269:32ea9584"),a.log("rendered and components loaded"),s.emit(b,i.id),_r_()}),r.cachedParams=l.extend({},i.fragmentParams,n);else{var t=o("jstmpl")("tt_panel_error");r.$content.append(t.render()),r.hasError=1,i.destroy(),r.cachedParams=null,B&&"function"==typeof B.squeak&&e&&e.error&&B.squeak("bLWbeEFbECETWaPIEaFXPGO")}_r_()}),_r_()}),_r_()})}_r_()},m.prototype.showView=function(e,t){_i_("269:5656e8ec"),this.current&&this.current.id===e||this.loadView(this.getView(e),t),_r_()},m.prototype.loadComponents=function(e){_i_("269:e2adcccf");var t=new l.Deferred,i=this;return this.$content.find("[data-sliding-view-trigger]").on("click",function(){_i_("269:7856d663");var e=l(this).data("target"),t=l(this).data();i.showView(e,t),_r_()}),e.$el.loadComponents(),setTimeout(function(){_i_("269:eef2d633"),e.hasMap&&e.mapId&&e.initMap(),window.BUI.initComponents(e.$el[0]),t.resolve(),_r_()},20),_r_(t)},m.prototype.setTitle=function(e,t){if(_i_("269:eb730a6f"),t&&t.dest_title){var i=t.dest_title;i&&""!==i&&(this.prev&&(this.prev.title=this.$title.text()),this.$title.text(i))}else this.prev?this.$title.text(this.prev.title):e&&e.title&&this.$title.text(e.title);_r_()},m.prototype.toggleBackBtn=function(){_i_("269:189b3327"),1<this.viewStack.length?(this.$close.find(".sliding-view__icon-back").show(),this.$close.find(".sliding-view__icon-close").hide()):(this.$close.find(".sliding-view__icon-back").hide(),this.$close.find(".sliding-view__icon-close").show()),_r_()},m.prototype.toggleBackDrop=function(){_i_("269:ca8deae4"),this.isShown?this.$backdrop.addClass(r):this.$backdrop.removeClass(r),_r_()},t.exports=m,_r_()}),B.define("theme-parks/theme-park-benefits/store",function(e){_i_("269:860dab43");var t=e("redux");return _r_(t.createStore(function(e,t){switch(_i_("269:e3e45f1d"),t.type){case"UPDATE_FROM_SERVER":if(t&&t.payload&&t.payload.data){var i=t.payload.data,n=[];return i.benefitIdsByPriority&&i.specialBenefits&&(n=i.benefitIdsByPriority.map(function(e,t){return _i_("269:fea2dea1"),_r_(i.specialBenefits[e])})),_r_(Object.assign({},e,{specialBenefits:n,benefitsLegalPrefix:i.benefitsLegalPrefix||[],benefitsLegalSuffix:i.benefitsLegalSuffix||[]}))}return _r_(e);default:return _r_(e)}_r_()},{specialBenefits:[]}))}),B.when({events:"load",condition:1==B.env.fe_show_fam_web_hp_theme_park_benefits}).run(function(e){_i_("269:95dbbb5d");var t=e("fragment"),i=e("theme-parks/theme-park-benefits/store");t.call("property.families.property_special_benefits",{hotel_id:B.env.b_hotel_id,lang:B.env.b_lang}).then(function(e){_i_("269:9899b927"),i.dispatch({type:"UPDATE_FROM_SERVER",payload:{data:e}}),_r_()}),_r_()}),B.define("component/theme-parks/theme-park-benefits-block-content",function(e,t,i){"use strict";_i_("269:4ebe51db");var n=e("component"),r=e("jstmpl"),_=e("theme-parks/theme-park-benefits/store");i.exports=n.extend({init:function(){_i_("269:dfb319ae");var i=this.$el.find(".js-theme-park-benefits-carousel"),n=this.$el.data("arg-is-desktop");_.subscribe(function(){_i_("269:14918551");var e=_.getState(),t=r("fe_theme_park_benefits_carousel").render({fe_benefits_list:e.specialBenefits,fe_is_desktop:n});i.html(t),window.BUI.initComponents(i[0]),_r_()}),_r_()}}),_r_()}),booking.jstmpl("fe_theme_park_benefits_carousel",function(){_i_("269:8fac9276");var a,s=['\n    <div role="region" class="bui-carousel bui-carousel--large bui-u-bleed@small" data-bui-component="Carousel">\n        ','\n            <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                ','\n                    <li\n                        class="bui-carousel__item"\n                        data-bui-ref="carousel-item"\n                        ','\n                            data-sub-page-ref="theme-park-benefits-sub-page"\n                        ','\n                    >\n                        <div class="bui-card bui-card--media bui-card--transparent ',"bui-f-depth-1",'">\n                            <div class="bui-card__image-container">\n                                <img class="bui-card__image" src="','" />\n                            </div>\n                            <div class="bui-card__content">\n                                <header class="bui-card__header">\n                                    <h3 class="bui-card__title">',"</h3>\n                                </header>\n                            </div>\n                        </div>\n                    </li>\n                ","\n            </ul>\n        ","\n\n        ",'\n            <div class="bui-carousel__nav">\n                <button\n                    type="button"\n                    class="bui-carousel__button"\n                    aria-label="Previous content"\n                    data-bui-ref="carousel-prev"\n                >\n                    ',"bui-carousel__prev","streamline/arrow_nav_left","32",'\n                </button>\n                <button\n                    type="button"\n                    class="bui-carousel__button"\n                    aria-label="Next content"\n                    data-bui-ref="carousel-next"\n                >\n                    ',"bui-carousel__next","streamline/arrow_nav_right","\n                </button>\n            </div>\n        ","\n    </div>\n"],l=["fe_benefits_list","fe_is_desktop"];return _r_(function(e){_i_("269:dac6cbce");var t="",i=this.fn;if(t+=s[0],i.MD(l[0])){t+=s[1];var n=i.MC(l[0])||[];e.unshift({fe_benefit_item:null});for(var r,_=1,o=n.length;_<=o;_++)e[0].fe_benefit_item=r=n[_-1],t+=s[2],i.MK(i.MB(l[1]))&&(t+=s[3]),t+=s[4],i.MK(i.MB(l[1]))&&(t+=s[5]),t+=[s[6],i.STATIC_HOSTNAME(r.benefitThumbnailUrl,0,0,0,0),s[7],i.F.entities((r||{}).benefitTitle),s[8]].join("");e.shift(),t+=s[9]}return t+=s[10],i.MD(l[1])&&(t+=[s[11],(e.unshift({class:s[12],name:s[13],width:s[14]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[15],(e.unshift({class:s[16],name:s[17],width:s[14]}),a=i.HELPER("icon",e[0]),e.shift(),a),s[18]].join("")),t+=s[19],_r_(t)})}()),B.define("component/theme-parks/theme-park-benefits-panel-content",function(e,t,i){"use strict";_i_("269:dfbfc35d");var n=e("component"),r=e("jstmpl"),_=e("theme-parks/theme-park-benefits/store");i.exports=n.extend({init:function(){_i_("269:e0361700");var t=_.getState(),i=this.$el.find(".js-theme-park-benefits-panel-content");function e(){_i_("269:4c7b44de");var e=r("fe_theme_park_benefits_list").render({fe_benefits_list:t.specialBenefits,fe_benefits_legal_prefix_list:t.benefitsLegalPrefix,fe_benefits_legal_suffix_list:t.benefitsLegalSuffix});i.html(e),window.BUI.initComponents(i[0]),_r_()}t.specialBenefits.length?e():_.subscribe(function(){_i_("269:824ac3a5"),t=_.getState(),e(),_r_()}),_r_()}}),_r_()}),booking.jstmpl("fe_theme_park_benefits_list",function(){_i_("269:e854ffb7");var l,c=["\n    ",'\n        <div class="c-theme-park-benefits-panel-content__list">\n            <ul class="bui-list bui-list--divided bui-list--text">\n                ','\n                    <li class="bui-list__item">\n                        <div class="bui-card bui-card--media bui-card--transparent theme-park-benefit-card">\n                            <header class="bui-card__header">\n                                <h3 class="bui-card__title bui-f-font-display_one">','</h3>\n                            </header>\n                            <div class="bui-card__image-container">\n                                <img class="bui-card__image" alt="','" src="','" />\n                            </div>\n                            <div class="bui-card__content">\n                                <p class="bui-card__text bui-f-font-body">',"</p>\n                            </div>\n                        </div>\n                    </li>\n                ",'\n            </ul>\n        </div>\n\n        <ul class="bui-accordion" data-bui-component="Accordion">\n            <li class="bui-accordion__row">\n                <button type="button" class="bui-accordion__row-inner" data-bui-ref="accordion-button" aria-controls="content-0" aria-expanded="false">\n                    <div class="bui-accordion__row-header bui-f-font-heading">\n                        ',"/private/fam_universal_benefits_tc/name",'\n                    </div>\n                    <span role="presentation" class="bui-accordion__icon-container">\n                        ',"bui-accordion__icon","streamline/arrow_nav_down","24",'\n                    </span>\n                </button>\n                <div id="content-0" class="bui-accordion__content" role="region">\n                    <div class="bui-f-font-body">\n                        ',"\n                            <p>","</p>\n                        ","\n                        ","\n                            ","\n                                <p>","</p>\n                            ","\n                    </div>\n                </div>\n            </li>\n        </ul>\n    ","\n"],d=["fe_benefits_list","fe_benefits_legal_prefix_list","fe_benefits_legal_suffix_list"];return _r_(function(e){_i_("269:dbbc92d6");var t="",i=this.fn;if(t+=c[0],i.MD(d[0])){t+=c[1];var n=i.MC(d[0])||[];e.unshift({fe_benefit_item:null});for(var r=1,_=n.length;r<=_;r++)e[0].fe_benefit_item=a=n[r-1],t+=[c[2],i.F.entities((a||{}).benefitTitle),c[3],i.F.entities((a||{}).benefitTitle),c[4],i.STATIC_HOSTNAME(a.benefitImageUrl,0,0,0,0),c[5],i.F.entities((a||{}).benefitDescription),c[6]].join("");e.shift(),t+=[c[7],i.ME(c[8],i.MB,i.MN,null),c[9],(e.unshift({class:c[10],name:c[11],width:c[12]}),l=i.HELPER("icon",e[0]),e.shift(),l),c[13]].join("");n=i.MC(d[1])||[];e.unshift({fe_benefit_legal_prefix:null});var o;for(r=1,_=n.length;r<=_;r++)e[0].fe_benefit_legal_prefix=o=n[r-1],t+=[c[14],o,c[15]].join("");e.shift(),t+=c[16];n=i.MC(d[0])||[];e.unshift({fe_benefit_item:null});var a;for(r=1,_=n.length;r<=_;r++)e[0].fe_benefit_item=a=n[r-1],t+=c[17],i.MJ(i.MG((a||{}).benefitLegal))&&(t+=[c[18],(a||{}).benefitLegal,c[19]].join("")),t+=c[16];e.shift(),t+=c[16];n=i.MC(d[2])||[];e.unshift({fe_benefit_legal_suffix:null});var s;for(r=1,_=n.length;r<=_;r++)e[0].fe_benefit_legal_suffix=s=n[r-1],t+=[c[14],s,c[15]].join("");e.shift(),t+=c[20]}return t+=c[21],_r_(t)})}()),B.when({events:"load"}).run(function(e){_i_("269:7dfbc151");var t=e("component/core/sliding-view");return _r_(new t({id:"theme-park-benefits-panel"}))}),B.define("component/hotel/group-rec-multi",function(e,t,i){"use strict";_i_("269:1cf4edbe");var n=e("component");i.exports=n.extend({init:function(){_i_("269:72265f76");var e=this.el;if(this.$container=$(e),this.$contentEls=this.$container.find("div[data-tab-id]"),!this.$contentEls.length)return _r_();this.timeoutId=null,this.LOAD_DELAY=500;this.currentVisibleId="gr-1",this.seenTabsMap={"gr-1":1};var t=e.querySelector(".bui-tab");window.BUI.getInstance(t).props.onAfterTabChange=function(e){_i_("269:21a43a84"),clearTimeout(this.timeoutId);var t=e.id||"gr-1";if(t===this.currentVisibleId)return _r_();this.hideAll(),this.showSelectedContent(t),_r_()}.bind(this),_r_()},showSelectedContent:function(e){_i_("269:17ccfe08");var t=this.$container.find('div[data-tab-id="'+e+'"]');if(t.length||(t=this.$contentEls.eq(0)),t.length){if(!this.seenTabsMap[e]){var i=t.find("[data-group-rec-why]");i.length&&(i.addClass("is-loading"),this.timeoutId=setTimeout(function(){_i_("269:233c70f4"),i.removeClass("is-loading"),_r_()},this.LOAD_DELAY)),this.seenTabsMap[e]=1}t.show(),this.currentVisibleId=e}_r_()},hideAll:function(){_i_("269:1677b6b3"),this.$contentEls.hide(),_r_()}}),_r_()}),function(t){_i_("269:e4053262"),t.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:80c47d17");var i=e("jquery")('[data-elem="js-room-summary-final"]'),n=i.attr("data-hlight-cls");t.events.on("HP:RT:RoomSelectChanged",function(e){_i_("269:074b473e");var t=parseInt(e.totalSelectedRooms,10);i.length&&(0<t?i.addClass(n):i.removeClass(n)),_r_()}),_r_()}),_r_()}(booking),B.when({events:"ready"}).run(function(e){_i_("269:2debdd25");var t=e("events"),n=0,r=0;t.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:0756dff4"),(r=t.find(".hp-rt-lightbox-single-policy-bookable").length)&&(n=t.find("[data-lightbox-ticker-below-cta]")).component("core/ticker").startTicker(),_r_()}),t.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i){_i_("269:2e35eb68"),r&&n.component("core/ticker").pauseTicker(),_r_()}),_r_()}),B.when({action:"hotel",events:"load"}).run(function(e){_i_("269:02afb495");var t=B.require("jquery")("#hp_small_print .description .is-license strong"),i=t.html()||"";0<t.length&&230<i.length&&(t.attr("fulltext",i).html(t.text().substr(0,180)+'&hellp; <a href="#" class="license-more">'+B.jstmpl.translations("/private/bh_fun_fine_print_expand/name")+"</a>"),t.on("click",".license-more",function(e){_i_("269:05d818de"),e.preventDefault(),t.html(i),_r_()})),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:963d8d2c");var n=e("jquery")(".book_now_rt_summary");function t(e,t){if(_i_("269:2d973b45"),t&&t.nr_rooms){var i=B.jstmpl("hp_book_now_summary").render({fe_num:t.nr_rooms,fe_price:t.price,fe_accommodation_type:B.env.b_acc_type});n.html(i).removeClass("g-hidden")}else n.html("").addClass("g-hidden");_r_()}if(B.env.is_rooms_table_rewrite){var i=e("hotel/store");i.subscribe(function(){_i_("269:909f1c37");var e=i.getState().roomsTable.js_selection;t(0,{nr_rooms:e.roomCount,price:e.totalPriceFormatted}),_r_()})}else B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,t),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,t);_r_()}),B.define("component/sharing/utils/copy",function(e,t,i){"use strict";_i_("269:2fa90919");var r=e("jquery");i.exports={copyText:function(e,t,i){_i_("269:3347825c");var n=this.createFakeCopyElement(e);document.body.appendChild(n),n.select(),n.setSelectionRange&&n.setSelectionRange(0,n.value.length),this.execCopyText(t,i),r(n).remove(),_r_()},createFakeCopyElement:function(e){_i_("269:74c38629");var t=document.createElement("textarea");return t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[B.env.b_lang_rtl?"right":"left"]="-9999px",t.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",t.setAttribute("readonly",""),t.value=e,_r_(t)},execCopyText:function(e,t){var i;_i_("269:53b5ecb7");try{document.execCommand("copy")}catch(e){i=e}i?t(i):e(),_r_()}},_r_()}),B.define("component/sharing/utils/short-url",function(e,t,i){"use strict";_i_("269:7eae7858");var n=e("jquery");i.exports={MDOT_AID:1258470,DESKTOP_AID:1258472,TDOT_AID:1258471,RAF_AID:939121,generate:function(e){return _i_("269:28c70332"),_r_(n.ajax({method:"POST",url:"/sharing_experience/get_short_url",dataType:"json",data:{url:e.longUrl,channel:e.channelName,aid:e.aid,raf_advocate_data:e.rafAdvocateData}}))}},_r_()}),B.define("component/sharing/share-link/share-link",function(e,t,i){"use strict";_i_("269:26133891");var n=e("component"),r=e("component/sharing/utils/short-url"),_=e("component/sharing/utils/copy"),o=e("et");i.exports=n.extend({placeholder:/DATA/g,channels:{sms:{name:"sms",action:"openSMS",uri:B.env.b_is_iphone?"sms:&body=DATA":"sms:?body=DATA"},whatsapp:{name:"whatsapp",action:"openWhatsapp",uri:"whatsapp://send?text=DATA"},copy:{name:"copy",action:"copyText",fetchOnOpen:!0},google:{name:"google",action:"openWindow",uri:"https://plus.google.com/share?url=DATA"},facebook:{name:"facebook",action:"openWindow",uri:"http://www.facebook.com/share.php?u=DATA"},twitter:{name:"twitter",action:"openWindow",uri:"http://twitter.com/home/?status=DATA"},fbmessenger:{name:"fbmessenger",action:"openURI",uri:"fb-messenger://share?link=DATA"},email:{name:"email",action:"openURI",uri:"mailto:?body=DATA"}},channel:null,loading:!1,init:function(){if(_i_("269:f6ed015a"),this.initChannel(),!this.channel)return _r_();this.loadDataParams(),this.addEventListeners(),_r_()},initChannel:function(){_i_("269:ddf0200f");var e=this.$el.data("channel");this.channel=this.channels[e],_r_()},trackShareSuccess:function(){_i_("269:6b0713131"),o.goal("web_share_dialog_succeed"),_r_()},trackShareError:function(){_i_("269:4b28efb6"),o.goal("web_share_dialog_failed"),_r_()},loadDataParams:function(){_i_("269:75d6630f"),this.loadingClass=this.$el.data("loading-class"),this.successClass=this.$el.data("success-class"),_r_()},addEventListeners:function(){_i_("269:f71485e4"),this.$el.on("click",this.onClickEvent.bind(this)),_r_()},onClickEvent:function(e){_i_("269:6c4a7335"),e.preventDefault(),this.isReady()?this.startAction():this.loading||this.startGenerationProcess().done(this.startAction.bind(this)),_r_()},isReady:function(){return _i_("269:09a91dbf"),_r_(!!this.channel.ready)},setLoadingState:function(){_i_("269:2049a470"),this.loading=!0,this.loadingClass&&this.$el.toggleClass(this.loadingClass,!0),_r_()},removeLoadingState:function(){_i_("269:60316399"),this.loading=!1,this.loadingClass&&this.$el.toggleClass(this.loadingClass,!1),_r_()},setSuccessState:function(){_i_("269:bc0e40be"),this.successClass&&this.$el.toggleClass(this.successClass,!0),_r_()},removeSuccessState:function(){_i_("269:a9af7879"),this.successClass&&this.$el.toggleClass(this.successClass,!1),_r_()},startGenerationProcess:function(){return _i_("269:bd4171ca"),this.onGenerationStart(),_r_(this.generateShortLink().done(this.onGenerationFinish.bind(this)).fail(this.onGenerationError.bind(this)))},onGenerationStart:function(){_i_("269:1ca4f0f7"),this.setLoadingState(),_r_()},getLongUrl:function(){return _i_("269:79d2bebc"),_r_(B.env.b_original_url)},generateShortLink:function(){return _i_("269:e53894bf"),_r_(r.generate({longUrl:this.getLongUrl(),channelName:this.channel.name,aid:r.MDOT_AID}))},onGenerationError:function(){_i_("269:c930a017"),this.removeLoadingState(),this.trackShareError(),_r_()},onGenerationFinish:function(e){_i_("269:c273872b"),this.removeLoadingState(),this.updateChannel(e),_r_()},updateChannel:function(e){_i_("269:9835af2b");var t=encodeURIComponent(e.shorturl);this.channel.uri&&(this.channel.uri=this.channel.uri.replace(this.placeholder,t)),this.channel.shorturl=e.shorturl,this.$el.attr("href")&&this.$el.attr("href",this.channel.shorturl),this.channel.ready=!0,_r_()},startAction:function(){_i_("269:e5c31642"),this[this.channel.action].call(this),this.trackShareSuccess(),_r_()},openURI:function(){_i_("269:08fb600c"),this.channel.uri&&(this.onBeforeURIOpen(),window.location.href=this.channel.uri),_r_()},openWindow:function(){_i_("269:cf6270ed"),this.channel.uri&&window.open(this.channel.uri),_r_()},openSMS:function(){_i_("269:5afbe49d"),this.openURI(),_r_()},openWhatsapp:function(){_i_("269:5afbe49d1"),this.openURI(),_r_()},copyText:function(){_i_("269:a9affbe9"),_.copyText(this.channel.shorturl,this.onCopySuccess.bind(this),this.onCopyError.bind(this)),_r_()},copyTimeoutId:null,onCopySuccess:function(){_i_("269:dd7b1ebf"),this.setSuccessState(),clearTimeout(this.copyTimeoutId),this.copyTimeoutId=setTimeout(function(){_i_("269:606a9b1e"),this.removeSuccessState(),_r_()}.bind(this),4e3),_r_()},onCopyError:function(){},onBeforeURIOpen:function(){}}),_r_()}),B.define("component/sharing/share-center/share-center",function(e,t,i){"use strict";_i_("269:1abacbde");var n=e("jquery"),r=e("et"),_=e("component/sharing/utils/short-url"),o=e("component"),a=e("querystring"),s=e("trap-focus"),l=(r=e("et"),"OTfdASFYTSUaRQMeBYaebCNZeOBO");i.exports=o.extend({_popup:null,shortCopyUrl:null,rafAdvocateData:null,init:function(){_i_("269:886d13ba"),this.$el.on("click keypress",".share_center_button_icon, .close",this.onPopupBtnClick.bind(this)),this.$el.on("click",".share_center_url",this.onCopyInputClick.bind(this)),this.$el.on("blur",".share_center_url",this.onCopyInputBlur.bind(this)),this.$el.on("click",".out_link a",this.onSocialLinkClick.bind(this)),this.$el.on("click",".share_center_copy_cta",this.onCopyCTAClick.bind(this)),this.copyConfirmationTimeoutId=null,_r_()},trackShareSuccess:function(){_i_("269:6b0713132"),r.goal("web_share_dialog_succeed"),_r_()},trackShareError:function(){_i_("269:4b28efb61"),r.goal("web_share_dialog_failed"),_r_()},onCopyCTAClick:function(e){if(_i_("269:05101f3b"),e.preventDefault(),!this.shortCopyUrl)return _r_();this.copyInputContent(),this.trackShareSuccess(),_r_()},copyInputContent:function(){_i_("269:7785e395");var e=this.$el.find(".share_center_url_input");e.attr("disabled",!1);try{e[0].select(),e[0].setSelectionRange&&e[0].setSelectionRange(0,this.shortCopyUrl.length),document.execCommand("copy"),this.onCopySuccess()}catch(e){this.onCopyError()}e.attr("disabled",!0),_r_()},onCopySuccess:function(){_i_("269:2f3d19a0");var e=this.$el.find(".share_center_copy_cta");e.addClass("share_center_copy_cta--copied"),this.$el.find(".share_center_url_input").focus().select(),clearTimeout(this.copyConfirmationTimeoutId),this.copyConfirmationTimeoutId=setTimeout(function(){_i_("269:4801c82a"),e.removeClass("share_center_copy_cta--copied"),_r_()}.bind(this),4e3),_r_()},onCopyError:function(){_i_("269:2f1466be"),this.$el.find(".share_center_url_input").focus().select(),_r_()},onCopyInputClick:function(e){_i_("269:2df0cf78"),e.currentTarget.select(),n(".copy_hint",n(e.currentTarget).closest(".share_center")).fadeIn("fast"),this.trackShareSuccess(),_r_()},onCopyInputBlur:function(e){_i_("269:004f5d27"),n(".share_center .copy_hint",e.currentTarget).fadeOut("fast"),_r_()},onSocialLinkClick:function(e){_i_("269:6ab8cd0a"),e.preventDefault();var t=e.currentTarget.getAttribute("href");window.open(t,"sc_share","menubar=0,resizable=1,width=600,height=400"),this.trackSocialLinkClick(e.currentTarget.getAttribute("data-channel")),_r_()},trackSocialLinkClick:function(e){_i_("269:5ca85a30"),this.trackShareSuccess(),_r_()},onPopupBtnClick:function(e){_i_("269:51ba2e16"),this.isPopupOpen()?(1===r.track(l)&&this._isItACloseAction(e.target)&&s.release(!1),this.hidePopup()):this.showPopup(),_r_()},isPopupOpen:function(){return _i_("269:695e5725"),_r_(this._popup&&this._popup.hasClass("open"))},_isItACloseAction:function(e){return _i_("269:67e1ef3b"),_r_(e.classList.contains("close"))},showPopup:function(){_i_("269:b7cccae6");var e=n(".share_center_button_icon");e.removeClass("open"),this._popup||(this._popup=this.createPopup(),this.$el.append(this._popup).loadComponents()),this.generateCopyLink(),this.isPopupOpen()||(this._popup.addClass("open"),1===r.track(l)&&(setTimeout(function(){_i_("269:5c7cabb2"),n(".sc_facebook a").focus(),_r_()},100),s.trap(this._popup.get(0),e.get(0)))),this.$el&&this.$el.attr("aria-expanded","true");var t=this._popup.find(".inner");t.length&&(t.focus(),this.$el.on("keydown",this.handleKeys.bind(this))),_r_()},hidePopup:function(){_i_("269:d8f70265"),this._popup.removeClass("open"),this.$el&&(this.$el.focus(),this.$el.attr("aria-expanded","false")),this.$el.unbind("keydown"),_r_()},handleKeys:function(e){switch(_i_("269:a26c3e86"),e.keyCode){case 27:this.hidePopup();break;default:return _r_()}_r_()},createSocialLink:function(e,t){_i_("269:67318c5d");var i=this.$el.data(e),n=window.location.href,r=a.parseUrl(window.location.href);return r&&r.query&&(r.query.aid=_.DESKTOP_AID,n=r.base+"?"+a.stringify(r.query)),_r_(i.replace(/DATA/,encodeURIComponent(n)))},createPopup:function(){return _i_("269:5ea88dbb"),_r_(n(B.jstmpl("shareCenterPopup").render({b_hotel_image_url:this.$el.data("hotel-image-url"),b_facebook_url:this.createSocialLink("facebook-url","facebook"),b_twitter_url:this.createSocialLink("twitter-url","twitter"),b_hotel_name:this.$el.data("hotel-name"),b_reg_user_id:this.$el.data("user-id"),b_raf_url:B.env.b_secure_domain+"/myreferrals"+B.env.b_query_params_with_lang,b_companyname:B.env.b_companyname})))},generateCopyLink:function(){if(_i_("269:2b53250e"),this.shortCopyUrl)return _r_();_.generate({longUrl:window.location.href,channelName:"copy",aid:this.rafAdvocateData?_.RAF_AID:_.DESKTOP_AID,rafAdvocateData:JSON.stringify(this.rafAdvocateData)}).done(function(e){_i_("269:15ce04f9"),this.shortCopyUrl=e.shorturl,this.setCopyReadyState(this.shortCopyUrl),_r_()}.bind(this)).fail(function(){_i_("269:2344cd9c"),this.trackShareError(),_r_()}.bind(this)),_r_()},setCopyReadyState:function(e){_i_("269:467b7284"),this.$el.find(".share_center_url_top").text(e),this.$el.find(".share_center_url").val(e);var t=this.$el.find(".share_center_copy_cta");t.removeClass("share_center_copy_cta--disabled"),t.css("min-width",Math.max(112,t.outerWidth())),_r_()}}),_r_()}),booking.jstmpl("shareCenterPopup",function(){_i_("269:587b5851");var n,r=['\n\n    <div class="share_center_popup top_pointer">\n        <div class="inner" tabindex="0" id="hotel-share_center" role="region" aria-labelledby="share_center_label">\n            <ul class="share_links share_links_with_top_margin">\n                <li class="sc_facebook out_link">\n                    <a href="','" data-channel="facebook" target="_blank" tabindex="0">\n                        ',"bui__share_center_icon","32","sprite/share_center_facebook","\n                        ","/private/share_social_facebook/name",'\n                    </a>\n                </li>\n                <li class="sc_twitter out_link">\n                    <a href="','" data-channel="twitter" target="_blank" tabindex="0">\n                        ',"sprite/share_center_twitter","/private/share_social_twitter/name",'\n                    </a>\n                </li>\n            </ul>\n            <hr />\n            <div class="form_substitute share_center_copy_form">\n                <label class="share_center_copy_label">',"/private/share_social_link/name",'</label>\n                <input type="text" class="share_center_url share_center_url_input" value="" disabled/>\n                <button class="b-button b-button_primary share_center_copy_cta share_center_copy_cta--disabled">\n                    <span class="share_center_copy_message">\n                        ',"/private/desktop_cdm_share_copy_link/name",'\n                    </span>\n                    <span class="share_center_copied_message">\n                        ',"/private/desktop_cdm_share_copied/name",'\n                    </span>\n                </button>\n            </div>\n            <hr />\n        </div>\n        <a href="#" class="close" tabindex="0" aria-label="',"/private/a11y_close_banner_share/name",'">&times;</a>\n    </div>\n'],_=["b_facebook_url","b_twitter_url"];return _r_(function(e){_i_("269:440c195b");var t="",i=this.fn;return t+=[r[0],i.MC(_[0]),r[1],(e.unshift({class:r[2],height:r[3],name:r[4],width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[5],i.ME(r[6],i.MB,i.MN,null),r[7],i.MC(_[1]),r[8],(e.unshift({class:r[2],height:r[3],name:r[9],width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[5],i.ME(r[10],i.MB,i.MN,null),r[11],i.ME(r[12],i.MB,i.MN,null),r[13],i.ME(r[14],i.MB,i.MN,null),r[15],i.ME(r[16],i.MB,i.MN,null),r[17],i.ME(r[18],i.MB,i.MN,null),r[19]].join(""),_r_(t)})}()),function(e){"use strict";_i_("269:1c1facc7");var i=e("jquery"),t=e("et"),n=e("component/sharing/utils/short-url"),r={opened:!1,shortCopyUrl:null,shareHandle:i("#share_center_btn"),shareDropDown:i("#dropdown_share_center"),shareCopyInput:i("#share_link_input").get(0),shareCopyButton:i("#share_link_button").get(0),shareCopyMsg:i("#share_center_copied_message"),openDropDown:function(){if(_i_("269:6206bb04"),!this.opened){var t=this;this.generateCopyLink(),this.shareDropDown.on("click","a",function(e){_i_("269:250dd335"),e.preventDefault(),t.onSocialLinkClick(this.getAttribute("href"),this.getAttribute("data-channel")),_r_()}),this.shareDropDown.on("click","input, button",function(e){_i_("269:10dd63a2"),e.stopPropagation(),e.preventDefault(),i(t.shareCopyMsg).text(""),t.copyInputContent(),_r_()}),this.shareDropDown.on("click",function(e){_i_("269:b662324c"),e.preventDefault(),_r_()}),this.opened=!0}_r_()},copyInputContent:function(){_i_("269:e69d26fb"),i(this.shareCopyInput).attr("disabled",!1);try{i(this.shareCopyInput).select(),i(this.shareCopyInput).setSelectionRange&&i(this.shareCopyInput).setSelectionRange(0,this.shortCopyUrl.length),document.execCommand("copy"),i(this.shareCopyButton).addClass("share_center_copy_cta--copied"),setTimeout(function(){_i_("269:1f77ca31"),i(this.shareCopyButton).removeClass("share_center_copy_cta--copied"),_r_()}.bind(this),4e3),setTimeout(function(){_i_("269:cc410db5"),i(this.shareCopyButton).focus(),i(this.shareCopyMsg).text(i(".share_center_copied_message",this.shareCopyButton).text()),_r_()}.bind(this),1e3)}catch(e){i(this.shareCopyInput).focus().select(),i(this.shareCopyMsg).text(i(this.shareCopyMsg).data("fail_message"))}i(this.shareCopyInput).attr("disabled",!0),this.trackShareSuccess(),_r_()},trackShareSuccess:function(){_i_("269:6b071313"),t.goal("web_share_dialog_succeed"),_r_()},setCopyReadyState:function(e){_i_("269:f0d32ceb"),i(this.shareCopyInput).val(e),i("a",this.shareDropDown).each(function(){_i_("269:9dfe86b1"),i(this).attr("href",i(this).data("href").replace(/DATA/,encodeURIComponent(e))),_r_()}),_r_()},onSocialLinkClick:function(e,t){_i_("269:91642c9c"),window.open(e,"sc_share","menubar=0,resizable=1,width=600,height=400"),this.trackShareSuccess(t),_r_()},generateCopyLink:function(){_i_("269:9bcf506a"),this.shortCopyUrl?this.setCopyReadyState(this.shortCopyUrl):(this.setCopyReadyState(window.location.href.split("?")[0]),n.generate({longUrl:window.location.href,channelName:"copy",aid:n.DESKTOP_AID}).done(function(e){_i_("269:fcd9038c"),this.shortCopyUrl=e.shorturl,this.setCopyReadyState(this.shortCopyUrl),_r_()}.bind(this))),_r_()},init:function(){_i_("269:835de677"),this.shareHandle.on("click",this.openDropDown.bind(this)),this.shareHandle.on("keydown",function(e){_i_("269:b4b9b236"),13==e.keyCode&&"share_center_btn"==e.target.id&&(e.stopPropagation(),e.preventDefault(),setTimeout(function(){_i_("269:2dfd59e4"),i("#share_center_btn").click(),_r_()},200)),_r_()}),this.shareDropDown.on("keydown",function(e){(_i_("269:7d17d9d1"),13==e.keyCode||32==e.keyCode)&&(e.stopPropagation(),e.preventDefault(),"a"==e.target.nodeName.toLowerCase()?e.target.click():i("button",e.target).get(0).click());_r_()}),_r_()}};B.et.track("OTfdASFMNbQMdCNETWeZLO")&&r.init(),_r_()}(B.require),B.define("utils",function(e,t,i){_i_("269:1ae1366f"),t.assertExists=function(e,t){if(_i_("269:9d42554a"),"object"!=typeof e||!(t in e))throw new Error("Property "+t+" is not found");_r_()},t.camelCaseKeys=function(e){_i_("269:dbbbdfa4");var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t.replace(/-([a-zA-Z])/g,function(e,t){return _i_("269:aefe3784"),_r_(t.toUpperCase())})]=e[t]);return _r_(i)},t.nodeData=function(e){_i_("269:c0d6317e"),e.jquery&&(e=e[0]),this.assertExists(e,"attributes");var t,i,n,r={};for(t=0,i=e.attributes.length;t<i;t++)(n=e.attributes[t])&&0==n.name.indexOf("data-")&&(r[n.name.replace(/^data-/,"")]=n.value);return _r_(this.camelCaseKeys(r))},_r_()}),B.define("component/utils/jump-to",function(e,t,i){"use strict";_i_("269:35604af8");var n=e("component"),r=e("utils");i.exports=n.extend({init:function(){_i_("269:1b384fe7"),this.options=r.nodeData(this.el),this.$el.on("click",function(e){_i_("269:4aab25da");var t=$("html, body"),i=$(this.options.afterJump),n=$(this.options.jumpTo),r=this.options.afterJumpAction||"click";if(!n.length)return _r_();if(e.preventDefault(),n=n.eq(0),t.stop().animate({scrollTop:n.offset().top+"px"},this.options.jumpToDuration||"fast"),!i.length)return _r_();i.trigger(r),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/reviews/review-best-score",function(e,t,i){_i_("269:3a1c327b");var n=e("component"),r=e("crosstab"),_="mtv_cnd_d_hp_best_review_seen_event";i.exports=n.extend({init:function(){_i_("269:477b97a4"),this.initData(),this.initCrossTabEvents(),this.updateVisibility(),_r_()},initData:function(){_i_("269:8c1d9d32"),this.hotelId=this.$el.data("current-hotel-id"),this.bestId=this.$el.data("best-hotel-id"),this.ufi=this.$el.data("ufi"),_r_()},initCrossTabEvents:function(){_i_("269:086f50cd"),r.on(_,this.handleCrosstabEvent.bind(this)),r.emitStorageEvent(_,{ufi:this.ufi,bestId:this.bestId}),_r_()},updateVisibility:function(){_i_("269:96b08285");this.$el.toggleClass("review_list_best_review_message__hidden",this.hotelId!==this.bestId),_r_()},handleCrosstabEvent:function(e){_i_("269:981bbc35");var t=e.payload;if(t.ufi!==this.ufi)return _r_();this.bestId=t.bestId,this.updateVisibility(),_r_()}}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:3504f6ed");var a=e("jquery");!function(){_i_("269:316737ed");var r,i=a("#rooms_table"),_=function(e){_i_("269:5634a07e");var t=a("a[href]:visible, area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):visible, iframe, object, embed, *[tabindex], *[contenteditable]");return _r_(e.find(t))}(i),o=i.find(".bookNowWrap").find(".js-rt__summary__reserve-button");!function(){_i_("269:21639681");var e=i.find("select.b_room_selectbox"),t=i.find(".roomType");o.before('<span class="rt-focus-catcher button-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),o.after('<span class="rt-focus-catcher button-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),e.each(function(){_i_("269:596bd8f0"),a(this).after('<span class="rt-focus-catcher select-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),_r_()}),t.each(function(){_i_("269:38acff0d"),a(this).find("a.js-track-hp-rt-room-name").before('<span class="rt-focus-catcher title-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),_r_()}),_r_()}(),_i_("269:f59f971e"),a(".rt-focus-catcher").on("focus",function(e){_i_("269:edeb5941"),e.preventDefault();var t=a(this);switch(!0){case t.hasClass("select-focus-catcher"):o.focus(),r=t.prev();break;case t.hasClass("button-focus-catcher"):if(t.hasClass("prev-catcher")&&r&&r.focus(),t.hasClass("next-catcher")){var i=_.index(r);_[i+1].focus()}break;case t.hasClass("title-focus-catcher"):var n=_.index(t.next());o.focus(),r=_[n-1]}_r_()}),_r_(),_r_()}(),_r_()}),B.define("searchresults/filters",function(n,r,e){function _(e,t){if(_i_("269:f5fe7d6f"),void 0===t){var i=e.split("-");this.id=e,e=i[0],t=i.slice(1).join("-")}else this.id=e+"-"+t;this.name=e,this.value=t,_r_()}function t(e){_i_("269:741fa2ee"),this.filters=e||{},_r_()}_i_("269:1728b511"),r.Filter=_,t.prototype.clone=function(){return _i_("269:c5e56a57"),_r_(new t(Object.assign({},this.filters)))},t.prototype.difference=function(e){_i_("269:db8c53d1");var t=function(t,e){return _i_("269:310faee4"),_r_(e.filter(function(e){return _i_("269:940fffef"),_r_(!(e.id in t))}))};return _r_({added:t(this.filters,e.toArray()),removed:t(e.filters,this.toArray())})},t.prototype.addFilter=function(e,t){_i_("269:448f7f43");var i=new _(e,t),n=$("#filterbox_wrap [data-id='"+e+"-"+t+"']:first");n.length&&(i.description=n.find(".filter_label").text().trim()),this.filters[i.id]=i,_r_()},t.prototype.removeFilter=function(e,t){_i_("269:6aacad14");var i=new _(e,t);delete this.filters[i.id],_r_()},t.prototype.removeFiltersByName=function(e){if(_i_("269:5bc61931"),!e)return _r_();var t=this.filters;this.getByName(e).forEach(function(e){_i_("269:fe407ebd"),delete t[e.id],_r_()}),_r_()},t.prototype.toString=function(){_i_("269:c72fdb40");var i=this,e=Object.keys(this.filters).map(function(e){_i_("269:81a7deaf");var t=i.filters[e];return _r_(t.name+"="+t.value)}).join(";");return _r_(e?e+";":e)},t.prototype.getCount=function(){return _i_("269:76f811e2"),_r_(Object.keys(this.filters).length)},t.prototype.toArray=function(){_i_("269:1ad337f1");var t=[],i=this.filters;return Object.keys(i).forEach(function(e){_i_("269:d7911f30"),t.push(i[e]),_r_()}),_r_(t)},t.prototype.getByName=function(e){_i_("269:fea93e95");var n=this.filters,t=Object.keys(n).reduce(function(e,t){_i_("269:9e0f39ec");var i=n[t];return e[i.name]||(e[i.name]=[]),e[i.name].push(i),_r_(e)},{});return _r_(e?t[e]||[]:t)},r.FilterCollection=t,r.parse=function(e){_i_("269:6bee21cf"),Array.isArray(e)&&(e=e[0]);var i=new t;return e&&e.split(";").forEach(function(e){if(_i_("269:f87b1019"),e){var t=e.split("=");i.addFilter(t[0],t[1])}_r_()}),_r_(i)},r.getInstance=function(e){_i_("269:d62b60b7");var t=void 0===e?n("searchresults/env").get("b_selected_nflt_url_param_decoded"):e,i=r.parse(t);return _r_(i)},_r_()}),B.when({events:"ready",condition:B.env.b_exp_a11y_sb_accessible_facilities}).run(function(e){_i_("269:94728091");var r=B.env.b_exp_a11y_sb_accessible_facilities,_=e("jquery"),i=e("searchresults/filters"),o="form.sb-searchbox";function a(e){_i_("269:4e665890");var t=i.parse(e.val().trim());this.prop("checked")?(t.addFilter("hotelfacility","25"),B.Search.tracker.trackEvent("accessibility_checkbox_checked_v"+r)):(t.removeFilter("hotelfacility","25"),B.Search.tracker.trackEvent("accessibility_checkbox_unchecked_v"+r)),e.val(t.toString()),_r_()}_(o).each(function(){_i_("269:b5657653");var e=_(this).find("input[name=sb_accessible_facilities]"),t=e.closest(o),i=t.find('input[name="nflt"]');if(!e.length||!i.length)return _r_();if(t.on("submit",function(e){_i_("269:96bc224f"),e.prop("checked")?B.Search.tracker.trackEvent("accessibility_search_with_filter_v"+r):B.Search.tracker.trackEvent("accessibility_search_without_filter_v"+r);_r_()}.bind(t,e)),e.on("change.a11y_af",a.bind(e,i)),2===r||"2"===r){var n=_(this).find(".js-a11y-sb-accessible-facilities-tooltip");n.on("mouseenter",function(e){_i_("269:13e7f1d9"),B.Search.tracker.trackEvent("accessibility_tooltip_icon_hovered"),B.et.customGoal(e,3),_r_()}.bind(n,"OTfdASFbLYdKQNQFaIDJNMTKe")),n.on("click",function(){_i_("269:8481e58e"),B.Search.tracker.trackEvent("accessibility_tooltip_icon_clicked"),_r_()}.bind(n))}a.call(e,i),_r_()}),_r_()}),booking.jstmpl("b_hp_rm_cinema_room_gallery",function(){_i_("269:9f164ce3");var a=['\n    <div class="cinema_room_gallery__wrapper hidden">\n        <div class="cinema_room_gallery__header">\n            <button data-js-cinema-btn-close class="cinema_room_gallery__btn-close" type="button">×</button>\n            <h3 class="cinema_room_gallery__name">','</h3>\n        </div>\n        <div class="cinema_room_gallery__body">\n            <button data-js-cinema-btn-prev\n                    class="cinema_room_gallery__btn-prev"\n                    type="button"></button>\n            <div class="cinema_room_gallery__main-img-wrapper">\n                ','\n                    <img data-width="','"\n                         data-height="','"\n                         data-js-cinema-main\n                         data-js-index="','"\n                         class="cinema_room_gallery__main-img hidden"\n                         src="','"/>\n                ','\n            </div>\n            <button data-js-cinema-btn-next\n                    class="cinema_room_gallery__btn-next"\n                    type="button"></button>\n        </div>\n        <div data-js-cinema-footer class="cinema_room_gallery__footer">\n            <div data-js-cinema-thumbwrapper class="cinema_room_gallery__thumb-wrapper">\n                ','\n                    <img class="cinema_room_gallery__thumb-img"\n                         data-js-cinema-thumb\n                         data-js-index="','"\n                         src="',"\n            </div>\n        </div>\n    </div>\n"],s=["name","photos","null"];return _r_(function(e){_i_("269:35d7145e");var t="",i=this.fn;t+=[a[0],i.MC(s[0]),a[1]].join("");var n=i.MC(s[1])||[];e.unshift({photo:null});for(var r=1,_=n.length;r<=_;r++)e[0].photo=o=n[r-1],t+=[a[2],(o||{}).b_dimension_width_max1024x768,a[3],(o||{}).b_dimension_height_max1024x768,a[4],i.F.entities(r),a[5],i.STATIC_HOSTNAME(i.MB(s[2]),0,0,0,0),(o||{}).b_uri_max1024x768,a[6]].join("");e.shift(),t+=a[7];n=i.MC(s[1])||[];e.unshift({photo:null});var o;for(r=1,_=n.length;r<=_;r++)e[0].photo=o=n[r-1],t+=[a[8],i.F.entities(r),a[9],i.STATIC_HOSTNAME(i.MB(s[2]),0,0,0,0),(o||{}).b_uri_max200,a[6]].join("");return e.shift(),t+=a[10],_r_(t)})}()),B.when({action:"hotel",events:"ready"}).run(function(n){_i_("269:60bc72be"),window.setTimeout(function(){_i_("269:80a5a09f");var e="BUcJPPBASMffaAJYeCIObTae",u=n("jquery"),t=n("et"),i=n("jstmpl");if(!t&&!t.track(e))return _r_();({$container:u("<div data-js-cinema-root>"),triggerer:"[data-js-cinema-room-id]",mainImage:"[data-js-cinema-main]",thumbImage:"[data-js-cinema-thumb]",btnNext:"[data-js-cinema-btn-next]",btnPrev:"[data-js-cinema-btn-prev]",btnClose:"[data-js-cinema-btn-close]",footer:"[data-js-cinema-footer]",thumbWrapper:"[data-js-cinema-thumbwrapper]",errorImage:"//cf.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",errorThumb:"//cf.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",activeRoom:0,activeImgIdx:0,activeClass:"active",hideClass:"hidden",isOpened:!1,template:i("b_hp_rm_cinema_room_gallery"),cache:{},room:B.env.b_cinematic_room_gallery_data||{},currentThumb:null,currentMain:null,albumLength:0,isRtl:u("body").hasClass("lang_is_rtl"),getGallery:function(){return _i_("269:2d1e3bc0"),_r_(this.cache[this.activeRoom])},init:function(){_i_("269:4c2694b0"),u("body").append(this.$container),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:6f5e8eed"),u("body").delegate(this.triggerer,"click",u.proxy(this.roomClick,this)),_r_()},render:function(){_i_("269:578086e7");var e=this.room[this.activeRoom];if(e&&e.photos&&0<e.photos.length){var t=this.template.render(e);this.cache[this.activeRoom]=u(t),this.$container.append(this.getGallery()),this.getGallery().find("img").bind("error.loadingImage",u.proxy(this.handleImageError,this)),this.open()}_r_()},open:function(){_i_("269:98213644"),this.isOpened=!0,this.currentThumb=this.getGallery().find(this.thumbImage),this.currentMain=this.getGallery().find(this.mainImage),this.albumLength=this.currentMain.length,this.getGallery().removeClass(this.hideClass),this.goIndex(0),this.toggleEventBinding(!0),t.stage(e,1),_r_()},close:function(){for(var e in _i_("269:099fb0b6"),this.cache)this.cache.hasOwnProperty(e)&&this.cache[e].addClass(this.hideClass);this.isOpened=!1,this.toggleEventBinding(!1),_r_()},goNext:function(){_i_("269:2a6fb8bc");var e=0;this.activeImgIdx+1==this.albumLength?e=0:this.activeImgIdx+1<this.albumLength&&(e=this.activeImgIdx+1),this.goIndex(e),_r_()},goPrev:function(){_i_("269:d3d95c99");var e=0;0==this.activeImgIdx?e=this.albumLength-1:0<this.activeImgIdx&&(e=this.activeImgIdx-1),this.goIndex(e),_r_()},goIndex:function(e){_i_("269:6e94dbc6"),this.currentThumb.removeClass(this.activeClass),this.currentThumb.eq(e).addClass(this.activeClass),this.currentMain.addClass(this.hideClass),this.currentMain.eq(e).removeClass(this.hideClass),this.activeImgIdx=e,this.adjustThumbs(),_r_()},roomClick:function(e){_i_("269:e45e0868"),e.preventDefault(),this.activeRoom=u(e.target).data("js-cinema-room-id"),this.getGallery()?this.open():this.render(),_r_()},thumbClick:function(e){_i_("269:24b46772"),e.preventDefault(),this.goIndex(u(e.target).data("js-index")-1),_r_()},handleImageError:function(e){_i_("269:933fb6bb");var t=u(e.target);t.unbind("error.loadingImage"),t.addClass("error"),t.hasClass("cinema_room_gallery__main-img")?t.attr("src",this.errorImage):t.attr("src",this.errorThumb),_r_()},adjustThumbs:function(){_i_("269:9e3ceff0");var e=this.getGallery().find(this.footer),t=e.find(this.thumbWrapper),i=Math.floor(t.width()),n=Math.floor(e.width());if(i<=n)return _r_();var r={},_=u(window).width(),o=this.currentThumb.eq(this.activeImgIdx),a=this.currentThumb.last(),s=i-n+Math.floor(a.width()),l=Math.floor(o.width());if(this.isRtl)var c=Math.floor(_-(o.offset().left+l)),d=Math.floor(_-(t.offset().left+i));else c=Math.floor(o.offset().left),d=Math.floor(t.offset().left);var h=(c-d)/i;r[this.isRtl?"margin-right":"margin-left"]=-Math.floor(s*h)+"px",u(this.thumbWrapper).stop().animate(r,"fast"),_r_()},handleKeyboard:function(e){if(_i_("269:e4179100"),!this.isOpened)return _r_();switch(e.which||e.keyCode){case 27:this.close();break;case 37:this.isRtl?this.goNext():this.goPrev();break;case 39:this.isRtl?this.goPrev():this.goNext();break;default:return _r_()}_r_()},handleResize:function(){_i_("269:6a1f0a73"),this.isOpened&&this.adjustThumbs(),_r_()},toggleEventBinding:function(e){_i_("269:7553fda8"),e?(this.$container.delegate(this.thumbImage,"click.cinemaGalleryThumb",u.proxy(this.thumbClick,this)),this.$container.delegate(this.btnClose,"click.cinemaGalleryClose",u.proxy(this.close,this)),this.$container.delegate(this.btnNext,"click.cinemaGalleryNext",u.proxy(this.goNext,this)),this.$container.delegate(this.btnPrev,"click.cinemaGalleryPrev",u.proxy(this.goPrev,this)),u(document).bind("keydown.cinemaGalleryKeys",u.proxy(this.handleKeyboard,this)),u(window).bind("resize.cinemaGalleryResize",u.proxy(this.handleResize,this))):(this.$container.undelegate(this.thumbImage,"click.cinemaGalleryThumb"),this.$container.undelegate(this.btnClose,"click.cinemaGalleryClose"),this.$container.undelegate(this.btnNext,"click.cinemaGalleryNext"),this.$container.undelegate(this.btnPrev,"click.cinemaGalleryPrev"),u(document).unbind("keydown.cinemaGalleryKeys"),u(window).unbind("resize.cinemaGalleryResize")),_r_()}}).init(),_r_()},1),_r_()}),B.require(["jquery","et"],function(e,i){_i_("269:7c5ed3c6");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:b46e06ff"),t.find(".js_hp_rt_lightbox_room_desc").data("autogen-no-trans")&&i.stage("BUTOQbdMZEQDILSObIWe",2),_r_()}),_r_()}),B.define("component/core/ticker",function(e,t,i){_i_("269:5e4a5d26");var n=e("component");i.exports=n.extend({init:function(){_i_("269:f59f77fa");var e=this.$el.data("ticker-animation-delay")||5e3,t=this.$el.data("ticker-animation-time")||600,i=this.$el.data("ticker-stop-after-iterations")||NaN,n=this.$el.data("ticker-start-immediately");this.timeoutId=null,this.current_message=0,this.iterationIndex=0,this.options={animationDelay:e,animationTime:t,iterations:i,startImmediately:n},this.startImmediately()&&this.startTicker(),_r_()},startTicker:function(){_i_("269:dc682c59");var e=this,t=this.$el.find("li"),i=e.options.iterations*t.length;1<t.length&&(e.timeoutId=setTimeout(function(){_i_("269:b187537a"),e.animateListTicker(e,t,i),_r_()},e.options.animationDelay)),_r_()},animateListTicker:function(e,t,i){_i_("269:e8ba15cd"),(e.iterationIndex<i||e.isAlwaysAnimated())&&(e.current_message=(e.current_message+1)%t.length,t.fadeOut(e.options.animationTime),setTimeout(function(){_i_("269:439871f3"),t.eq(e.current_message).fadeIn(e.options.animationTime),_r_()},e.options.animationTime),e.timeoutId=setTimeout(function(){_i_("269:b187537a1"),e.animateListTicker(e,t,i),_r_()},e.options.animationDelay),e.iterationIndex++),_r_()},pauseTicker:function(){_i_("269:805eab12"),clearTimeout(this.timeoutId),this.timeoutId=null,_r_()},resetTicker:function(){_i_("269:6ab6f10d"),this.pauseTicker(),this.$el.find("li").hide().first().show(),this.current_message=0,this.iterationIndex=0,_r_()},isAlwaysAnimated:function(){return _i_("269:3e59925f"),_r_(isNaN(this.options.iterations))},startImmediately:function(){return _i_("269:d7a1a09c"),_r_(0!=this.options.startImmediately)}}),_r_()}),B.define("component/cinematic-gallery/photo",function(e,t,i){"use strict";_i_("269:7f53e87f");var n=e("jquery"),r=e("component");i.exports=r.extend({init:function(){_i_("269:05f711dc"),this.ratioMap={"1x1":1,"3x2":1.5,"4x3":1.333,"8x5":1.666,"16x9":1.778},this.wrapper=n(this.el),this.inner=n(this.el).find(".cinematic-g__photo__inner"),this.image=n(this.el).find(".cinematic-g__photo__main"),this.fit=this.inner.data("js-fit")||!1,this.ratio=this.inner.data("js-ratio")||!1,this.errorClass="cinematic-g__photo--error",this.successClass="cinematic-g__photo--success",this.fitWidthClass="cinematic-g__photo--width",this.fitHeightClass="cinematic-g__photo--height",!this.fit&&this.ratio&&(this.fit="zoom"),this.addEventListeners(),this.isImageLoaded()&&this.onImgSuccess(),_r_()},isImageLoaded:function(){return _i_("269:9af3b623"),_r_(this.image[0].naturalWidth&&0<this.image[0].naturalWidth)},getRatioData:function(){_i_("269:7ef001b3"),this.imgRatio=(this.image[0].naturalWidth||0)/(this.image[0].naturalHeight||1),this.innerRatio=!!this.ratio&&this.ratioMap[this.ratio],_r_()},onImgSuccess:function(){_i_("269:0fc1fd06"),this.inner.removeClass(this.errorClass),this.inner.addClass(this.successClass),this.setImageFit(),_r_()},onImgError:function(){_i_("269:0c69b242"),this.inner.removeClass(this.successClass),this.inner.addClass(this.errorClass),_r_()},setImageFit:function(){_i_("269:36a5a05d"),this.getRatioData(),this.fit&&"zoom"===this.fit&&this.inner.addClass(this.imgRatio>=this.innerRatio?this.fitHeightClass:this.fitWidthClass),this.fit&&"auto"===this.fit&&this.inner.addClass(this.imgRatio<this.innerRatio?this.fitHeightClass:this.fitWidthClass),_r_()},addEventListeners:function(){_i_("269:047ab9d4"),this.image.on("error",n.proxy(this.onImgError,this)),this.image.on("load",n.proxy(this.onImgSuccess,this)),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(){_i_("269:d6f552c7"),1<(window&&window.devicePixelRatio?window.devicePixelRatio:1)&&function(){_i_("269:0ad120ee");var e=$("div.hp-gallery-container .slick-slide img");$.each(e,function(e){_i_("269:89e27632");var t=$(this),i=t.data("highres"),n=new Image;i&&(n.onload=function(){_i_("269:4eb521d6"),t.attr("src")?t.attr("src",i):t.data("lazy")&&t.attr("data-lazy",i),_r_()},n.src=i),_r_()}),_r_()}(),_r_()}),B.when({events:"ready"}).require([],function(){_i_("269:7e4e5e8a"),B.env.track_wpx_tech_exp_name&&(B.et.stage(B.env.track_wpx_tech_exp_name,B.env.track_wpx_tech_exp_name_stage),B.et.stage(B.env.track_wpx_tech_exp_name,7)),_r_()}),B.when({action:"hotel",events:"load",experiment:"BUafVKdBYOWIBTUbERVHe"}).run(function(){_i_("269:54689311"),$(document).ready(function(){_i_("269:8b604b29");var e=$(".hp_nav_bar_wrapper"),t=e.parent(),i=$(".hp_nav_bar_wrapper_placeholder");e.css("width",t.width()+"px");var n=e.outerHeight(!0)+"px";$(window).scroll(function(){_i_("269:e4f434c0"),!e.hasClass("hp_nav_bar_fixed")&&$(window).scrollTop()>=t.offset().top?(i.css("height",n),e.addClass("hp_nav_bar_fixed")):e.hasClass("hp_nav_bar_fixed")&&$(window).scrollTop()<t.offset().top&&(e.removeClass("hp_nav_bar_fixed"),i.css("height","")),_r_()}),_r_()}),_r_()}),B.define("component/hotel/new-rooms-table/reservation-column/pob-message",function(e,t,i){_i_("269:461bb3bc"),booking.jstmpl("pob_message_bui_template",function(){_i_("269:ea0e6197");var n,r=['\n      <div class="',"bui-alert bui-alert--error bui-alert--large bui-u-bleed@small bui-pob--message ",'"\n      role="status"\n      >\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"/private/pob_sr_header_full/name",'\n            </p>\n            <a class="bui-link bui-link--primary js-hprt-pob-message_cta"\n            href="','">\n              ',"\n                ","/private/pb_ss_hp_banner_view_booking_cta/name","\n              ","/private/pb_ss_options_on_hp_view_upcoming_bookings_cta/name","\n            </a>\n        </div>\n      </div>\n    "],_=["num_bookings","my_reservations_url"];return _r_(function(e){_i_("269:c732d889");var t="",i=this.fn;return t+=r[0],t+=r[1],t+=[r[2],(e.unshift({num_pob_bookings:i.MB(_[0])}),n=i.ME(r[3],i.MB,i.MN,i.MO(i.MC(_[0]),null,r[3])),e.shift(),n),r[4],i.MC(_[1]),r[5]].join(""),i.MJ(i.MB(_[0])<2)?t+=[r[6],i.ME(r[7],i.MB,i.MN,null),r[8]].join(""):t+=[r[6],i.ME(r[9],i.MB,i.MN,null),r[8]].join(""),t+=r[10],_r_(t)})}());var n=e("component"),r=e("hotel/store"),_=e("ga-tracker");i.exports=n.extend({init:function(){_i_("269:3a155f56"),this.active=!1,this.global_num_bookings=0,this.loadData().then(this.handleData.bind(this)).then(this.render.bind(this)).catch(this.handleError.bind(this)),r.subscribe(this.onStoreUpdate.bind(this)),_r_()},onStoreUpdate:function(){_i_("269:99bb7865");var e=r.getState();e.roomsTable&&e.roomsTable.js_selection&&e.roomsTable.js_selection.roomCount?this.activate():this.deactivate(),_r_()},activate:function(){_i_("269:8dcd96b9"),this.active=!0,this.$el.show(),_r_()},deactivate:function(){_i_("269:6a01f4d7"),this.active=!1,this.$el.hide(),_r_()},loadData:function(){_i_("269:1d304745");var e={checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date};return _r_(B.require("fragment").call("mybooking.open_bookings_full",e))},handleData:function(e){if(_i_("269:8ebc5af1"),!e)return _r_();var t,i;try{t=B.env.profile_menu.b_secure_hostname,i=B.env.b_query_params_with_lang}catch(e){}if(!t||!i)return _r_();var n=t+"/myreservations"+i;return this.global_num_bookings=e.info&&e.info.num_bookings||0,_r_({num_bookings:this.global_num_bookings,my_reservations_url:n||""})},handleError:function(){},render:function(e){if(_i_("269:098443a9"),!e)return _r_();var t,i;if(!e.num_bookings)return _r_();i={num_bookings:e.num_bookings,my_reservations_url:e.my_reservations_url},t=B.jstmpl("pob_message_bui_template").render(i),this.$el.html(t),this.active||this.deactivate(),this.setupGATracking(),_r_()},setupGATracking:function(){_i_("269:e05f957d"),_.pageviewIsTracked().then(function(){_i_("269:24643069"),_.trackEvent("POB","HP RT","Banner"),_r_()}),_r_()}}),_r_()}),B.require(["ga-tracker","et","jquery"],function(t,e,s){if(_i_("269:14a493de"),!t||!e||!s)return _r_();var i={},n=s("[data-ga-track-pob]").map(function(e,t){_i_("269:37815ba2");var i=s(t).data("ga-track-pob"),n=i.split("|"),r=n[0],_=n[1]||"Action",o=n[2]||"Label",a=parseInt(n[3],10)||1;return _r_({hash:i,category:r,action:_,label:o,value:a})}).get().reduce(function(e,t){if(_i_("269:66f9e756"),i[t.hash])return _r_(e);return i[t.hash]=1,e.push(t),_r_(e)},[]);t.pageviewIsTracked().then(function(){_i_("269:67955a68"),n.map(function(e){_i_("269:e2be2af9"),t.trackEvent(e.category,e.action,e.label,e.value),_r_()}),_r_()}),_r_()}),B.define("component/fragment-group",function(e,t,i){_i_("269:0a9f358f");var n=e("component/fragment"),l=e("fragment"),c=e("promise"),d=e("jquery"),h=B.debug("fragment"),u={};i.exports=n.extend({fragmentGroupByKey:void 0,fragmentGroupToKey:void 0,fragmentLoadFragment:function(){if(_i_("269:b626ff0c"),!this.fragmentGroupByKey)throw new Error("fragmentGroupByKey is not defined.");this.fragmentGroupToKey||(this.fragmentGroupToKey=this.fragmentGroupByKey),this.$el.data("fragment-did-load",!0),n.prototype.fragmentLoadFragment.call(this),_r_()},fragmentRequest:function(e,t){_i_("269:c2112e46");var n=this.$el.attr("data-fragment-group"),r=t[this.fragmentGroupByKey];if(n){h.info("fragment-group:fragmentRequest",n,r),u[n]||(u[n]={});var _=u[n],i=_[r];if(i){if(i.ready){var o=i.data;return delete _[r],h.info("fragment-group:ready",n,r),_r_(c.resolve(o))}return h.info("fragment-group:promise",n,r),_r_(new c(function(e,t){_i_("269:842f678f"),i.resolve=e,i.reject=t,_r_()}))}var a=[r];_[r]={ready:!1};var s=this.fragmentGroupByKey;return d("[data-fragment-group="+CSS_escape(n)+"]").each(function(){if(_i_("269:f04d8205"),!d(this).data("fragment-did-load")){var e=d(this).attr("data-param-"+s);_[e]||(a.push(e),_[e]={ready:!1})}_r_()}),delete t[this.fragmentGroupByKey],t[this.fragmentGroupToKey]=a,h.info("fragment-group:call",n,r),_r_(l.call(e,t).then(function(i){return _i_("269:965543e3"),i=i||{},a.forEach(function(e){if(_i_("269:99f5514c"),e!==r){var t=_[e];t&&(t.resolve?(t.resolve(i[e]),h.info("fragment-group:resolve",n,e),delete _[e]):(t.ready=!0,t.data=i[e]))}_r_()}),delete _[r],h.info("fragment-group:resolve",n,r),_r_(i[r])},function(i){throw _i_("269:9309ac4d"),a.forEach(function(e){_i_("269:a7688ada");var t=_[e];t.reject&&t.reject(i),delete _[e],_r_()}),h.info("fragment-group:reject",n,r),i}))}return _r_(l.call(e,t).then(function(e){if(_i_("269:2537f986"),e)return _r_(r in e?e[r]:e);_r_()}))}}),_r_()}),B.define("component/location/location-block-loader",function(e,t,i){_i_("269:e7f4414f");var n=e("component/fragment"),r=e("et");i.exports=n.extend({fragmentIsCS:!0,fragmentBeforeRequest:function(e){_i_("269:da88d251"),e.args.location_block_configuration=JSON.parse(e.args.location_block_configuration),_r_()},fragmentAfterRender:function(e){return _i_("269:e307de58"),r.stage("YdXfMTXEUDdHcXJEBSRVfBJZVcRO",1),_r_(n.prototype.fragmentAfterRender.call(this,e))}}),_r_()}),booking.jstmpl("next_available_dates_carousel_cst",function(){_i_("269:43b2a2b7");var s,l=["\n",'\n<div class="bui-text ',"bui-text--variant-small_1","bui-text--variant-body_2",' bui-spacer--medium">\n',"/private/deals_sr_av_calendar_availability_urgency/name","/private/sr_av_calendar_best_available_options/name","\n</div>\n",'\n<div role="region" class="',"bui-carousel bui-u-bleed@small c-next-available-dates__carousel-wrap",'" data-bui-component="Carousel" tabindex="0">\n<ul class="bui-carousel__inner c-next-available-dates__carousel" data-bui-ref="carousel-container">\n',"","checkin=","checkout=","origin=hp ",'\n<li class="bui-carousel__item" data-bui-ref="carousel-item">\n<a class="c-next-available-dates__item ',"c-next-available-dates__item__white",'"\nhref="','"\n>\n<div class="bui-group bui-group--medium">\n<div class="bui-group__item c-next-available-dates__item__dates">\n'," – ",'\n</div>\n<div class="bui-group__item">\n<div class="bui-text bui-text--variant-small_1 bui-text--color-neutral">\n',"/private/bh_av_calendar_num_weeks/name","/private/av_calendar_num_nights/name",'\n</div>\n</div>\n<div class="bui-group__item c-next-available-dates__item__price">\n<div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n',"/private/av_calendar_from_price/name","\n</div>\n</div>\n</div>\n</a>\n</li>\n",'\n</ul>\n<div class="bui-carousel__nav c-next-available-dates__carousel__controls" aria-hidden="true">\n<button type="button" class="bui-carousel__button" aria-label="Previous content" data-bui-ref="carousel-prev">\n',"bui-carousel__prev","streamline/arrow_nav_left","32",'\n</button>\n<button type="button" class="bui-carousel__button" aria-label="Next content" data-bui-ref="carousel-next">\n',"bui-carousel__next","streamline/arrow_nav_right","\n</button>\n</div>\n</div>\n"],c=["data","b_is_landing","b_partner_vertical","b_has_upcoming_booking","fe_item_url","fe_hp_url_no_dates","fe_white_bg"];return _r_(function(e){_i_("269:bbb25ca0");var t="",i=this.fn;if(t+=l[0],i.MJ(i.MB(c[0]))&&i.MJ(i.array_length(i.MC(c[0]).dates))){t+=l[0],i.MJ(i.MG((i.MC(c[0])||{}).hide_title))||(t+=l[1],i.MJ(i.MG((i.MC(c[0])||{}).fe_with_small_title))?t+=l[2]:t+=l[3],t+=l[4],i.MK(i.MC(c[1])&&i.MJ(i.MC(c[2])+""=="meta")||i.MC(c[3]))?t+=[l[0],i.ME(l[5],i.MB,i.MN,null),l[0]].join(""):t+=[l[0],i.ME(l[6],i.MB,i.MN,null),l[0]].join(""),t+=l[7]),t+=l[8],t+=l[9],t+=l[10],i.MN("fe_hp_url_no_dates",i.MC(c[0]).hp_url_no_dates),t+=l[0];var n=(i.MC(c[0])||{}).dates||[];e.unshift({option:null});for(var r,_=1,o=n.length;_<=o;_++){e[0].option=r=n[_-1],t+=l[0];var a="";i.MJ(i.MG((r||{}).sr_url_hh))?a+=[(r||{}).sr_url_hh,l[11]].join(""):a+=[i.MC(c[5]),i.F.entities((i.MC(c[0])||{}).b_query_params_delimiter),l[12],i.F.entities((r||{}).checkin),i.F.entities((i.MC(c[0])||{}).b_query_params_delimiter),l[13],i.F.entities((r||{}).checkout),i.F.entities((i.MC(c[0])||{}).b_query_params_delimiter),l[14]].join(""),i.MN(c[4],a),t+=l[15],i.MD(c[6])&&(t+=l[16]),t+=[l[17],i.F.entities(i.MC(c[4])),l[18],i.DATE(i.MG((r||{}).checkin),"short_date_without_year","","",""),l[19],i.DATE(i.MG((r||{}).checkout),"short_date_without_year","","",""),l[20]].join(""),i.MJ(i.MG((r||{}).los_in_weeks))?t+=[l[0],(e.unshift({num_weeks:i.MG((r||{}).los_in_weeks)}),s=i.ME(l[21],i.MB,i.MN,i.MO(r.los_in_weeks,null,l[21])),e.shift(),s),l[0]].join(""):t+=[l[0],(e.unshift({b_num_nights:i.MG((r||{}).los)}),s=i.ME(l[22],i.MB,i.MN,i.MO(r.los,null,l[22])),e.shift(),s),l[0]].join(""),t+=[l[23],(e.unshift({b_from_price:i.MG((r||{}).price_pretty)}),s=i.ME(l[24],i.MB,i.MN,null),e.shift(),s),l[25]].join("")}e.shift(),t+=[l[26],(e.unshift({class:l[27],name:l[28],width:l[29]}),s=i.HELPER("icon",e[0]),e.shift(),s),l[30],(e.unshift({class:l[31],name:l[32],width:l[29]}),s=i.HELPER("icon",e[0]),e.shift(),s),l[33]].join("")}return t+=l[0],_r_(t)})}()),B.define("component/fragment/property-next-available-dates",function(e,t,i){_i_("269:7c0d8204");var n=e("component/fragment-group"),r=e("search-config");i.exports=n.extend({fragmentName:"searchresults.restricted_availability",fragmentTemplate:"next_available_dates_carousel_cst",fragmentIsCS:!0,fragmentGroupByKey:"hid",fragmentGroupToKey:"hids",init:function(){_i_("269:236d78ec"),n.prototype.init.call(this),_r_()},fragmentBeforeRequest:function(e){_i_("269:b26b25ba");var t=e.args;t.checkin||t.checkout||(t.checkin=B.env.b_checkin_date,t.checkout=B.env.b_checkout_date),t.simpleav=1,t.src="srflex",t.search_config||(t.search_config=r.getRawValue()),_r_()},fragmentBeforeRender:function(e){if(_i_("269:92f03d2e"),e.data){e.data.dates=(t=e.data.dates,_i_("269:8236f535"),_r_(t.sort(function(e,t){_i_("269:013b9a21");var i=e.los-t.los;return _r_(0===i?e.checkin>t.checkin?1:-1:i)}))),e.data.fe_with_small_title=!!this.$el.data("fe_with_small_title"),e.data.b_query_params_delimiter=B.env.b_query_params_delimiter}var t;return _r_(!0)},fragmentAfterRender:function(e){_i_("269:df13a878"),B.et.initAttributesTracking(e.$targetEl||this.$el),window.BUI&&window.BUI.initComponents(this.el),_r_()},fragmentRequestError:function(){_i_("269:dd5a21e2"),this.$el.html(""),_r_()}}),_r_()}),B.define("sliding-view-model",function(e,t,i){_i_("269:3d31669b1");var n=e("event-emitter"),r={},_={show:"sliding-view/show",showView:"sliding-view/showView",hide:"sliding-view/hide"};function o(){_i_("269:c041a6631"),this.isShown=0,n.extend(this),_r_()}o.prototype.isPanelShown=function(){return _i_("269:0ec518082"),_r_(this.isShown)},o.prototype.hide=function(){_i_("269:e339093e1"),this.isShown&&this.emit(_.hide),_r_()},o.prototype.show=function(e){if(_i_("269:b5dafb4d1"),this.isShown)return this.emit(_.showView,e),_r_();this.emit(_.show,e),_r_()},i.exports={EVENTS:_,get:function(e){if(_i_("269:757623b01"),"string"!=typeof e||0===e.length)throw new Error("sliding-view-model: invalid .get() argument!");return r.hasOwnProperty(e)||(r[e]=new o,r[e].id=e),_r_(r[e])},hideAll:function(){for(var e in _i_("269:41b079152"),r)r[e].hide();_r_()},isAnyPanelOpen:function(){if(_i_("269:fac5c04d1"),r)for(var e in r)if(r.hasOwnProperty(e))return _r_(r[e].isPanelShown());_r_()}},_r_()}),B.define("component/core/sliding-view-trigger",function(e,t,i){_i_("269:83b716921");var n=e("component"),_=e("sliding-view-model");i.exports=n.extend({init:function(){if(_i_("269:4aad685d1"),this.panel=this.$el.data("paramPanel"),"string"!=typeof this.panel)throw new Error("core/sliding-view: `data-panel` is invalid or undefined!");this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=_.get(this.panel);var n=this.el.dataset;if(n){this.params={};var r=new RegExp("param");Object.keys(n).forEach(function(e){_i_("269:7e858d441");var t=n[e];if(r.test(e)){var i=e.slice(5);i=i.toLowerCase(),this.params[i]=t}"paramIsStatic"===e&&(this.params.target=this.panel+"_static"),_r_()}.bind(this))}this._attachEvents(),_r_()},_attachEvents:function(){_i_("269:3c0e7bba1"),this.$el.on("click",this.onClick.bind(this)),_r_()},onClick:function(e){_i_("269:315376a11"),e.preventDefault(),this.model.show(this.params),_r_()}}),_r_()}),B.define("component/abstract-bui-card-v2",function(e,t,i){_i_("269:77a79d17");var n=e("component"),r=e("component/abstract-bui-card-v2/events"),_=e("events");i.exports=n.extend({events:r,init:function(){_i_("269:b88ffb3a"),this.initEventListeners(),_r_()},initEventListeners:function(){_i_("269:491a81e5"),this.$el.on("click",function(){_i_("269:0affbb13"),_.emit(this.events.CTA_CLICKED,this.$el.find(".abstract-bui-card-v2")),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/abstract-bui-card-v2/events",function(e,t,i){"use strict";_i_("269:6e08fe081"),i.exports={CTA_CLICKED:"CTA_CLICKED"},_r_()}),booking.jstmpl("abstract_bui_card_v2",function(){_i_("269:dc0fce54");var h,u=["\n    ","\n\n","\n","/country/{fe_country_code}/name","\n    \n          \n    \n    ","/private/beach_bs_alttag_countries/name","/beach_team_world_areas/{continent_id}/name","/private/beach_bs_alttag_continent/name","\n\n    ","\n\n    \n    ","\n\n    \n    \n    ","\n        ","‚ ","/private/beach_bs_alttag_cities/name","\n\n\n    ","\n\n            ","\n                ","\n                    "," ","  "," -","\n            ","\n\n        ","streamline/weather_sun","medium","/private/beach_bs_sunny_north/name","/private/beach_bs_sunny_south/name","/private/beach_bs_sunny_equator/name","\n        \n        \n        ","\n\n                ","/private/beach_bs_resultscard_weather/name","\n\n        \n        ","․","\n\n     ","\n     ","/private/beach_bs_alttag_beachname/name","\n         ","\n   ","/private/beach_review_adj_exceptional/name","/private/beach_review_adj_superb/name","/private/beach_review_adj_fabulous/name","/private/beach_review_adj_very_good/name","/private/beach_review_adj_good/name","/private/beach_review_adj_pleasant/name","/private/beach_review_adj_average_okay/name","/private/beach_review_adj_average_passable/name","/private/beach_review_adj_disappointing/name","\n\n\n\n\n\n\n",'\n\t<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n',"\n\n\n","\n\t","","none","auto","num_reviews_sr_page","\n  ","\n\n\n\n","   ","        ","             ","    ","     ","         ","      ","/private/review_adj_superb/name","\n\n\t","\n\t\n\t","\n\t\t","review-score-widget__","review-score-widget__score-only ","review-score-widget__12 ","review-score-widget__14 ","review-score-widget__20 ","review-score-widget__24 "," review-score-widget "," review-score-widget__no-subtext"," review-score-widget__flipped",'id="','"',"\n\n\n\n\n\n\n\n\n","\n\t\t<",'a href="',' target="',"span",' class="review-score-widget__text" aria-label="',"/private/a11y_adjective_rating/name",'">\n\t\t\t',"\n\t\t</","a",">\n\t","span\n        ",' class="review-score-widget__subtext" aria-label="',"/private/acc_sr_review_score_rated_with_score_end/name",'"\n        >\n        ',"\n\n\n\n\n","\n\n\t\n\t\n\t\n\n\t\n\n\t<span\n\t\t",'\n\t\tclass="'," review-score-widget__debug",'"\n\t\t\t',"\n\t\t\t\t","\n\t\t\t",'\n\t\t\t\tdata-et-view="',"\n\t>\n\t\t","\n\t\t\t\n\t\t","\n\n\t\t","\n\n\t\t\n\t\t","\n\n\t\t\t","\n\t\t\t\t\n\t\t\t\t","\n\t<",' class="review-score-badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'">\n\t\t',"\n\t</",">\n","\n\t\t\t\t\t\n\t\t\t\t\t","\n\t\t\t\t\t",'\n\t\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t",'\n\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</span>\n\t\t\t\t","\n\t</span>\n\n\t\n\t\n\n","\n\n\n\n\n\n\n\n\n\n","\n\t\n\t\n","beach-lp-review","inline","text-only","\n\n\n    \n    ","16","streamline/beach","/private/trip_types_beachfront/name","/private/beach_bs_city_overlay_distance_from_beach/name","0",'\n\n\n\n<div\n    data-component="abstract-bui-card-v2"\n    class="c-abstract-bui-card-v2"\n>\n    ','\n\n\n        \n        <a\n            aria-label="A11y description for card"\n             ','\n                href="','"\n             ','\n            class="',"bui-card abstract-bui-card abstract-bui-card-v2 bui-card--media ","\n                 ","\n             ","\n        >\n\n        \n        \n        \n        \n        \n        \n        \n         ",'\n\n\n\n<div\n    class="c-abstract-bui-card-image"\n>\n    ','\n\n       \n\n        \n       <div class="bui-card__image-container">\n           \n           ','\n              <img\n                class="bui-card__image"\n                ','\n                   src="','"\n                ','\n                    data-component="abstract-bui-card-image"\n                    data-highres="','"\n                    data-normalres="','"\n                    ','data-icon-name="','\n                        alt="','\n                        data-alt-text="',"\n              />\n           \n           ",'\n                 <div class="image-fallback"\n                    ','\n                        role="img"\n                        aria-label="',"\n                 >\n                    ","\n                        ",'\n                            <div class="image-fallback__icon">\n                                ',"48","\n                            </div>\n                        ",'\n                            <img\n                                class="bui-card__image"\n                                data-component="abstract-bui-card-image"\n                                data-icon-name="','"\n                             />\n                        ',"\n                 </div>\n           ","\n       </div>\n\n","\n</div>",'\n\n          <div class="bui-card__content">\n                <header class="bui-card__header">\n                  <h3 class="abstract-bui-card__title">',"</h3>\n                  ",'\n                    <div class="abstract-bui-card__endorsements">',"</div>\n                  ","\n                  ",'\n                    <div class="abstract-bui-card__reviews">','\n                    <div class="abstract-bui-card__city-name">','\n                    <div class="abstract-bui-card__facility">',"\n                </header>\n\n            ",'\n                <h4 class="abstract-bui-card__subtitle">',"</h4>\n            ",'\n                <div class="abstract-bui-card__deals">\n\n                </div>\n            ',"\n\n          </div>\n        </a>\n\n\n","\n</div>\n\n"],f=["param_cleanup","param_item","fe_title","fe_image_alt","fe_country_code","param_type","continent_id","fe_bbs_is_country_us","fe_city_name","fe_country_name","fe_endorsement","beach_endorsements_size","fe_subtitle","fe_city_id","b_param_month","fe_avg_city_temp","b_param_year","fe_quiz_month_year_params","b_param_segment","fe_counter","param_layout","fe_beach_name","customReviewAdjective","score","fe_beach_review","b_dev_server","dont_format_score","fe_text","text","fe_subtext","subtext","fe_widget_subtext","sample_size","fe_formatted_sample_size","align","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","fe_widget_text","prepend_text","append_text","fe_score","prefix","fe_score_word_name","suffix","fe_classname","fe_widget_style","style","score_only","fe_widget_layout","layout","fe_widget_align","fe_widget_size","size","fe_badge_style","fe_widget_class","flip","extra_classes","fe_widget_id","widget_id","fe_rating","fe_widget_text_element","text_link_url","text_link_target","fe_rating_adj","fe_widget_subtext_element","subtext_link_url","subtext_link_target","review_score_widget","b_site_type","extra_attributes","track_view","prepend_html","badge_link_url","badge_link_target","fe_formatted_score","fe_is_alt_version","append_html","render","fe_beach_id","fe_property_review","fe_facility","fe_distance_to_beach","data","fe_link","fe_class","fe_data_args","fe_high_res_image_src","fe_lazy_load","fe_agent_is_robot","fe_low_res_image_src","fe_icon_name","fe_tags","fe_review","fe_cityname","fe_deals","fe_review_nr"];return _r_(function(o){_i_("269:770099f2");var e,t,i,n="",a=this.fn;function r(e){return _i_("269:57945246"),e+=u[108],a.MD(f[87])?(e+=[u[81],a.MB(f[87]),u[78]].join(""),a.MD(f[88])&&(e+=[u[82],a.MB(f[88]),u[78]].join(""))):e+=u[83],e+=[u[109],(o.unshift({review_score_number:a.MB(f[89])}),h=a.ME(u[110],a.MB,a.MN,null),o.shift(),h),u[111],a.F.entities(a.MB(f[89])),u[112]].join(""),a.MD(f[87])?e+=u[88]:e+=u[83],e+=u[113],_r_(e)}function _(e){return _i_("269:3518d096"),e+=u[108],a.MD(f[87])?(e+=[u[81],a.MB(f[87]),u[78]].join(""),a.MD(f[88])&&(e+=[u[82],a.MB(f[88]),u[78]].join(""))):e+=u[83],e+=[u[109],(o.unshift({review_score_number:a.MB(f[89])}),h=a.ME(u[110],a.MB,a.MN,null),o.shift(),h),u[111],a.F.entities(a.MB(f[89])),u[112]].join(""),a.MD(f[87])?e+=u[88]:e+=u[83],e+=u[113],_r_(e)}function s(e){return _i_("269:241ef7e0"),e+=u[135],a.MD(f[98])&&(e+=[u[136],a.F.entities(a.MC(f[98])),u[137]].join("")),e+=u[138],e+=u[139],a.MD(f[99])&&(e+=[a.F.entities(a.MC(f[99])),u[18]].join("")),e+=u[137],a.MD(f[100])&&(e+=[u[140],a.MC(f[100]),u[141]].join("")),e+=u[142],o.unshift({fe_agent_is_robot:a.MB(f[103]),fe_high_res_image_src:a.MB(f[101]),fe_icon_name:a.MB(f[105]),fe_image_alt:a.MB(f[3]),fe_lazy_load:a.MB(f[102]),fe_low_res_image_src:a.MB(f[104])}),e=function(e){_i_("269:a1510f40"),e+=[u[2],"",u[49]].join(""),e+=u[143];var t={fe_agent_is_robot:a.MB(f[103]),fe_high_res_image_src:a.MB(f[101]),fe_icon_name:a.MB(f[105]),fe_image_alt:a.MB(f[3]),fe_lazy_load:a.MB(f[102]),fe_low_res_image_src:a.MB(f[104])},i=o;return(o=a.SV([{},{}])).unshift(t),n=e,_i_("269:884f60f3"),n+=u[144],a.MJ(a.MB(f[101]))||a.MJ(a.MB(f[104]))?(n+=u[145],a.MK(a.MB(f[102]))||a.MJ(a.MB(f[103]))?n+=[u[146],a.STATIC_HOSTNAME(a.MB(f[101]),0,0,0,0),u[147]].join(""):(n+=[u[148],a.STATIC_HOSTNAME(a.MB(f[101]),0,0,0,0),u[149],a.STATIC_HOSTNAME(a.MB(f[104]),0,0,0,0),u[150]].join(""),a.MD(f[105])&&(n+=[u[151],a.F.entities(a.MC(f[105])),u[78]].join("")),n+=u[16]),n+=u[16],a.MD(f[3])&&(n+=u[17],a.MD(f[103])?n+=[u[152],a.MC(f[3]),u[150]].join(""):n+=[u[153],a.F.entities(a.MC(f[3])),u[150]].join(""),n+=u[16]),n+=u[154]):(n+=u[155],a.MD(f[3])&&(n+=[u[156],a.MC(f[3]),u[150]].join("")),n+=u[157],a.MD(f[105])&&(n+=u[158],a.MN("fe_icon_name",a.MB(f[105])||"streamline/international"),n+=u[158],a.MK(a.MB(f[102]))||a.MJ(a.MB(f[103]))?n+=[u[159],(o.unshift({color:"#BDBDBD",height:u[160],name:a.MB(f[105]),width:u[160]}),h=a.HELPER("icon",o[0]),o.shift(),h),u[161]].join(""):n+=[u[162],a.F.entities(a.MC(f[105])),u[163]].join(""),n+=u[17]),n+=u[164]),n+=u[165],e=_r_(n),o=a.SV(i),e+=u[166],e+=u[51],a.MN("fe_high_res_image_src",""),e+=u[51],a.MN("fe_low_res_image_src",""),e+=u[51],a.MN("fe_image_alt",""),e+=u[51],a.MN("fe_lazy_load",""),e+=u[51],a.MN("fe_icon_name",""),e+=u[51],a.MN("fe_agent_is_robot",""),e+=u[51],e+=["",u[2]].join(""),_r_(e);var n}(e),o.shift(),e+=[u[167],a.MC(f[2]),u[168]].join(""),a.MD(f[106])&&(e+=[u[169],a.F.html(a.MC(f[106])),u[170]].join("")),e+=u[171],a.MD(f[107])&&(e+=[u[172],a.MC(f[107]),u[170]].join("")),e+=u[171],a.MD(f[108])&&(e+=[u[173],a.MC(f[108]),u[170]].join("")),e+=u[171],a.MD(f[95])&&(e+=[u[174],a.MC(f[95]),u[170]].join("")),e+=u[175],a.MD(f[12])&&(e+=[u[176],a.MC(f[12]),u[177]].join("")),e+=u[15],a.MD(f[109])&&(e+=u[178]),e+=u[179],_r_(e)}function l(e){_i_("269:c4090f36"),e+=u[47],a.MJ(a.MC(f[25]))&&a.MJ(/,/.test(a.MB(f[23])))&&(e+=u[48]),e+=u[49],a.MJ(a.MB(f[26]))||a.MJ(/,/.test(a.MB(f[23])))?(e+=u[50],a.MN("fe_formatted_score",a.MB(f[23]))):(e+=u[50],a.MN("fe_formatted_score",a.format_review_score_plain(a.MI(0)+a.MI(a.MB(f[23]))))),e+=u[2],e+=u[1];var t="";t+=u[51],a.MJ(a.MB(f[28]))?t+=a.MB(f[28]):t+=u[52],t+=u[51],a.MN(f[27],t),e+=u[1];t="";t+=u[51],a.MJ(a.MB(f[30]))?(t+=u[51],a.MJ(a.MB(f[30])+""!="none")&&a.MJ(a.MB(f[27])+""=="none")?t+=u[53]:t+=[u[51],a.MB(f[30]),u[51]].join(""),t+=u[51]):t+=u[52],t+=u[51],a.MN(f[29],t),e+=u[49];var i;t="";t+=u[51],(a.MJ(a.MB(f[30]))&&a.MJ(a.MB(f[30])+""=="auto")||a.MK(a.MB(f[30])))&&a.MJ(a.MB(f[32]))?(t+=u[51],a.MN("fe_formatted_sample_size",a.format_number(a.MB(f[32]))),t+=[u[51],(o.unshift({num_reviews:a.MB(f[33])}),h=a.VP(u[54],a.MO(a.MI(a.MC(f[32]))+a.MI(0),null,u[54])),o.shift(),h),u[51]].join("")):a.MJ(a.MB(f[30])+""!="none")&&a.MJ(a.MB(f[30])+""!="auto")&&(t+=[u[51],a.MB(f[30]),u[51]].join("")),t+=u[51],a.MN(f[31],t),e+=u[49],a.MN("fe_is_alt_version",a.MJ(a.MB(f[34])+""=="right")),e+=u[49],o.unshift({low_score_adjectives:a.MB(f[45]),score:a.MI(0)+a.MI(a.MB(f[23]))}),i=e,_i_("269:11ffa66a"),i+=u[2],a.MN("fe_review_score",a.MI(a.MB(f[23]))+a.MI(0)),i+=u[49],a.MN("fe_review_score_word_tag",a.MB(f[35])||"p"),i+=u[49],a.MN("fe_review_score_word_class_list","review-score-word"),i+=u[49],a.MJ(7<=a.MB(f[37]))&&(i+=u[55],a.MN("fe_review_score_word_class_list",a.MB(f[36])+" review-score-word--highlighted"),i+=u[2]),i+=u[1],a.MD(f[38])&&(i+=u[55],a.MN("fe_review_score_word_class_list",a.MB(f[36])+" "+a.MB(f[38])),i+=u[2]),i+=u[56],a.MD(f[45])?(i+=u[55],a.MJ(0<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<3)&&(i+=u[57],a.MN("fe_review_score_word_copy",a.MB(f[39])),i+=u[58]),i+=u[55],a.MJ(3<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<4)&&(i+=u[57],a.MN("fe_review_score_word_copy",a.MB(f[40])),i+=u[59]),i+=u[55],a.MJ(4<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<5)&&(i+=u[57],a.MN("fe_review_score_word_copy",a.MB(f[41])),i+=u[60]),i+=u[55],a.MJ(5<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<5.6)&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[42])),i+=u[18]),i+=u[55],a.MJ(5.6<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<6)&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[43])),i+=u[61]),i+=u[55],a.MJ(6<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<7)&&(i+=u[57],a.MN("fe_review_score_word_copy",a.MB(f[44])),i+=u[62])):(i+=u[55],a.MJ(0<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<7)&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[46])),i+=u[18])),i+=u[2],i+=u[2],a.MJ(7<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<8)&&(i+=u[57],a.MN("fe_review_score_word_copy",a.MB(f[47])),i+=u[63]),i+=u[2],a.MJ(8<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<8.6)&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[48])),i+=u[18]),i+=u[2],a.MJ(8.6<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<9)&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[49])),i+=u[19]),i+=u[1],a.MJ(9<=a.MB(f[37]))&&a.MJ(a.MB(f[37])<9.5)&&(i+=u[18],a.MN(f[50],a.ME(u[64],a.MB,a.MN,null)),i+=u[18]),i+=u[49],a.MJ(9.5<=a.MB(f[37]))&&(i+=u[18],a.MN("fe_review_score_word_copy",a.MB(f[51])),i+=u[18]),i+=u[49],i+=u[2],e=_r_(i),o.shift(),e+=u[1];t="";t+=u[51],a.MJ(a.MB(f[28]))&&a.MJ(a.MB(f[28])+""=="auto")||(a.MK(a.MB(f[28]))||a.MJ(a.MB(f[28])+""=="none"))&&a.MJ(a.MB(f[31])+""!="")?t+=[u[51],a.MB(f[50]),u[51]].join(""):a.MJ(a.MB(f[28]))&&a.MJ(a.MB(f[28])+""!="none")&&(t+=[u[51],a.MB(f[28]),u[51]].join("")),t+=u[51],a.MN(f[52],t),e+=u[1],a.MD(f[52])&&(e+=u[50],a.MN("fe_widget_text",a.MB(f[53])+""+a.MB(f[52])+a.MB(f[54])),e+=u[2]),e+=u[49],a.MN("score_only",a.MJ(a.MB(f[52])+""=="")&&a.MJ(a.MB(f[31])+""=="")),e+=u[47],o.unshift({prefix:u[68],score:a.MI(0)+a.MI(a.MB(f[23]))}),e=function(e){_i_("269:af4ec8ea"),e+=u[56],a.MN("fe_score",a.MI(a.MB(f[23]))+a.MI(0)),e+=u[49],a.MN("fe_score_word_name",""),e+=u[2],a.MJ(0<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<3)&&(e+=u[50],a.MN("fe_score_word_name","very_poor"),e+=u[2]);e+=u[1],a.MJ(3<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<4)&&(e+=u[50],a.MN("fe_score_word_name","poor"),e+=u[2]);e+=u[1],a.MJ(4<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<5)&&(e+=u[50],a.MN("fe_score_word_name","disappointing"),e+=u[2]);e+=u[1],a.MJ(5<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<5.6)&&(e+=u[50],a.MN("fe_score_word_name","average_passable"),e+=u[2]);e+=u[1],a.MJ(5.6<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<6)&&(e+=u[50],a.MN("fe_score_word_name","average_okay"),e+=u[2]);e+=u[1],a.MJ(6<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<7)&&(e+=u[50],a.MN("fe_score_word_name","pleasant"),e+=u[2]);e+=u[1],a.MJ(7<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<8)&&(e+=u[50],a.MN("fe_score_word_name","good"),e+=u[2]);e+=u[1],a.MJ(8<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<8.6)&&(e+=u[50],a.MN("fe_score_word_name","very_good"),e+=u[2]);e+=u[1],a.MJ(8.6<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<9)&&(e+=u[50],a.MN("fe_score_word_name","fabulous"),e+=u[2]);e+=u[1],a.MJ(9<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<9.5)&&(e+=u[50],a.MN("fe_score_word_name","superb"),e+=u[2]);e+=u[1],a.MJ(9.5<=a.MB(f[55]))&&(e+=u[50],a.MN("fe_score_word_name","exceptional"),e+=u[2]);e+=u[49],a.MN("fe_classname",""),e+=u[2],a.MJ(0<=a.MB(f[55]))&&a.MJ(a.MB(f[55])<=10)&&(e+=u[65],a.MN("fe_classname",a.MB(f[56])+""+a.MB(f[57])+a.MB(f[58])),e+=u[66],a.MJ(a.MB(f[55])<7)&&(e+=u[67],a.MN("fe_classname",a.MB(f[59])+" "+a.MB(f[56])+"low"+a.MB(f[58])),e+=u[50]),e+=u[1]);return e+=u[2],_r_(e)}(e),o.shift(),e+=u[2],a.MN("fe_widget_class",a.MB(f[59])),e+=u[1],a.MJ(a.MB(f[23])<1)&&(e+=u[50],a.MN("fe_widget_class","review-score-widget__empty"),e+=u[2]),e+=u[56];t="";a.MD(f[61])&&(t+=[u[68],a.F.entities(a.MB(f[61])),u[18]].join("")),a.MD(f[62])&&(t+=u[69]),a.MN(f[60],t),e+=u[56];t="";a.MJ(a.MB(f[64]))&&a.MK(a.MB(f[62]))&&(t+=[u[68],a.F.entities(a.MB(f[64])),u[18]].join("")),a.MN(f[63],t),e+=u[56];t="";a.MJ(a.MB(f[34])+""=="right")&&a.MK(a.MB(f[62]))&&(t+=[u[68],a.F.entities(a.MB(f[34])),u[18]].join("")),a.MN(f[65],t),e+=u[56];t="";a.MJ(a.MB(f[67])+""=="smaller")?t+=u[70]:a.MJ(a.MB(f[67])+""=="small")?t+=u[71]:a.MJ(a.MB(f[67])+""=="large")?t+=u[72]:a.MJ(a.MB(f[67])+""=="larger")&&(t+=u[73]),a.MN(f[66],t),e+=u[49];t="";(a.MJ(a.MB(f[61])+""=="outlined")||a.MJ(a.MB(f[61])+""=="text-only"))&&(t+=[a.F.entities(a.MB(f[61])),u[18]].join("")),a.MN(f[68],t),e+=u[49];t="";t+=[u[74],a.F.entities(a.MB(f[69])),u[18],a.F.entities(a.MB(f[60])),u[18],a.F.entities(a.MB(f[63])),u[18],a.F.entities(a.MB(f[65])),u[18],a.F.entities(a.MB(f[66])),u[18]].join(""),a.MK(a.MB(f[31]))&&(t+=u[75]),t+=u[18],a.MD(f[70])&&(t+=u[76]),t+=u[18],a.MD(f[71])&&(t+=[u[18],a.F.entities(a.MB(f[71]))].join("")),t+=u[18],a.MN(f[69],t),e+=u[49];var n;t="";a.MD(f[73])&&(t+=[u[77],a.MB(f[73]),u[78]].join("")),a.MN(f[72],t),e+=u[79],n=e,_i_("269:c446f726"),a.MN("fe_rating",a.MI(a.MB(f[23]))+a.MI(0)),n+=u[49],a.MN("fe_rating_adj",""),n+=u[2],a.MJ(0<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<3)&&(n+=u[50],a.MN("fe_rating_adj","1"),n+=u[2]),n+=u[1],a.MJ(3<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<4)&&(n+=u[50],a.MN("fe_rating_adj","2"),n+=u[2]),n+=u[1],a.MJ(4<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<5)&&(n+=u[50],a.MN("fe_rating_adj","3"),n+=u[2]),n+=u[1],a.MJ(5<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<5.6)&&(n+=u[50],a.MN("fe_rating_adj","4"),n+=u[2]),n+=u[1],a.MJ(5.6<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<6)&&(n+=u[50],a.MN("fe_rating_adj","5"),n+=u[2]),n+=u[1],a.MJ(6<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<7)&&(n+=u[50],a.MN("fe_rating_adj","6"),n+=u[2]),n+=u[1],a.MJ(7<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<8)&&(n+=u[50],a.MN("fe_rating_adj","7"),n+=u[2]),n+=u[1],a.MJ(8<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<8.6)&&(n+=u[50],a.MN("fe_rating_adj","8"),n+=u[2]),n+=u[1],a.MJ(8.6<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<9)&&(n+=u[50],a.MN("fe_rating_adj","9"),n+=u[2]),n+=u[1],a.MJ(9<=a.MB(f[74]))&&a.MJ(a.MB(f[74])<9.5)&&(n+=u[50],a.MN("fe_rating_adj","10"),n+=u[2]),n+=u[1],a.MJ(9.5<=a.MB(f[74]))&&(n+=u[50],a.MN("fe_rating_adj","11"),n+=u[2]),e=_r_(n),e+=u[1],e+=u[1];t="";t+=u[50],a.MD(f[52])&&(t+=u[80],a.MD(f[76])?(t+=[u[81],a.MB(f[76]),u[78]].join(""),a.MD(f[77])&&(t+=[u[82],a.MB(f[77]),u[78]].join(""))):t+=u[83],t+=[u[84],(o.unshift({rating_adjective:a.MB(f[78])}),h=a.ME(u[85],a.MB,a.MN,null),o.shift(),h),u[86],a.MB(f[52]),u[87]].join(""),a.MD(f[76])?t+=u[88]:t+=u[83],t+=u[89]),t+=u[2],a.MN(f[75],t),e+=u[1];t="";t+=u[50],a.MD(f[31])&&(t+=u[80],a.MD(f[80])?(t+=[u[81],a.MB(f[80]),u[78]].join(""),a.MD(f[81])&&(t+=[u[82],a.MB(f[81]),u[78]].join(""))):t+=u[90],t+=[u[91],(o.unshift({num_reviews:a.MB(f[33])}),h=a.ME(u[92],a.MB,a.MN,null),o.shift(),h),u[93],a.F.entities(a.MB(f[31])),u[87]].join(""),a.MD(f[80])?t+=u[88]:t+=u[83],t+=u[89]),t+=u[2],a.MN(f[79],t),e+=u[94];t="";return t+=[u[95],a.MB(f[72]),u[96]].join(""),t+=a.F.entities(a.MB(f[69])),a.MJ(a.MC(f[25]))&&a.MJ(a.MC(f[83])+""=="www")&&a.MJ(!1)&&(t+=u[97]),t+=u[98],a.MD(f[84])&&(t+=[u[99],a.MB(f[84]),u[100]].join("")),t+=u[100],a.MD(f[85])&&(t+=[u[101],a.MC(f[85]),u[98]].join("")),t+=u[102],a.MJ(a.MB(f[23])<1)?t+=u[103]:(t+=u[104],a.MD(f[86])&&(t+=[u[100],a.MB(f[86]),u[67]].join("")),t+=u[105],a.MD(f[90])?(t+=u[106],a.MJ(a.MB(f[64])+""=="inline")?t=_(t+=[u[107],a.MB(f[79]),u[99],a.MB(f[75]),u[99]].join("")):(t+=u[99],a.MJ(a.MB(f[61])+""=="text-only")?(t=r(t+=[u[114],a.MB(f[75]),u[115]].join("")),t+=[u[115],a.MB(f[79]),u[99]].join("")):(t+=u[114],(a.MJ(a.MB(f[52]))||a.MJ(a.MB(f[31])))&&(t+=[u[116],a.MB(f[75]),u[117],a.MB(f[79]),u[118]].join("")),t=r(t+=u[115]),t+=u[99])),t+=u[100]):(t+=u[106],a.MJ(a.MB(f[61])+""=="text-only")||a.MJ(a.MB(f[64])+""=="inline")?(t=_(t+=u[107]),t+=[u[99],a.MB(f[75]),u[99],a.MB(f[79]),u[100]].join("")):(t=_(t+=u[107]),t+=u[99],(a.MJ(a.MB(f[52]))||a.MJ(a.MB(f[31])))&&(t+=[u[119],a.MB(f[75]),u[120],a.MB(f[79]),u[121]].join("")),t+=u[100])),t+=u[104],t+=u[104],a.MD(f[91])&&(t+=[u[100],a.MB(f[91]),u[67]].join("")),t+=u[104]),t+=u[122],a.MN(f[82],t),e+=u[123],a.MN(f[28],void 0),e+=u[2],a.MN(f[30],void 0),e+=u[2],a.MN(f[23],void 0),e+=u[2],a.MN(f[32],void 0),e+=u[2],a.MN(f[92],void 0),e+=u[2],a.MN(f[71],void 0),e+=u[2],a.MN(f[84],void 0),e+=u[2],a.MN(f[67],void 0),e+=u[2],a.MN(f[61],void 0),e+=u[2],a.MN(f[64],void 0),e+=u[2],a.MN(f[34],void 0),e+=u[2],a.MN(f[45],void 0),e+=u[2],a.MN(f[73],void 0),e+=u[94],a.MJ(a.MB(f[92])+""=="no")?e+=u[124]:e+=[u[66],a.MB(f[82]),u[2]].join(""),e+=u[2],_r_(e)}n+=u[0],o.unshift({param_cleanup:u[133],param_item:a.MB(f[97]),param_type:a.MG((a.MC(f[97])||{}).type)}),e=n,_i_("269:72c45de2"),e+=u[1],a.MJ(a.MB(f[5])+""=="COUNTRY")?(e+=u[0],o.unshift({param_item:a.MB(f[1])}),i=e,_i_("269:39568acc"),i+=["",u[1]].join(""),a.MD(f[0])?(i+=u[0],a.MN("fe_class",""),i+=u[0],a.MN("fe_title",""),i+=u[0],a.MN("fe_subtitle",""),i+=u[0],a.MN("fe_high_res_image_src",""),i+=u[0],a.MN("fe_low_res_image_src",""),i+=u[0],a.MN("fe_image_alt",""),i+=u[0],a.MN("fe_icon_name",""),i+=u[0],a.MN("fe_link","")):(i+=u[0],a.MN("fe_class","beach-country-card"),i+=u[0],a.MN("fe_country_code",a.MG((a.MC(f[1])||{}).code)),i+=u[0],a.MN(f[2],a.ME(u[3],a.MB,a.MN,null)),i+=u[4],a.MN("fe_high_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["1920x1080"])),i+=u[0],a.MN("fe_low_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["600x400"])),i+=u[0],a.MN(f[3],(o.unshift({in_country:a.MB(f[4])}),h=a.ME(u[5],a.MB,a.MN,null),o.shift(),h)),i+=u[0],a.MN("fe_image_url",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["600x400"])),i+=u[0],a.MN("fe_icon_name","streamline/international"),i+=u[0],a.MN("fe_link",a.MG((a.MC(f[1])||{}).uri)),i+=u[0],a.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Popular countries - Card'")),i+=u[2],i+=[u[2],"",u[2]].join(""),e=_r_(i),o.shift(),e+=u[2]):a.MJ(a.MB(f[5])+""=="CONTINENT")?(e+=u[0],o.unshift({param_item:a.MB(f[1])}),t=e,_i_("269:3c905ff0"),t+=["",u[1]].join(""),a.MD(f[0])?(t+=u[0],a.MN("fe_class",""),t+=u[0],a.MN("fe_title",""),t+=u[0],a.MN("fe_high_res_image_src",""),t+=u[0],a.MN("fe_low_res_image_src",""),t+=u[0],a.MN("fe_image_alt",""),t+=u[0],a.MN("fe_icon_name",""),t+=u[0],a.MN("fe_link",""),t+=u[0],a.MN("fe_class","")):(t+=u[0],a.MN("fe_class","beach-continent-card"),t+=u[0],a.MN("continent_id",a.MG((a.MC(f[1])||{}).id)),t+=u[0],a.MN(f[2],a.ME(u[6],a.MB,a.MN,null)),t+=u[0],a.MN("fe_high_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["1920x1080"])),t+=u[0],a.MN("fe_low_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["600x400"])),t+=u[0],a.MN(f[3],(o.unshift({in_continent:a.MB(f[6])}),h=a.ME(u[7],a.MB,a.MN,null),o.shift(),h)),t+=u[0],a.MN("fe_icon_name","streamline/international"),t+=u[0],a.MN("fe_link",a.MG((a.MC(f[1])||{}).uri)),t+=u[0],a.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Continents - Card'")),t+=u[2],t+=[u[2],"",u[2]].join(""),e=_r_(t),o.shift(),e+=u[2]):a.MJ(a.MB(f[5])+""=="CITY")||a.MJ(a.MB(f[5])+""=="CITY_RESULTS")?(e+=u[0],o.unshift({param_item:a.MB(f[1]),param_type:a.MB(f[5])}),e=function(e){if(_i_("269:00eb77e0"),e+=["",u[1]].join(""),a.MD(f[0]))e+=u[0],a.MN("fe_class",""),e+=u[0],a.MN("fe_link",""),e+=u[0],a.MN("fe_city_id",""),e+=u[0],a.MN("fe_title",""),e+=u[0],a.MN("fe_endorsement",""),e+=u[0],a.MN("fe_subtitle",""),e+=u[8],a.MN("fe_high_res_image_src",""),e+=u[0],a.MN("fe_low_res_image_src",""),e+=u[0],a.MN("fe_image_alt",""),e+=u[0],a.MN("fe_icon_name",""),e+=u[9],a.MN("fe_data_args",""),e+=u[2];else{if(e+=u[0],a.MN("fe_city_name",a.MG((a.MC(f[1])||{}).name)),e+=u[0],a.MN("fe_country_name",a.MG((a.MC(f[1])||{}).country_name)),e+=u[10],a.MJ(a.MB(f[7]))&&a.MJ(a.exists(a.MC(f[1]).region_name))&&(e+=u[11],a.MN("fe_country_name",a.MG((a.MC(f[1])||{}).region_name)),e+=u[0]),e+=u[8],a.MN("fe_country_code",a.MG((a.MC(f[1])||{}).countryIso2)),e+=u[0],a.MN("fe_city_id",a.MG((a.MC(f[1])||{}).ufi)),e+=u[0],a.MN(f[2],[a.F.html(a.MC(f[8])),u[12],a.F.html(a.MC(f[9]))].join("")),e+=u[0],a.MN("fe_high_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["1920x1080"])),e+=u[0],a.MN("fe_low_res_image_src",a.MG((((a.MC(f[1])||{}).photo||{}).by_size||{})["600x400"])),e+=u[0],a.MN(f[3],(o.unshift({city_name:a.MB(f[8])}),h=a.ME(u[13],a.MB,a.MN,null),o.shift(),h)),e+=u[0],a.MN("fe_icon_name","streamline/city"),e+=u[14],a.MN("beach_endorsements_size",a.array_length(a.MC(f[1]).endorsements)),e+=u[0],a.MJ(a.MC(f[1]).endorsements)&&a.MJ(a.MB(f[11]))){e+=u[11];var t=(a.MC(f[1])||{}).endorsements||[];o.unshift({fe_endorsement_item:null});for(var i,n=1,r=t.length;n<=r;n++){o[0].fe_endorsement_item=i=t[n-1],e+=u[15];var _="";_+=u[16],a.MJ(a.MG((i||{}).name))&&(_+=[u[17],a.MC(f[10]),u[18],(i||{}).name,u[19]].join(""),a.MK(a.MJ(n==t.length))&&(_+=u[20]),_+=u[16]),_+=u[21],a.MN(f[10],_),e+=u[11]}o.shift(),e+=u[0]}if(e+=u[9],a.MJ(a.MB(f[5])+""=="CITY")){e+=u[11],a.MN("fe_class","beach-city-card"),e+=u[22];var _="";_+=u[21],a.MJ(a.MC(f[1]).hemisphere+""=="NORTH")?_+=[u[16],(o.unshift({color:"#6B6B6B",name:u[23],size:u[24]}),h=a.HELPER("icon",o[0]),o.shift(),h),u[18],a.ME(u[25],a.MB,a.MN,null),u[21]].join(""):a.MJ(a.MC(f[1]).hemisphere+""=="SOUTH")?_+=[u[16],(o.unshift({color:"#6B6B6B",name:u[23],size:u[24]}),h=a.HELPER("icon",o[0]),o.shift(),h),u[18],a.ME(u[26],a.MB,a.MN,null),u[21]].join(""):a.MJ(a.MC(f[1]).hemisphere+""=="EQUATOR")&&(_+=[u[16],a.ME(u[27],a.MB,a.MN,null),u[21]].join("")),_+=u[11],a.MN(f[12],_),e+=u[28],a.MN("fe_data_args","data-city_id='"+a.MB(f[13])+"' data-photo_sizes='600x400' data-fragment_name='beach.landing.city_overlay' data-cst_name='city_overlay' data-ga-track='click|Beach Discovery|Landing page|Popular cities - Card'"),e+=u[0]}else a.MJ(a.MB(f[5])+""=="CITY_RESULTS")&&(e+=u[11],a.MN("fe_class","beach-city-result-card"),e+=u[22],a.MN("fe_avg_city_temp",a.MC(f[1]).monthlyMaxTemperature[a.MC(f[14])]),e+=u[11],a.MD(f[15])&&(e+=u[21],a.MN(f[12],[u[29],(o.unshift({in_month:a.MC(f[14]),temperature:a.MB(f[15])}),h=a.ME(u[30],a.MB,a.MN,null),o.shift(),h),u[21]].join("")),e+=u[11]),e+=u[22],a.MN("fe_quiz_month_year_params",""),e+=u[11],a.MJ(a.track_experiment("bOCcAATIVLT"))&&(e+=u[21],a.MN("fe_quiz_month_year_params","data-month='"+a.MC(f[14])+"' data-year='"+a.MC(f[16])+"' "),e+=u[11]),e+=u[31],a.MN("fe_data_args",a.MB(f[17])+"data-city_id='"+a.MB(f[13])+"' data-photo_sizes='600x400' data-segment_id='"+a.MC(f[18])+"' data-fragment_name='beach.landing.city_overlay' data-cst_name='city_overlay' data-ga-track='click|Beach Discovery|Results|Popular cities - Card'"),e+=u[0]);e+=u[2]}return e+=[u[1],"",u[2]].join(""),_r_(e)}(e),o.shift(),e+=u[2]):a.MJ(a.MB(f[5])+""=="BEACHES")?(e+=u[0],o.unshift({param_item:a.MB(f[1])}),e=function(e){if(_i_("269:cf17b135"),e+=["",u[1]].join(""),a.MD(f[0]))e+=u[0],a.MN("fe_class",""),e+=u[0],a.MN("fe_beach_id",""),e+=u[0],a.MN("fe_dest_id",""),e+=u[0],a.MN("fe_link",""),e+=u[8],a.MN("fe_counter",0),e+=u[0],a.MN("fe_title",""),e+=u[0],a.MN("fe_subtitle",""),e+=u[8],a.MN("fe_endorsements",""),e+=u[8],a.MN("fe_high_res_image_src",""),e+=u[0],a.MN("fe_low_res_image_src",""),e+=u[0],a.MN("fe_image_alt",""),e+=u[0],a.MN("fe_photos",""),e+=u[0],a.MN("fe_icon_name",""),e+=u[8],a.MN("fe_beach_review",""),e+=u[9],a.MN("fe_data_args",""),e+=u[2];else{e+=u[0],a.MN("fe_class","beach-beach-card"),e+=u[0],a.MN("fe_beach_id",a.MG((a.MC(f[1])||{}).geoObjectId)),e+=u[0],a.MN("fe_beach_name",a.MG((a.MC(f[1])||{}).name)),e+=u[0],a.MN("fe_dest_id",a.MG((a.MC(f[1])||{}).ufi)),e+=u[8];var t="";a.MJ(a.MB(f[20])+""!="GALLERY")&&(t+=[a.F.entities(a.MC(f[19])),u[32]].join("")),t+=[u[18],a.MC(f[21])].join(""),a.MN(f[2],t),e+=u[0],a.MN("fe_country_code",a.MG((a.MC(f[1])||{}).iso2)),e+=u[0],a.MN("fe_country_name",a.MG((a.MC(f[1])||{}).country_name)),e+=u[0],a.MN(f[12],[(a.MC(f[1])||{}).city_name,u[12],a.F.html(a.MC(f[9]))].join("")),e+=u[14],a.MN("fe_endorsements",a.MG(((a.MC(f[1])||{}).beachKnownFor||{}).ids)),e+=u[33],a.MN("fe_high_res_image_src",a.MG(((((a.MC(f[1])||{}).photo||[])[0]||{}).by_size||{})["1920x1080"])),e+=u[34],a.MN("fe_low_res_image_src",a.MG(((((a.MC(f[1])||{}).photo||[])[0]||{}).by_size||{})["600x400"])),e+=u[34],a.MN(f[3],(o.unshift({beach_name:a.MB(f[21])}),h=a.ME(u[35],a.MB,a.MN,null),o.shift(),h)),e+=u[34],a.MN("fe_photos",a.MG((a.MC(f[1])||{}).photo)),e+=u[34],a.MN("fe_icon_name","streamline/beach"),e+=u[8];var t="";t+=u[36],o.unshift({score:a.MG((a.MC(f[1])||{}).reviewScore)}),i=t,_i_("269:40b53c0f"),a.MJ(9.5<=a.MB(f[23]))?i+=[u[37],a.ME(u[38],a.MB,a.MN,null),u[2]].join(""):a.MJ(9<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<9.5)?i+=[u[37],a.ME(u[39],a.MB,a.MN,null),u[2]].join(""):a.MJ(8.6<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<9)?i+=[u[37],a.ME(u[40],a.MB,a.MN,null),u[2]].join(""):a.MJ(8<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<8.6)?i+=[u[0],a.ME(u[41],a.MB,a.MN,null),u[2]].join(""):a.MJ(7<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<8)?i+=[u[0],a.ME(u[42],a.MB,a.MN,null),u[2]].join(""):a.MJ(6<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<7)?i+=[u[0],a.ME(u[43],a.MB,a.MN,null),u[2]].join(""):a.MJ(5.6<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<6)?i+=[u[0],a.ME(u[44],a.MB,a.MN,null),u[2]].join(""):a.MJ(5<=a.MB(f[23]))&&a.MJ(a.MB(f[23])<5.6)?i+=[u[0],a.ME(u[45],a.MB,a.MN,null),u[2]].join(""):a.MJ(a.MB(f[23])<5)&&(i+=[u[0],a.ME(u[46],a.MB,a.MN,null),u[2]].join("")),i+=u[2],t=_r_(i),o.shift(),t+=u[0],a.MN(f[22],t),e+=u[0];var t="";t+=u[11],o.unshift({extra_classes:u[125],layout:u[126],sample_size:a.MG((a.MC(f[1])||{}).numReviews),score:a.MG((a.MC(f[1])||{}).reviewScore),style:u[127],text:a.MB(f[22])}),t=l(t),o.shift(),t+=u[0],a.MN(f[24],t),e+=u[128],a.MN("fe_data_args","data-beach_id='"+a.MB(f[93])+"' data-photo_sizes='600x400' data-fragment_name='beach.landing.beach_overlay' data-cst_name='beach_overlay' data-ga-track='click|Beach Discovery|Landing page|Best beaches - Card' "),e+=u[2]}var i;return e+=[u[1],"",u[2]].join(""),_r_(e)}(e),o.shift(),e+=u[2]):a.MJ(a.MB(f[5])+""=="PROPERTY")&&(e+=u[0],o.unshift({param_item:a.MB(f[1])}),e=function(e){if(_i_("269:81c397b6"),e+=["",u[1]].join(""),a.MD(f[0]))e+=u[0],a.MN("fe_class",""),e+=u[0],a.MN("fe_title",""),e+=u[0],a.MN("fe_subtitle",""),e+=u[0],a.MN("fe_high_res_image_src",""),e+=u[0],a.MN("fe_low_res_image_src",""),e+=u[0],a.MN("fe_image_alt",""),e+=u[0],a.MN("fe_icon_name",""),e+=u[0],a.MN("fe_link",""),e+=u[0],a.MN("fe_cityname",""),e+=u[0],a.MN("fe_facility",""),e+=u[0],a.MN("fe_distance_to_beach",""),e+=u[2];else{e+=u[0];var t="";t+=u[11],o.unshift({extra_classes:u[125],layout:u[126],sample_size:a.MG((a.MC(f[1])||{}).reviewsCount),score:a.MG((a.MC(f[1])||{}).reviewScore),style:u[127]}),t=l(t),o.shift(),t+=u[0],a.MN(f[94],t),e+=u[0],a.MN("fe_class","beach-property-card bui-spacer--medium"),e+=u[0],a.MN("fe_country_code",a.MG((a.MC(f[1])||{}).code)),e+=u[0],a.MN("fe_title",a.MG((a.MC(f[1])||{}).hotel_name)),e+=u[0],a.MN("fe_distance_to_beach",a.MG((a.MC(f[1])||{}).distanceToBeach)),e+=u[8],a.MN(f[12],a.F.entities((a.MC(f[1])||{}).price_formatted)),e+=u[0],a.MN("fe_cityname",a.MG((a.MC(f[1])||{}).city_name)),e+=u[0];var t="";t+=u[11],a.MJ(a.MG((a.MC(f[1])||{}).beachfront))?t+=[u[21],(o.unshift({height:u[129],name:u[130],width:u[129]}),h=a.HELPER("icon",o[0]),o.shift(),h),u[21],a.ME(u[131],a.MB,a.MN,null),u[11]].join(""):t+=[u[21],(o.unshift({distance:a.MB(f[96])}),h=a.ME(u[132],a.MB,a.MN,null),o.shift(),h),u[11]].join(""),t+=u[0],a.MN(f[95],t),e+=u[8],a.MN("fe_high_res_image_src",a.MG((a.MC(f[1])||{}).hotel_photo)),e+=u[0],a.MN("fe_low_res_image_src",a.MG((a.MC(f[1])||{}).hotel_photo)),e+=u[0],a.MN("fe_image_alt",a.MG((a.MC(f[1])||{}).hotel_name)),e+=u[0],a.MN("fe_image_url",a.MG((a.MC(f[1])||{}).hotel_photo)),e+=u[0],a.MN("fe_icon_name","streamline/beach"),e+=u[0],a.MN("fe_link",a.MG((a.MC(f[1])||{}).uri)),e+=u[0],a.MN("fe_review",a.MB(f[94])),e+=u[0],a.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Property carousel - Card'"),e+=u[2]}return e+=[u[2],"",u[2]].join(""),_r_(e)}(e),o.shift(),e+=u[2]),e+=u[2],n=_r_(e),o.shift(),n+=u[0];var c={fe_class:a.MB(f[99]),fe_data_args:a.MB(f[100]),fe_deals:a.MB(f[109]),fe_high_res_image_src:a.MB(f[101]),fe_icon_name:a.MB(f[105]),fe_lazy_load:u[133],fe_low_res_image_src:a.MB(f[104]),fe_review_nr:a.MB(f[110]),fe_review_score:a.MB(f[37]),fe_subtitle:a.MB(f[12]),fe_tags:a.MB(f[106]),fe_title:a.MB(f[2])},d=o;return(o=a.SV([{},{}])).unshift(c),n=function(e){_i_("269:0a18fe7d"),e+=[u[2],"",u[49]].join(""),e+=u[134];var t={fe_agent_is_robot:a.MB(f[103]),fe_cityname:a.MB(f[108]),fe_class:a.MB(f[99]),fe_country_name:a.MB(f[9]),fe_data_args:a.MB(f[100]),fe_deals:a.MB(f[109]),fe_facility:a.MB(f[95]),fe_high_res_image_src:a.MB(f[101]),fe_icon_name:a.MB(f[105]),fe_image_alt:a.MB(f[3]),fe_lazy_load:a.MB(f[102]),fe_link:a.MB(f[98]),fe_low_res_image_src:a.MB(f[104]),fe_review:a.MB(f[107]),fe_subtitle:a.MB(f[12]),fe_tags:a.MB(f[106]),fe_title:a.MB(f[2])},i=o;return(o=a.SV([{},{}])).unshift(t),e=s(e),o=a.SV(i),e+=[u[180],"",u[2]].join(""),_r_(e)}(n),o=a.SV(d),n+=u[2],_r_(n)})}()),B.define("component/abstract-bui-card-image",function(e,t,i){_i_("269:2db990c8");var n=e("component"),r=e("jstmpl"),o=e("read-data-options"),_=!1,a=e("et"),s="cFOGYWYHbdbEJNZJSUC",l=B.env.b_action;i.exports=n.extend({init:function(){_i_("269:8498c299"),this.$imageEl=this.$el,this.trackFasterBeachHolidaysStages(),1!==a.track(s)&&(this.image=new Image),this.errorCst=r("image_fallback_cst"),this.loadImage(),_r_()},trackFasterBeachHolidaysStages:function(){switch(_i_("269:df64db52"),l){case"beaches":a.stage(s,1);break;case"beach_holidays":a.stage(s,2);break;case"searchresults":a.stage(s,3);break;case"hotel":a.stage(s,4);break;default:a.stage(s,5)}_r_()},loadImage:function(){_i_("269:2dba4a7c");var e=this.$imageEl.data("normalres");this.getRetinaValue()&&(e=this.$imageEl.data("highres")),this.initLazyLoaderImage(this.$imageEl.get(0),e),_r_()},renderImage:function(e,t,i){_i_("269:bfcb1b15");var n=this,r=o(n.$el,{altText:{name:"alt-text",type:String},iconName:{name:"icon-name",type:String}});if(t.addEventListener("load",function(){_i_("269:ce3b8a8a"),e.attr("src")||e.attr("src",i),r.altText&&(e.attr("alt",r.altText),e.attr("data-alt-text","")),_r_()}),t.addEventListener("error",function(){if(_i_("269:78b035a4"),n.$el.data("icon-name")&&r.iconName){var e=n.errorCst.render({data:r.iconName});n.$el.parent().html(e)}_r_()}),i)t.src=i;else if(r.iconName){var _=n.errorCst.render({data:r.iconName});n.$el.parent().html(_)}_r_()},getRetinaValue:function(){return _i_("269:4c326f32"),void 0!==window.devicePixelRatio&&(_=1<window.devicePixelRatio),_r_(_)},initLazyLoaderImage:function(i,n){_i_("269:19e96b2f");var r=this;if("IntersectionObserver"in window){var _=new IntersectionObserver(function(e,t){_i_("269:25231688"),e.forEach(function(e){_i_("269:8046d5cc"),e.isIntersecting&&(1==a.track(s)?r.renderImage(r.$imageEl,i,n):r.renderImage(r.$imageEl,r.image,n),_.unobserve(i)),_r_()}),_r_()});_.observe(i)}else{var e=!1,t=function(){_i_("269:feec1bde"),!1===e&&(e=!0,setTimeout(function(){_i_("269:42ee59ac"),"none"!==getComputedStyle(i).display&&i.getBoundingClientRect().top<=window.innerHeight&&0<=i.getBoundingClientRect().bottom&&(1==a.track(s)?r.renderImage(r.$imageEl,i,n):r.renderImage(r.$imageEl,r.image,n),$(document).off("scroll",t),$(window).off("resize",t),$(window).off("orientationchange",t)),e=!1,_r_()},500)),_r_()};$(document).on("scroll",t),$(window).on("resize",t),$(window).on("orientationchange",t)}_r_()}}),_r_()}),booking.jstmpl("image_fallback_cst",function(){_i_("269:6a3dd156");var n,r=['\n    <div class="image-fallback image-fallback__cst">\n        ',"\n            ",'\n            <div class="image-fallback__icon">\n                ',"48","\n            </div>\n        ","\n    </div>\n"],_=["data","fe_icon_name"];return _r_(function(e){_i_("269:4f69f979");var t="",i=this.fn;return t+=r[0],i.MD(_[0])&&(t+=r[1],i.MN("fe_icon_name",i.MB(_[0])||"streamline/international"),t+=[r[2],(e.unshift({height:r[3],name:i.MB(_[1]),width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[4]].join("")),t+=r[5],_r_(t)})}()),B.define("beach_team_pilot/helpers",function(e,t,i){"use strict";_i_("269:8d8a390e");var n=e("querystring"),_=B.env.b_action,r=B.env.b_site_type,o=B.env.isRetina,a=B.env.fe_b_beach_ufi||"",s={fe_site_type:r,fe_is_retina:o,fe_page:_,fe_ufi:a,fe_beach_view:0,fe_is_static:1,fe_has_map:1,fe_map_id:"beach_ufi-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_ufi_hero_image:B.env.fe_ufi_hero_image,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},l={fe_site_type:r,fe_is_retina:o,fe_page:_,fe_ufi:a,fe_beach_view:1,fe_has_map:1,fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_show_map_list:1,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},c={fe_site_type:r,fe_is_retina:o,fe_page:_,fe_beach_view:0,fe_is_static:0,fe_is_fixed:0,fe_has_map:1,fe_map_id:"beach_property-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_hotel_id:B.env.fe_hotel_id,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},d={fe_site_type:r,fe_is_retina:o,fe_page:_,fe_beach_view:0,fe_is_static:1,fe_is_fixed:0,fe_has_map:1,fe_map_id:"beach_surroundings-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_property_name:B.env.property_name,fe_hotel_id:B.env.fe_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},h={fe_site_type:r,fe_is_retina:o,fe_page:_,fe_beach_view:1,fe_is_static:0,fe_has_map:1,fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_hotel_id:B.env.fe_hotel_id,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},u={configureRenderData:function(e,t){_i_("269:8fd4e60d");var i=[],n=t.panelId;e.beaches&&(("sliding-view__property"===n||"sliding-view__surroundings"===n)&&3<=e.beaches.length&&!B.env.fe_beach_team_dont_limit_beaches&&(e.beaches=e.beaches.slice(0,3)),e.beaches.map(function(e){_i_("269:9c1b1153"),e.type="beach",e.sorter_url=B.env.fe_beach_order_urls?B.env.fe_beach_order_urls[e.id]:"",e.beach_details=[].concat(e.facilities,e.sand_and_water),_r_()}),i=i.concat(e.beaches)),"sliding-view__beach"!==n&&e.landmarks&&(e.landmarks.map(function(e){_i_("269:fad35b42"),e.type="landmark",_r_()}),i=i.concat(e.landmarks)),e.city&&(e.city.id="citycenter_"+e.city.name,e.city.type="citycenter",e.city.group_name="City center",i.push(e.city)),e.nearest_airport&&(e.nearest_airport.id="airport_"+e.nearest_airport.iata,e.nearest_airport.type="airport",e.nearest_airport.group_name="Airport",e.nearest_airport.lat=e.nearest_airport.latitude,e.nearest_airport.long=e.nearest_airport.longitude,i.push(e.nearest_airport)),e.cards=i;var r={fe_beaches:e.beaches,fe_landmarks:e.landmarks,fe_cards:e.cards,render_params:t,fe_map_url:e.static_map_url};if(window.location.hash.match(/map_opened/)?r.fe_is_map_open=!0:r.fe_is_map_open=!1,"searchresults"===_){if("sliding-view__ufi"===n)return _r_($.extend({},s,r));if("sliding-view__beach"===n)return _r_($.extend({},l,r))}else if("hotel"===_){if("sliding-view__property"===n)return _r_($.extend({},c,r));if("sliding-view__beach"===n)return _r_($.extend({},h,r));if("sliding-view__surroundings"===n)return _r_($.extend({},d,r));if("sliding-view__sidebar"===n)return _r_($.extend({},c,r))}_r_()},initActiveView:function(e){_i_("269:60588a4f");var t=n.parseUrl(location.href).query;if(t.activeView&&""!==t.activeView&&!t.distance_from_geo){var i=t.activeView;i&&e.call(this,i)}_r_()}};i.exports=u,_r_()}),B.when({action:["hotel"],events:"load",condition:function(e){return _i_("269:ffd7bedc"),_r_(+e.fe_hotel_id&&+e.fe_is_in_beach_ufi)}}).run(function(){_i_("269:9d51bbdd");var e=B.require("async-loader"),t=B.require("promise"),l=$(".entrance-point__hp-button"),c=$('[data-component="core/sliding-view-trigger"]'),d="1"===B.require("server-data").fe_beach_hp_sidebar_map_dimension,i=e.load({js:"cn"===B.env.b_guest_country?"async_atlas_v2_cn_js":"async_atlas_v2_non_cn_js"}),n=e.load({js:"async_slider_view_js",css:"async_slider_view_css"});t.all([i,n]).then(function(_){_i_("269:e19d09d9"),$("body").addClass("beach-panel-loaded");var r,o,a,e=_("events");function s(e){_i_("269:c6dcd225"),(!e||e&&0===Object.keys(e).length||e&&e.beaches&&Array.isArray(e.beaches)&&0===e.beaches.length)&&("www"==B.env.b_site_type&&B&&B.squeak&&B.squeak("YWYHfZHQWXdBGZBZeQHVODfcVDZET"),"mdot"==B.env.b_site_type&&B&&B.squeak&&B.squeak("YWYHfZHYHRMSAdSdecYICPLNIfNFO")),_r_()}(function(){_i_("269:14ec087f"),l.removeClass("bui-is-loading"),c.removeClass("bui-is-loading");var e=_("component/core/sliding-view"),t=_("component/core/sliding-view-content"),n=_("beach_team_pilot/helpers"),i="www"===B.env.b_site_type;r=new t({id:"sliding-view__property",title:B.jstmpl.translations("beach_hp_explore_nearby_panel_header",null,{property_name:B.env.property_name}),hasMap:!0,fe_map_id:"beach_property-panel-map",async:{loadingCstName:"tt_ufi_panel_loading",cstName:"tt_property_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},fragment:{name:"beach.beach_panel",params:{dest_id:B.env.fe_hotel_id,dest_type:"hotel",map_width:d?264:344,map_height:d?128:160,sections:"photos,reviews,static_map_url",require_description:0,require_image:0}},beforeRender:function(e,t){_i_("269:6ee27586"),s(e),t.panelId=this.id;var i=n.configureRenderData(e,t);return i.location_block_html=!0,_r_(i)},afterRender:function(e){_i_("269:90017182");var t=_("jstmpl"),e={fe_has_property_parking:B.env.fe_has_property_parking,fe_has_airport_access:B.env.fe_has_airport_access,fe_has_airport_shuttle_free:B.env.fe_has_airport_shuttle_free,fe_has_airport_shuttle:B.env.fe_has_airport_shuttle,fe_has_airport_shuttle_paid:B.env.fe_has_airport_shuttle_paid,fe_poi_landmark_closest:B.env.fe_poi_landmark_closest,fe_poi_landmark_popular:B.env.fe_poi_landmark_popular,b_hotel_surroundings_aggregated:B.env.fe_hotel_surroundings_aggregated,b_closest_airport:B.env.fe_closest_airport,b_public_transport:B.env.fe_public_transport,b_public_transport_rail:B.env.fe_public_transport_rail},i=t("tt_location_block_simplified").render(e);$(".hp_location_block_simplified").html(i),_r_()}}),o=new t({id:"sliding-view__beach",hasMap:!0,fe_map_id:"beach-panel-map",destroyOnClose:!0,fragment:{name:"beach.beach_panel",params:{dest_type:"beach",sections:i?"photos,landmarks":"photos,reviews",require_description:0,require_image:0}},async:{loadingCstName:"tt_beach_panel_loading",cstName:"tt_beach_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},beforeRender:function(e,t){return _i_("269:ad336aba"),s(e),t.panelId=this.id,_r_(n.configureRenderData(e,t))}}),a=new t({id:"sliding-view__photos",hasMap:!1,destroyOnClose:!0,isInstant:!0,fragment:{name:"beach.beach_panel",params:{dest_type:"beach",sections:i?"photos":"photos,reviews",require_description:0,require_image:0}},async:{loadingCstName:"tt_photos_panel_loading",cstName:"tt_photos_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},beforeRender:function(e,t){return _i_("269:20022fdf"),s(e),t.panelId="sliding-view__beach",_r_(n.configureRenderData(e,t))},afterRender:function(e,t){}}),new e({id:"explore_beaches_panel",views:[r,o,a],useScrollBlocker:"www"===B.env.b_site_type?1:0}),_r_()})(),e.on("sliding-view/view_rendered",function(e){if(_i_("269:00ec6e16"),"sliding-view__photos"===e){var t=$(".tt-gallery__carousel"),i=_("ga-tracker"),n=!1;if(t&&t.length){var r=window.BUI.getInstance(t[0]);B.env&&"www"===B.env.b_site_type&&r&&r.root&&$(r.root).hasClass("tt-gallery__carousel")&&($(document).on("keyup",function(e){_i_("269:61b2d38b"),e&&e.keyCode&&(27===e.keyCode?history.back(-1):37!==e.keyCode&&39!==e.keyCode||(i.trackEvent("On: Beach Photo Gallery Panel","Interact: Carousel","From: Keyboard Arrows"),n||r._handleKeyup(e))),_r_()}),$("#sliding-view__photos").on("click",function(e){if(_i_("269:5eb8d603"),e&&e.target){var t=e.target.tagName.toLowerCase();if("img"===t||"a"===t||"button"===t||"svg"===t||"path"===t)return n||"svg"!==t&&"button"!==t?"img"===t&&(n=!1):n=!0,_r_();history.back(-1)}_r_()}))}}_r_()}),_r_()}.bind(this,B.require)).catch(function(e){_i_("269:de49bb75"),l.remove(),c.remove(),"www"===B.env.b_site_type&&B&&B.squeak&&B.squeak("YWYHfZHQWZTNWffePBGSLYWMVbXEQC"),"mdot"===B.env.b_site_type&&B&&B.squeak&&B.squeak("YWYHfZHYHNSUHLLeYSAbcBaDIARMGWe"),_r_()}),_r_()}),booking.jstmpl("beach_review_score",function(){_i_("269:9bf61fd7");var r,_=["\n"," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/extl_reviews_no_bcom_reviews/name","/private/comp_num_reviews_sr_page/name","</div> "],o=["fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_score_inline","fe_score_formatted","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_calc_score_formatted","fe_reviews_number","nr_reviews","score"];return _r_(function(i){_i_("269:cc13e529");var e="",n=this.fn;return e+=_[0],i.unshift({fe_modifier_text:1,fe_reviews_number:n.MB(o[21]),fe_score:n.MB(o[22]),fe_show_adjective:1}),e=function(e){if(_i_("269:bebb6db5"),e+=["",_[1]].join(""),n.MJ(n.MB(o[12]))||n.MJ(n.MB(o[11]))){if(n.MN("fe_classes","bui-review-score c-score"),n.MJ(n.MB(o[1]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--outline"),n.MJ(n.MB(o[2]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--end"),n.MJ(n.MB(o[3]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--inverse"),n.MJ(n.MB(o[4]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--inline"),n.MJ(n.MB(o[5]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--text"),n.MJ(n.MB(o[6]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--small"),n.MJ(n.MB(o[7]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--smaller"),n.MJ(n.MB(o[8]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--external"),n.MJ(n.MB(o[9]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--external-inline"),n.MD(o[10])?n.MN("fe_calc_score_formatted",n.MB(o[10])):(n.MJ(n.MB(o[11]))&&n.MN("fe_calc_score_formatted",0),n.MJ(n.MB(o[12]))&&n.MN("fe_calc_score_formatted",n.format_review_score_new(n.MB(o[12])))),n.MN("fe_can_show_adjective",n.MB(o[13])||n.MB(o[14])),n.MJ(n.MB(o[18]))){var t="";i.unshift({fe_hide_low_adjectives:n.MB(o[17]),fe_score:n.MB(o[12])}),t=function(e){if(_i_("269:bc889edc"),n.MD(o[12])){var t="";n.MJ(1<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<2)&&(t+=n.ME(_[2],n.MB,n.MN,null)),n.MJ(2<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<3)&&(t+=n.ME(_[3],n.MB,n.MN,null)),n.MJ(3<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<4)&&(t+=n.ME(_[4],n.MB,n.MN,null)),n.MJ(4<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<5)&&(t+=n.ME(_[5],n.MB,n.MN,null)),n.MJ(5<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<6)&&(t+=n.ME(_[6],n.MB,n.MN,null)),n.MJ(6<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<7)&&(t+=n.ME(_[7],n.MB,n.MN,null)),n.MJ(7<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<8)&&(t+=n.ME(_[8],n.MB,n.MN,null)),n.MJ(8<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<8.6)&&(t+=n.ME(_[9],n.MB,n.MN,null)),n.MJ(8.6<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<9)&&(t+=n.ME(_[10],n.MB,n.MN,null)),n.MJ(9<=n.MB(o[12]))&&n.MJ(n.MB(o[12])<9.5)&&(t+=n.ME(_[11],n.MB,n.MN,null)),n.MJ(9.5<=n.MB(o[12]))&&(t+=n.ME(_[12],n.MB,n.MN,null)),n.MN(o[16],t),n.MJ(n.MB(o[17]))&&n.MJ(n.MB(o[12])<7)&&n.MN(o[16],n.ME(_[13],n.MB,n.MN,null)),e+=[n.MC(o[16]),_[14]].join("")}return n.MN("fe_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_score",0),e+=_[0],_r_(e)}(t),i.shift(),n.MN(o[15],t),n.MJ(n.MB(o[14]))&&n.MN("fe_adjective_text",n.MB(o[14]))}e+=[_[15],n.F.entities(n.MC(o[0])),_[16],(i.unshift({review_score_number:n.MB(o[10])}),r=n.ME(_[17],n.MB,n.MN,null),i.shift(),r),_[18],n.F.entities(n.MC(o[19])),_[19]].join(""),n.MD(o[15])&&(e+=[_[20],n.MC(o[15]),_[19]].join(""),n.MD(o[20])&&(e+=_[21],n.MD(o[8])?e+=[(i.unshift({total_num_reviews:n.MI(n.MB(o[20]))+n.MI(0)}),r=n.ME(_[22],n.MB,n.MN,n.MO(n.MI(n.MC(o[20]))+n.MI(0),null,_[22])),i.shift(),r),_[1]].join(""):e+=[(i.unshift({num_reviews:n.format_number(n.MB(o[20]))}),r=n.ME(_[23],n.MB,n.MN,n.MO(n.MI(n.MC(o[20]))+n.MI(0),null,_[23])),i.shift(),r),_[1]].join(""),e+=_[24]),e+=_[24]),e+=_[24]}return n.MN("fe_adjective_text",0),n.MN("fe_allow_zero",0),n.MN("fe_classes",0),n.MN("fe_custom_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_modifier_end",0),n.MN("fe_modifier_inline",0),n.MN("fe_modifier_inverse",0),n.MN("fe_modifier_outline",0),n.MN("fe_modifier_text",0),n.MN("fe_reviews_number",0),n.MN("fe_score",0),n.MN("fe_score_formatted",0),n.MN("fe_calc_score_formatted",0),n.MN("fe_show_adjective",0),e+=["",_[1]].join(""),e+=_[0],_r_(e)}(e),i.shift(),e+=_[0],_r_(e)})}()),booking.jstmpl("beaches_nearby_cst__error",function(){_i_("269:52367a90");var n,r=['\n\n        <section class="beaches-nearby-error">\n            <div class="bui-banner__title beaches-nearby-error__title">\n                ',"","16","iconset/warning","\n                ","/private/beach_d_hp_panel_info_error_header/name","\n            </div>\n            ",'\n                <div class="beaches-nearby-error__border">\n            ','\n                    <p class="bui-banner__text beaches-nearby-error__desc">',"/private/beach_d_hp_panel_info_error_desc/name",'</p>\n                    <a class="bui-link bui-link--primary beaches-nearby-error__cta" href="#" title="See available properties in Amsterdam">',"/private/beach_d_hp_panel_info_error_cta/name","</a>\n            ","\n                </div>\n            ","\n        </section>\n\n"],_=["fe_show_border"];return _r_(function(e){_i_("269:bfd2784f");var t="",i=this.fn;return t+=[r[0],(e.unshift({class:r[1],height:r[2],name:r[3],width:r[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[4],i.ME(r[5],i.MB,i.MN,null),r[6]].join(""),i.MD(_[0])&&(t+=r[7]),t+=[r[8],i.ME(r[9],i.MB,i.MN,null),r[10],i.ME(r[11],i.MB,i.MN,null),r[12]].join(""),i.MD(_[0])&&(t+=r[13]),t+=r[14],_r_(t)})}()),B.when({action:["searchresults","hotel"],events:"ready",condition:function(e){return _i_("269:babefc59"),_r_(e.beach_team_pilot_data_loaded||"searchresults"===B.env.b_action&&e.fe_is_beach_ufi||"hotel"===B.env.b_action&&e.fe_is_in_beach_ufi)}}).run(function(e){_i_("269:c5f893f2");var _=e("ga-tracker"),t=e("events"),i=e("et"),n=B.env.b_action,r=B.env.b_site_type;e("server-data").fe_is_north_beach_ufi;function o(e){if(_i_("269:4622261d"),"sliding-view__ufi"===e)return _r_("Explore Destination Panel");if("sliding-view__beach"===e)return _r_("Explore Beach Panel");if("sliding-view__photos"===e)return _r_("Beach Photo Gallery Panel");if("sliding-view__property"===e)return _r_("Nearby Property Panel");_r_()}_i_("269:bdb17230"),t.on("sliding-view/back",function(e){_i_("269:e3b9b165");var t=o(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Back button"),_r_()}),t.on("sliding-view/back_close",function(e){_i_("269:b9ac541a");var t=o(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Close button"),_r_()}),t.on("sliding-view/backdrop_close",function(e){_i_("269:285c2805");var t=o(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Backdrop Click"),_r_()}),t.on("sliding-view/load_view",function(e,t){_i_("269:1ea7bb52"),"www"===r&&(i.customGoal("HCEaENPCPRSVIIcUKVSdZPMXWGO",5),i.customGoal("HCEaENPCPRSVIIcUKVSdZPOeUPfXDeFEKILT",5)),"mdot"===r&&(i.customGoal("HCEaENPCPRSVIIcUKVSdZPMXWPC",5),i.customGoal("HCEaENPCPRSVIIcUKVSdZPOeUPfXDeFEKCJO",5)),"sliding-view__ufi"===e&&"searchresults"===n&&B.et.goal("trip_type_sr_beach_ufi_panel_open"),"sliding-view__beach"===e&&("searchresults"===n?(B.et.goal("trip_type_sr_beach_panel_open"),B.et.customGoal("aXbSGYWYHaYHUWLTYDdJSGDVLBRe",2)):"hotel"===n&&(B.et.goal("trip_type_hp_beach_panel_open"),"www"===r&&t&&t.fromMap&&(i.customGoal("acEfBaUEIQDSScFRURURHe",5),i.customGoal("acYWYHbbLfHFBddQFcDcLDScDSC",5)))),"sliding-view__property"===e&&"hotel"===n&&B.et.goal("trip_type_hp_beach_ufi_panel_open"),_r_()}),t.on("sliding-view/view_rendered",function(e){var t;_i_("269:5454e065"),"mdot"===r&&("sliding-view__photos"===e?(_i_("269:75fc3b9a"),$("body").on("touchmove",function(){_i_("269:04a904f7"),clearTimeout(t),t=setTimeout(function(){_i_("269:edd2bf4a"),_.trackEvent("On: Beach Photo Gallery Panel","Interact: Carousel","From: Scroll"),$("body").off("touchmove"),_r_()},200),_r_()}),_r_()):function(){_i_("269:4d56c0a8");var t,i,n=$(".tt-carousel--long .bui-carousel__inner"),r=$(".tt-carousel--short .bui-carousel__inner");n.length&&n.on("touchmove",function(e){_i_("269:716531e3"),clearTimeout(t),t=setTimeout(function(){_i_("269:a9c3a19a"),_.trackEvent("On: Explore Beach Panel","Interact: Carousel","From: Scroll"),n.off("touchmove"),_r_()},200),_r_()}),r.length&&r.on("touchmove",function(e){_i_("269:c2667adb"),clearTimeout(i),i=setTimeout(function(){_i_("269:e61d4929"),_.trackEvent("On: Explore Beach Panel","Interact: Things To Do","From: Scroll"),r.off("touchmove"),_r_()},200),_r_()}),_r_()}()),_r_()}),t.on("beach-reviews/loaded",function(){}),_r_(),_r_()}),B.when({action:["searchresults","hotel"],events:"ready",condition:function(e){return _i_("269:16863c4b"),_r_(e.fe_beach_team_pilot_cta_visible)}}).run(function(a){if(_i_("269:8ea28bc8"),!B.atlas||!B.atlas.define)return _r_();var s=a("server-data").b_action,l=a("sliding-view-model");B.atlas.define("YWYHfUDeATPRXUBO",["util-env","geo.bounds","vendor.polylabel","atlas-marker-properties","markers-disperser"],function(e,t,i,n,o){return _i_("269:07cfc3df"),_r_({init:function(e){_i_("269:5b88a491");var t,i,n=e.map,r=[],_=new o({map:n});n.on(n.EVENTS.MARKERS_GET_SUCCESS,function(e){_i_("269:bfcfcde8"),i=e,_r_()}),n.on(n.EVENTS.MARKERS_READY,function(){var e;_i_("269:d0f5c528"),i&&(e=i,_i_("269:5324919d"),e.b_beach_information&&e.b_beach_information.beaches&&(r=[],e.b_beach_information.beaches.forEach(function(e){_i_("269:6ea76890");var t,i=e.center.split(",");Array.isArray(e.hero_image)&&e.hero_image.length&&e.hero_image[0]&&e.hero_image[0]["600x400"]?t=e.hero_image[0]["600x400"]:Array.isArray(e.destination_images)&&e.destination_images.length&&e.destination_images[0]&&e.destination_images[0]["600x400"]&&(t=e.destination_images[0]["600x400"]);var n={b_id:e.id,b_atlas_id:"beach_pilot_map"+e.id,b_type:"beach",b_basic_type:"pilot_beach",b_template:"www_atlas_overlay_marker_svg",b_states:{overlay:!0},width:22,height:24,b_name:e.name,b_latitude:i[0],b_longitude:i[1],b_image_url:t,b_desc:e.desc,b_reviews_html:e.reviews?B.jstmpl("beach_review_score").render(e.reviews):"",b_panel_trigger_options:{panel:"explore_beaches_panel",target:"sliding-view__beach",dest_id:e.id,dest_title:B.jstmpl.translations("beach_explore_beach_panel_overview_header",null,{beach_name:e.name})}};r.push(n),_r_()})),r=_.filter(r),n.addMarkers(r).then(function(){}),_r_()),_r_()}),n.on(n.EVENTS.MARKER_HOVER,function(e){_i_("269:a5a15a12"),"pilot_beach"===e.data.b_basic_type&&(clearInterval(t),n.openIW(e.id,{},B.jstmpl("atlas_iw_pilot_beach").render(e.data))),_r_()}),n.on(n.EVENTS.MARKER_OUT,function(e){_i_("269:feaef6f2"),"pilot_beach"===e.data.b_basic_type&&(t=setTimeout(function(){_i_("269:58f3a2d1"),n.closeIW(e.id),_r_()},150)),_r_()}),n.on(n.EVENTS.MARKER_CLICK,function(e){if(_i_("269:4aaa5a31"),"pilot_beach"===e.data.b_basic_type){var t=e.data.b_panel_trigger_options||{};t.fromMap=!0,l.get(t.panel).show(t),n.set("beach_marker_center_coords",[e.data.b_latitude,e.data.b_longitude]);var i=a("ga-tracker");"searchresults"===s?i.trackEvent("On: SR","Open: Explore Beach Panel","From: Map Beach marker click"):"hotel"===s&&i.trackEvent("On: HP","Open: Explore Beach Panel","From: Map Beach marker click")}else n.set("beach_marker_center_coords",null);_r_()}),n.on(n.EVENTS.CLOSE,function(){_i_("269:76eb0a42"),n.get("beach_marker_center_coords")&&n.set("beach_marker_center_coords",null),_r_()}),_r_()}})}),_r_()}),B.when({action:"hotel",events:"ready",experiment:"aXBNTfZHQSVTMIcOcfPUMVBFUWe"}).run(function(e){_i_("269:5478a114");var t=e("jquery"),i=e("events"),n=t(".js-gallery-hotel-reviews-list"),r=t(".js-gallery-beach-reviews-list");if(this.variant()<2||0===r.length)return _r_();i.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){_i_("269:ee69ba72"),"beach"===e.modal.activePhotoId.split("-")[0]&&B.env.fe_beach_details?(n.hide(),r.show()):(n.show(),r.hide()),_r_()}),_r_()}),B.define("component/beaches-nearby",function(d,e,t){_i_("269:35073c35");var i=d("component"),h=d("server-data");t.exports=i.extend({init:function(){_i_("269:fbf610de"),h.fe_beach_team_pilot_cta_visible&&h.fe_hotel_id&&this.setupPromises(),_r_()},setupPromises:function(){_i_("269:daaf059f");var o=d("fragment"),c=d("promise");o.call("beach.beach_panel",{dest_id:h.b_hotel_id,dest_type:"hotel",map_width:264,map_height:128,sections:"photos,reviews,static_map_url"}).then(function(a){if(_i_("269:3c187191"),a&&a.beaches&&a.beaches.length){var e=d("async-loader").load({js:"async_beach_show_more_on_hp_js",css:"async_beach_show_more_on_hp_css"}),t=230;"mdot"===h.b_site_type&&(t=$(window).width()-64);var s=this.getBeachesBasedOnRadius(1e3,a.beaches),l=s.length;if(l)var i=a.beaches[0].center.split(","),n=[{lat:i[0],long:i[1],icon:"/static/img/beach/orange-2x-beach.png",type:"beach"}],r=112;else{n=a.beaches.slice(0,3).map(function(e,t){_i_("269:101e6357");var i=e.center.split(","),n="/static/img/beach/orange-2x-"+(t+=1)+".png";return _r_({lat:i[0],long:i[1],icon:n,type:"beach"})});if("mdot"===h.b_site_type)r=152;else r=128}n.push({lat:h.b_map_center_latitude,long:h.b_map_center_longitude,icon:"/static/img/beach/property2x.png",type:"hotel"});var _=o.call("geo.beach_static_map",{dest_id:h.b_hotel_id,dest_type:"hotel",points:n,width:t,height:r,use_retina:!0});c.all([e,_]).then(function(e){_i_("269:55f396d5");var t,i=e&&e[1]?e[1]:"";if(3<=l){var n="";if(n="us"===h.b_guest_country&&"en"==h.b_lang?B.jstmpl.translations("beach_d_hp_panel_info_other_mi",null,{num:1}):B.jstmpl.translations("beach_d_hp_panel_info_other_km",null,{num:1}),t=this.render1kmBeaches(s,i,n),"mdot"===h.b_site_type){var r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:s[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:h.b_site_type,fe_guest_country:h.b_guest_country});t=_.render({fe_short_content:o,fe_long_content:t})}}else if(0<l&&l<3){n=B.jstmpl.translations("beach_d_hp_panel_info_other_area");if(t=this.render1kmBeaches(a.beaches,i,n),"mdot"===h.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:s[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:h.b_site_type,fe_guest_country:h.b_guest_country});t=_.render({fe_short_content:o,fe_long_content:t})}}else if(t=this.renderNo1kmBeaches(a.beaches,i),"mdot"===h.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:a.beaches[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:h.b_site_type,fe_guest_country:h.b_guest_country});t=_.render({fe_short_content:o,fe_long_content:t,fe_no_beaches:!0})}(this.$el.empty(),this.$el.append(t),this.$el.loadComponents(),window.BUI.initComponents(this.$el[0]),"mdot"===h.b_site_type)?$(".c-beaches-nearby__mobile .js-m-toggle-class .js-beaches-nearby-trigger").on("click",function(e){_i_("269:4c4a70bc"),e.stopPropagation(),_r_()}):$("#sidebar-beaches-map-cta").on("click",function(e){_i_("269:4c4a70bc1"),e.stopPropagation(),_r_()});_r_()}.bind(this),function(e){_i_("269:85168c72"),this.renderError(),_r_()}.bind(this))}else this.$el.remove();_r_()}.bind(this),function(e){_i_("269:29485795"),this.renderError(),_r_()}.bind(this)),_r_()},getBeachesBasedOnRadius:function(t,e){if(_i_("269:d28fcd02"),!e)return _r_(0);var i=e.filter(function(e){return _i_("269:ba9f7b37"),_r_(e.raw<t)});return _r_(i)},render1kmBeaches:function(e,t,i){_i_("269:97b4b980");var n=B.jstmpl("beaches_nearby_cst__card"),r=B.jstmpl("beaches_nearby_cst__carousel"),_="",o=e.slice(0);return o.shift(),"mdot"===h.b_site_type?_+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>":(_+='<div class="c-beaches-nearby-header">'+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>",_+='<hr class="c-beaches-nearby-divider" />'),_+='<div class="c-beaches-nearby-carousel__title">'+B.jstmpl.translations("beach_d_hp_panel_info_subheader_close")+"</div>",_+=n.render({beach:e[0],fe_show_mapinfo:!0,fe_static_map_url:t,fe_container_card:!0,fe_show_review_count:!0,fe_site_type:h.b_site_type,fe_guest_country:h.b_guest_country,fe_map_center_latitude:h.b_map_center_latitude,fe_map_center_longitude:h.b_map_center_longitude,fe_bbox_southwest_latitude:h.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:h.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:h.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:h.fe_bbox_northeast_longitude}),_+=r.render({beaches:o,showTitle:!0,fe_title:i,fe_carousel_border:"mdot"!==h.b_site_type}),_r_(_)},renderNo1kmBeaches:function(e,t){_i_("269:56254576");var i=B.jstmpl("beaches_nearby_cst__area"),n=e.slice(0,3),r="";return"mdot"===h.b_site_type?r+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</div>":r+="<h2 class='c-beaches-nearby-header'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</h2>",r+=i.render({beaches:n,fe_static_map_url:t,fe_map_center_latitude:h.b_map_center_latitude,fe_map_center_longitude:h.b_map_center_longitude,fe_bbox_southwest_latitude:h.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:h.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:h.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:h.fe_bbox_northeast_longitude,fe_site_type:h.b_site_type,fe_guest_country:h.b_guest_country,fe_show_index:!0}),_r_(r)},renderError:function(){_i_("269:f8f4fb84");var e=B.jstmpl("beaches_nearby_cst__error");this.$el.empty(),this.$el.append(e.render({fe_show_border:"www"===h.b_site_type?1:0})),$(".beaches-nearby-error__cta").on("click",function(){_i_("269:a3d25aee"),window.location.reload(),_r_()}),_r_()}}),_r_()}),B.when({action:["hotel"],events:"ready"}).run(function(e){_i_("269:b2c0e89c");var t=e("et"),i="PUTdUJbcXVaNMcIeMAeOcRWOCccSTKe",n="aXBNTbWNZJODKMHSUPWBORe";if(B.env.fe_s_raw_param_beach_sr_walking_distance){var r=Number(B.env.fe_s_raw_param_beach_sr_walking_distance);r<200&&t.customGoal(i,1),200<=r&&r<=1e3&&t.customGoal(i,2),1e3<r&&t.customGoal(i,3)}if(B.env.fe_s_raw_param_beach_rating_score){var _=Number(B.env.fe_s_raw_param_beach_rating_score);_&&(_<8&&t.customGoal(n,1),8<=_&&+_<8.5&&t.customGoal(n,2),8.5<=_&&t.customGoal(n,3))}_r_()}),B.define("component/ski/hp-nearby-lifts-summary",function(e,t,i){"use strict";_i_("269:2df0a822");var n=e("component"),r=e("async-loader"),_=e("promise"),o=e("jstmpl"),a=e("fragment"),s="cn"===B.env.b_guest_country?"async_atlas_v2_cn_js":"async_atlas_v2_non_cn_js";i.exports=n.extend({init:function(){_i_("269:9999fce7"),this.$mapEl=this.$el.find(".skinl-map"),this.loaded=!1,window.BUI&&this.initAccordion(),_r_()},initAccordion:function(){_i_("269:bad43050"),this.accordianInstance=window.BUI.createInstance("Accordion",this.el,{onAfterItemOpen:function(e){_i_("269:f6674db0"),this.loadEverything(),"www"==B.env.b_site_type&&B.et.customGoal("cJfZPdHdFcJaRBMRZNaQC",1),_r_()}.bind(this)}),this.accordianInstance.mount(),_r_()},loadEverything:function(){if(_i_("269:b30bc577"),this.loaded)return _r_();var e=r.load({js:s}),t=r.load({js:"ski_async_hp_nearby_lifts_map_js",css:"ski_async_hp_nearby_lifts_map_css"});_.all([e,t]).then(function(){return _i_("269:991d065a"),_r_(a.call("ski.content.lifts_near_hotel",{hotel_id:B.env.b_hotel_id,distance_meters:3e3,language_code:B.env.b_selected_language,include_ski_resort_name:1}))}.bind(this)).then(function(e){_i_("269:65f59583"),this.loaded=!0,B.env.hp_nearby_ski_lifts=e.ski_lifts_sorted;var t=o("nearby_ski_lifts_map");this.$mapEl.replaceWith(t.render({data:e})),BUI.initComponents(this.el),this.$el.loadComponents(),_r_()}.bind(this)).catch(function(){_i_("269:8abaaa82");var e=o("nearby_ski_lifts_warning");this.$mapEl.parent().removeClass("skinl-loading-state"),this.$mapEl.replaceWith(e.render()),_r_()}.bind(this)),_r_()}}),_r_()}),booking.jstmpl("nearby_ski_lifts_warning",function(){_i_("269:2793592f");var n,r=['\n    <div class="bui-alert bui-u-bleed@small bui-alert--error" role="status">\n        <span class="bui-alert__icon">\n            ',"","streamline/warning","24",'\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">',"/private/ski_related_error_message_web/name","</p>\n        </div>\n    </div>\n"];return _r_(function(e){_i_("269:e62772c5");var t="",i=this.fn;return t+=[r[0],(e.unshift({class:r[1],name:r[2],width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[4],i.ME(r[5],i.MB,i.MN,null),r[6]].join(""),_r_(t)})}()),_i_("269:7cea357c"),B.when({action:"hotel",events:"ready"}).run(function(a){_i_("269:2ddc7e4c");var s=a("jquery"),e=a("et"),t=a("with-capla"),i=a("sliding-view-model"),l=a("server-data"),n="CAPLA_EVENT_property-web-property-page_OPEN_SKI_PANEL",r="CAPLA_EVENT_property-web-property-page_BEACH_OPEN_MAP",_="CAPLA_EVENT_property-web-property-page_OPEN_BEACHES_PANEL",o="CAPLA_EVENT_property-web-property-page_OPEN_BEACH_REVIEW";function c(e,t){_i_("269:53de3bf3"),this.sliding_view_model=i.get(e.panel),s.extend(t,e),this.sliding_view_model.show(t),_r_()}if("mdot"===l.b_site_type){var d=s("#featured-reviews");d.on("click",".js-toggle-score-breakdown",function(){_i_("269:e5fbfc03"),e.customGoal("PUTOTCDdCMObJODKdCEbHeFUPecLUBO",2),_r_()})}t("property-web","property-page",function(e){_i_("269:1661d728");var t=e.eventBus;t.subscribe(n,function(e,t){_i_("269:e99d2914"),c({panel:"ski_overview_panel",target:t.target},{resort_id:t.skiResortId,dest_title:t.resortName}),_r_()}),t.subscribe(_,function(e,t){_i_("269:b528ac22"),c({panel:"explore_beaches_panel",target:t.target},{dest_id:t.id,dest_title:t.title}),_r_()}),t.subscribe(o,function(e,t){_i_("269:f30b8893");var i=a("hotel/reviews"),n={en:251,fr:111,nl:189,it:143,ru:206,zh:27,de:40},r=n[B.env.b_lang]||n.en;if("mdot"===l.b_site_type){var _=a("tabbed-nav");i.load({topics:[r],offset:0}),_.activateTab("htReviews",s(),{})}else{var o=a("hotel/review-list");o.scrollToPlaceholderOnce=!0,o.isInit||(o.isInit=!0),i.load({topics:[r],offset:0}),B.events.trigger("open-tab",{tab:"reviews"})}_r_()}),t.subscribe(r,function(e,t){_i_("269:9c992853"),"mdot"===l.b_site_type&&B.require("tabbed-nav").activateTab("htMap",s(),{isTabFullScreen:!0}),_r_()}),_r_()})(),_r_()}),_r_(),B.when({action:["hotel","searchresults"],events:"ready"}).run(function(_){_i_("269:179052e2");var o=_("browser-storage-handler"),a=_("jquery"),s=_("et"),l="www"===B.env.b_site_type&&"searchresults"===B.env.b_action,c="region"===B.env.b_dest_type,d=B.env.b_is_domestic_search?!parseInt(B.env.b_is_domestic_search):!parseInt(B.env.b_domestic_booker),h=B.env.fe_is_theme_only_destination;if(l)var u=_("searchresults/events");!function(){if(_i_("269:d13df9ea"),"searchresults"!==B.env.b_action||"country"!==B.env.b_dest_type&&"region"!==B.env.b_dest_type){if("searchresults"===B.env.b_action&&"country"===B.env.b_dest_type)o.addSessionValue("sr_country_page",B.env.b_dest_type,1);else if("searchresults"===B.env.b_action&&"region"===B.env.b_dest_type)o.addSessionValue("sr_region_page",B.env.b_dest_type,1);else if("hotel"===B.env.b_action&&"searchresults"===B.env.b_referer_action){var e,t=B.env.b_nflt_url,i=B.env.b_hotel_id,n=/tripTypeThemeFilter=\w+/;if(t&&t.length&&n.test(t)){e=o.getSessionValue("sr_theme_filter_applied",1)||{};var r=t.split(";").filter(function(e){return _i_("269:11cb192d"),_r_(n.test(e))});r&&r.length&&(e[i]={themes:r},o.addSessionValue("sr_theme_filter_applied",e,1))}}}else o.addSessionValue("sr_country_or_region_page",B.env.b_dest_type,1);_i_("269:d6abdc93"),a(document).on("change",".js-themes-input",function(){_i_("269:696e3cb3");var e=a(this);if(l){var t=this.getAttribute("data-url");if(h&&c&&d){var i=_("utils/makeurl");t=i(t,{dtst_used:1})}var n={$el:e,active:this.checked,id:this.getAttribute("data-id"),url:t};u.trigger(u.UI_FILTER_CHANGED,n)}!function(e,t){_i_("269:477cadd5");var i=e.closest(".blackbird-theme-filters__item"),n=i.find(".bui-card__image-container"),r=i.find(".blackbird-theme-filters__carousel--checkmark"),_=i.find(".blackbird-theme-filters__item--image-overlay");t?(_.addClass("blackbird-theme-filters--highlighted"),n.addClass("filter-selected--border"),r.removeClass("bui-u-hidden").addClass("bui-u-show")):(_.removeClass("blackbird-theme-filters--highlighted"),n.removeClass("filter-selected--border"),r.removeClass("bui-u-show").addClass("bui-u-hidden")),a(".blackbird-theme-filters__carousel").addClass("bb_loading_state"),_r_()}(e,this.checked),_r_()}),a(document).on("click",".blackbird-theme-filters__item",function(e){_i_("269:15449038");var t=a(this),i=t.find(".bui-card__image-container"),n=Number(t.attr("data-filter-value"));"mdot"!==B.env.b_site_type||i.hasClass("filter-selected--border")||n&&s.goalWithValue("js_theme_filter_usage_mdot",n),_r_()}),_r_(),_r_()}(),_r_()}),function(){_i_("269:e2d36877");var l="ODREGZUTPOOOCaJebTZWKNUMEJXO",c="ODREGZUTPOOOCaJebTZWKNUMEfTRe";B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:01cb51e9");var n=e("et"),t=e("search/searchbox/model").getInstance("main"),i=$(".js-sb-frm-hp"),r=1,_=2,o=3,a=4,s=5;i.length?i.on("click",function(){_i_("269:f7ed2539"),n.customGoal(l,r),n.customGoal(c,r),_r_()}).on("click",".xp__dates",function(){_i_("269:2a6d7166"),n.customGoal(l,_),n.customGoal(c,_),_r_()}).on("click",".xp__guests",function(){_i_("269:316b721e"),n.customGoal(l,o),n.customGoal(c,o),_r_()}):$(document).on("click",".js-hp-availability-section .hp-date-input, .js-async-room-lightbox-date-picker .sb-date-field",function(){_i_("269:9ac31f31"),n.customGoal(l,_),n.customGoal(c,_),_r_()}).on("click",".js-hp-availability-section .hp-section-row__group-search select, .js-async-room-lightbox-date-picker select",function(){_i_("269:79965503"),n.customGoal(l,o),n.customGoal(c,o),_r_()}).on("click","#availability_target.js-hp-availability-section, .js-async-room-lightbox-date-picker",function(){_i_("269:9d05a66d"),n.customGoal(l,r),n.customGoal(c,r),_r_()}),t.on("change",function(e){_i_("269:7cbddfa4"),e&&e.group&&function(t){_i_("269:f22b244c");var i=function(){_i_("269:82aee451"),$(document).off("mousedown.trackHpSbSubmit"),_r_()};i(),$(document).on("mousedown.trackHpSbSubmit",function(e){_i_("269:f24e4f47"),$(e.target).closest('#hotelpage_availform button[type="submit"], .js-sb-frm-hp button[type="submit"]').length&&("dates"===t?(n.customGoal(l,a),n.customGoal(c,a)):"group"===t&&(n.customGoal(l,s),n.customGoal(c,s))),i(),_r_()}),_r_()}(e.group),_r_()}),_r_()}),_r_()}(),B.when({action:["searchresults","hotel"],events:"load",condition:$(".car_rentals_discount_header--container").length}).run(function(e){_i_("269:1ae89c10"),$(".car_rentals_discount_header--container").addClass("car_rentals_discount_header--animate"),_r_()}),B.when({condition:"hotel"==B.env.b_action&&B.env.b_hotel_is_in_free_breakfast_experiment&&B.env.b_source_page&&"searchresults"==B.env.b_source_page}).run(function(e){_i_("269:0354baa2"),e("et").goalWithValue("js_genius_hotel_page_opened",1),_r_()}),B.define("watcher",function(e,t,i){"use strict";_i_("269:04598cf31");var u=e("jquery"),r=e("utils/throttled"),f=[],p=[];function n(t,e,i){_i_("269:fadcf08b1");var n=f.filter(function(e){return _i_("269:d8f694c22"),_r_(e.el===t&&e.parent===i)})[0];if(!n)return _r_();var r=p.filter(function(e){return _i_("269:9d4e9b452"),_r_(e.el===i)})[0];if(e){var _=n.conditions.indexOf(e);n.conditions.splice(_,1),n.checks.splice(_,1),0===n.checks.length&&r.children.splice(r.children.indexOf(n),1)}else r.children.splice(r.children.indexOf(n),1);0===r.children.length&&(u(n.parent).off("resize scroll",r.handler),p.splice(p.indexOf(r),1)),_r_()}function _(_,t,o,a,s){_i_("269:2b4917031");var l=u(_),c=u(t),d=s&&"function"==typeof s,h=t===window,e=function(){_i_("269:2391de691");var e=l.offset().top,t=l.innerHeight(),i={top:e,bottom:e+t,height:t},n=h?window.pageYOffset:c.offset().top,r=h?c.height():c.innerHeight();o(i,{top:n,bottom:n+r,height:r})?a(_):d&&s(_),_r_()},i=f.filter(function(e){return _i_("269:d8f694c23"),_r_(e.el===_&&e.parent===t)})[0];i?(i.conditions.push(o),i.checks.push(e)):(i={el:_,parent:t,conditions:[o],checks:[e]},f.push(i));var n=p.filter(function(e){return _i_("269:9d4e9b453"),_r_(e.el===t)})[0];n?n.children.push(i):(n={el:t,children:[i],handler:r(function(){_i_("269:3ef8b0391"),n.children.forEach(function(e){_i_("269:fa0590ce1"),e.checks.forEach(function(e){_i_("269:0af2e9441"),e(),_r_()}),_r_()}),_r_()},150)},p.push(n),c.on("resize scroll",n.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("269:b78d60b61"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("269:74e6c26e1"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("269:a70bfd921"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("269:08d1ea981"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)},isPartiallyInViewport:function(e,t){return _i_("269:43d0faf81"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top>=t.top&&e.top<=t.bottom||e.bottom>=t.top&&e.bottom<=t.bottom)}},unwatch:function(e,t,i){_i_("269:7ec0c4c11"),i=i instanceof u?i[0]:i||window,e instanceof u?e.each(function(){_i_("269:cdfeb4df1"),n(this,t,i),_r_()}):n(e,t,i),_r_()},watch:function(n,r){return _i_("269:bed8bf4e1"),_r_({when:function(i){return _i_("269:4a13cbc21"),r=r instanceof u?r[0]:r||window,_r_({then:function(e,t){if(_i_("269:c0457ca31"),n instanceof u)n.each(function(){_i_("269:d244cd941"),_(this,r,i,e,t),_r_()});else{if(!(n instanceof Node))throw new TypeError("invalid element provided to watcher");_(n,r,i,e,t)}_r_()}})}})}})}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:b30d8507");var t=e("events");function i(e){if(_i_("269:4d3c11fe"),B.et.track("IZVNYeCIObTdLTLATZdSGWUC")<2)return _r_();this.elList=e.querySelector(".js-reviews-list"),this.featuredReviews=this.elList?[].slice.call(this.elList.querySelectorAll(".js-featured-review-item")):[],this.photoMatchedReviews=this.elList?[].slice.call(this.elList.querySelectorAll(".js-photo-matched-review-item")):[],this.elList&&0<this.featuredReviews.length&&this.bindEvents(),_r_()}i.prototype={bindEvents:function(){_i_("269:6ba2030a"),t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,this.onImageChange.bind(this)),_r_()},onImageChange:function(e){if(_i_("269:e9f04b2b"),this.showHiddenFeaturedReviews(),this.hideAllPhotoMatchedReviews(),e&&e.modal){var t=e.modal.activePhotoId,i=this.showReviewsForPhoto(t);this.trimReviewList(i)}_r_()},showHiddenFeaturedReviews:function(){_i_("269:54ecc693"),this.removeHidden(this.featuredReviews),_r_()},hideAllPhotoMatchedReviews:function(){_i_("269:e573f0c3"),this.addHidden(this.photoMatchedReviews),_r_()},showReviewsForPhoto:function(e){_i_("269:e7e6442b");var t=this.getReviewsForPhoto(e);return this.removeHidden(t),_r_(t)},getReviewsForPhoto:function(t){return _i_("269:c3f1186f"),_r_(this.photoMatchedReviews.filter(function(e){return _i_("269:157da9d0"),_r_(e.getAttribute("data-photo-id")===t)}))},trimReviewList:function(e){_i_("269:ad053f78");var t={};e.forEach(function(e){_i_("269:1e38fe15"),t[e.getAttribute("data-review-id")]=!0,_r_()});var i=10-Object.keys(t).length;this.featuredReviews.forEach(function(e){_i_("269:45ae9a97"),(e.getAttribute("data-review-id")in t||i<=0)&&e.classList.add("hidden"),i--,_r_()}),_r_()},removeHidden:function(e){_i_("269:86b62fc7"),e.forEach(function(e){_i_("269:131103e2"),e.classList.remove("hidden"),_r_()}),_r_()},addHidden:function(e){_i_("269:639db374"),e.forEach(function(e){_i_("269:19471d4e"),e.classList.add("hidden"),_r_()}),_r_()}},new i(document.getElementById("hotel_main_content")),_r_()}),B.when({action:"hotel",condition:B.env.b_has_bundle_in_rate_plan,events:"ready"}).run(function(e){_i_("269:0f584249");var c=e("jquery"),t={hotel_id:B.env.b_hotel_id,aid:B.env.b_aid,lang:B.env.b_selected_language};c.ajax({url:"/bundle_services",data:t,success:function(e){if(_i_("269:8ec345d0"),!e.bundle_service_mapping)return _r_();var t;for(var i in e.bundle_service_mapping){var n=e.bundle_service_mapping[i],r=[];for(t=0;t<n.services.length;t++)r=r.concat(n.services[t].photos.allPhotos);r=r.filter(function(e){return _i_("269:83dcc652"),_r_(e&&e.url)});var _=c("#bundle_service_modal_"+i);if(_.length){var o=parseFloat(_.attr("data-vector-id")),a=0,s=0,l=0;32<=o&&(a=0,o-=32),16<=o&&(a=1,o-=16),8<=o&&(s=0,o-=8),4<=o&&(s=1,o-=4),2<=o&&(l=0,o-=2),1<=o&&(o-=l=1),n.has_breakfast==l&&n.has_lunch==s&&n.has_dinner==a||B&&B.reportError&&B.reportError(new Error("We are displaying a conflicting bundle/mealplan vector combination"),"Bundle Error",{b_hotel_id:B.env.b_hotel_id,bundle_id:i,checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date}),_.html(B.jstmpl("bundle_service_modal").render({fe_bundle_id:i,fe_bundle:n,fe_photos:r})),c(".js-bundle-information-container[data-bundle-id="+i+"] .js-hprt-bundle-no-link--placeholder").addClass("g-hidden"),c(".js-bundle-information-container[data-bundle-id="+i+"] .js-hprt-bundle-modal-link").removeClass("g-hidden")}}_r_()}}),_r_()}),booking.browserStorageHandler=function(c,e,d,h){_i_("269:a11e61ce");var u=!1;try{(u=!(!c.localStorage||!c.sessionStorage))&&c.localStorage.setItem("btest","1")}catch(e){u=!1}var n={_readCookie:function(e){_i_("269:51d0b270");var t={};try{"undefined"!=typeof JSON&&(t=JSON.parse(h.cookie(e))||{})}catch(e){}return _r_(t)},_modifySingleValue:function(e,t,i,n,r){if(_i_("269:22c7266b"),!t||!i)return _r_(!1);if(u&&!r){var _="session"===e?c.sessionStorage:c.localStorage;if("delete"===t)_.removeItem(i);else try{_.setItem(i,n)}catch(e){}}else{var o,a,s,l;"session"===e?o="bs":(o="b",l=30),a=this._readCookie(o),"delete"===t?delete a[i]:a[i]=n,s=h.isEmptyObject(a)?null:JSON.stringify(a),h.cookie(o,s,{expires:l,path:"/",domain:d.b_domain_end})}_r_()},_getValue:function(e,t,i){if(_i_("269:f1ea0118"),!t)return _r_(void 0);if(u&&!i){var n="session"===e?c.sessionStorage:c.localStorage;return _r_(n.getItem(t))}var r,_;return r="session"===e?"bs":"b",_=this._readCookie(r),_r_(_[t])}};return _r_({addSessionValue:function(e,t,i){return _i_("269:b380b492"),_r_(n._modifySingleValue("session","add",e,t,i))},deleteSessionValue:function(e,t){return _i_("269:d61f09c2"),_r_(n._modifySingleValue("session","delete",e,void 0,t))},getSessionValue:function(e,t){return _i_("269:d6b8f5d6"),_r_(n._getValue("session",e,t))},addPermanentValue:function(e,t,i){return _i_("269:fe0aaa49"),_r_(n._modifySingleValue("permanent","add",e,t,i))},deletePermanentValue:function(e,t){return _i_("269:99a942db"),_r_(n._modifySingleValue("permanent","delete",e,void 0,t))},getPermanentValue:function(e,t){return _i_("269:07d7aebb"),_r_(n._getValue("permanent",e,t))},isLocalStorageSupported:function(){return _i_("269:1bca3a3a"),_r_(u)}})}(window,document,booking.env,window.jQuery),booking.define&&booking.define("browser-storage-handler",booking.browserStorageHandler),_i_("269:06c04856"),B.when({action:"hotel",events:"ready"}).run(function(i){_i_("269:73d62e12");var _=i("jquery");!function(){_i_("269:8ba44c49");var e=_(".js-qa-read-more"),r=_(".js-property-questions").data("totalQuestions"),t=i("sliding-panel-model");e.on("click",function(e){if(_i_("269:1e7b2304"),6<r){var t=_(this).parents(".js-guest-question-carousel-card").index(),i=_(".sliding-panel-widget").find(".js-guest-question").eq(t);setTimeout(function(){_i_("269:2dcb791a"),i.find(".bui-card").attr("tabindex","1").trigger("focus"),_r_()},500)}else{var n=_(e.currentTarget);n.parents(".question-answer_truncated").removeClass("question-answer_truncated"),n.hide()}_r_()}),_(".js-truncated-text").each(function(){_i_("269:a4d3db03");var e=_(this);e.height()<e.prop("scrollHeight")&&e.next(".js-qa-read-more").show(),_r_()}),t.get("hp-qna-sliding").on("sliding-panel/hide",function(){_i_("269:d33abee0"),_(".sliding-panel-widget .js-guest-question .bui-card").removeAttr("tabindex"),_(".sliding-panel-widget-scrollable").scrollTop(0),_r_()}),_r_()}(),_r_()}),_r_(),B.define("component/ask-question-survey",function(e,t,i){_i_("269:e8199a5a");var _=e("jquery"),o=e("events"),n=e("component"),a=e("browser-storage-handler"),r="g-hidden",s="user_submitted_question_now",l="user_replied_to_ask_question_survey",c="no";i.exports=n.extend({init:function(){_i_("269:069fbd57");var i=this.$el.data("survey-id"),n="ask-question-survey-reply-"+i,r="ask-question-survey-submit-question-"+i,e="property_questions_form_"+B.env.b_hotel_id;this.surveyReplyPreviously=a.getPermanentValue(n)||"",this.submitQuestionViaSurveyPreviously=a.getPermanentValue(r)||!1,this.submitQuestionPreviously=a.getPermanentValue(e)||!1,this.$entryView=this.$el.find('[data-view="ask-question-entry"]'),this.$repliedNoView=this.$el.find('[data-view="user-replied-no"]'),this.$questionSubmittedView=this.$el.find('[data-view="user-submitted-question"]'),o.on(s,function(e,t){_i_("269:fd631a9b"),"survey"==e?t==i?(this.submitQuestionViaSurvey=!0,a.addPermanentValue(r,this.submitQuestionViaSurvey)):this.submitQuestionViaSurveyPreviously=!0:this.submitQuestionPreviously=!0,this.renderSurveyViews(),_r_()}.bind(this)),this.$el.find(".js-ask-question-survey-link").on("click",function(e){_i_("269:1f9ba770"),e.preventDefault();var t=_(e.currentTarget);this.surveyReply=t.data("reply"),this.surveyReply&&(a.addPermanentValue(n,this.surveyReply),this.renderSurveyViews(),o.emit(l,t,i,this.surveyReply)),_r_()}.bind(this)),this.renderSurveyViews(),_r_()},renderSurveyViews:function(){_i_("269:23f422db"),this.submitQuestionViaSurvey?(this.$entryView.addClass(r),this.$repliedNoView.addClass(r),this.$questionSubmittedView.removeClass(r)):(this.submitQuestionPreviously||this.submitQuestionViaSurveyPreviously||this.surveyReplyPreviously?(this.$entryView.addClass(r),this.$repliedNoView.addClass(r)):this.surveyReply==c?(this.$entryView.addClass(r),this.$repliedNoView.removeClass(r)):(this.$entryView.removeClass(r),this.$repliedNoView.addClass(r)),this.$questionSubmittedView.addClass(r)),_r_()}}),_r_()}),B.define("component/surveygizmo_survey_www",function(e,t,i){_i_("269:3fd331ec");var n,r=e("component"),_=e("jquery"),o=e("jstmpl"),a=[],s={};try{s=JSON.parse(window.localStorage.getItem("survey_history"))||{}}catch(e){s={}}i.exports=r.extend({init:function(){_i_("269:f21b5ce4"),this.title=this.$el.data("survey-title"),this.description=this.$el.data("survey-description"),this.agree_btn=this.$el.data("survey-agree-btn"),this.cancel_btn=this.$el.data("survey-cancel-btn"),this.survey_url=this.$el.data("survey-url")||"",this.survey_url_base=this.survey_url.split("?")[0],s[this.survey_url_base]||a.push(this),_i_("269:075f90b4"),n&&clearTimeout(n),n=setTimeout(function(){if(_i_("269:329ffc49"),0<a.length){var e=Math.floor(1e3*Math.random())%a.length;a[e].runSurvey()}_r_()},500),_r_(),_r_()},runSurvey:function(){_i_("269:5ad58437");var e=this.$el;!function(e){_i_("269:e1d5a86c");try{s[e]=1,window.localStorage.setItem("survey_history",JSON.stringify(s))}catch(e){}_r_()}(this.survey_url_base);var t=_(o("surveygizmo_survey_invite_www").render({title:this.title,description:this.description,agree_btn:this.agree_btn,cancel_btn:this.cancel_btn,survey_url:this.survey_url}));e.append(t),t.on("click",".js-surveygizmo-survey-cancel",function(){return _i_("269:9c5b56bd"),t.addClass("surveygizmo-survey-invite--hidden"),setTimeout(function(){_i_("269:fa934b29"),t.remove(),_r_()},200),_r_(!1)}),t.on("click",".js-surveygizmo-survey-ok",function(){return _i_("269:ce551b46"),t.remove(),window.open(e.data("survey-url"),"_blank"),_r_(!1)}),setTimeout(function(){_i_("269:c3625f0c"),t.removeClass("surveygizmo-survey-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("surveygizmo_survey_invite_www",function(){_i_("269:73644f8f");var n=['\n    <div class="surveygizmo-survey-invite surveygizmo-survey-invite--hidden">\n        <div class="surveygizmo-survey-invite__title">','</div>\n        <div class="surveygizmo-survey-invite__description">','</div>\n        <div class="surveygizmo-survey-invite__buttons-wrapper">\n            <a class="surveygizmo-survey-invite__button js-surveygizmo-survey-cancel">\n                ','\n            </a>\n            <a class="surveygizmo-survey-invite__button surveygizmo-survey-invite__button--primary js-surveygizmo-survey-ok">\n                ',"\n            </a>\n        </div>\n    </div>\n"],r=["title","description","cancel_btn","agree_btn"];return _r_(function(e){_i_("269:2dc4dd8e");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1],i.MC(r[1]),n[2],i.MC(r[2]),n[3],i.MC(r[3]),n[4]].join(""),_r_(t)})}()),B.when({events:"ready"}).run(function(e){_i_("269:9d45f72e");var a=e("jquery"),s=B.require("utils/uuid4"),t=e("hotel/store"),l=e("server-data"),c={relevance_metric_id:"",pageview_id:"",blocksPosition:{},$bookForm:a("#hprt-form"),trackBlocksOrder:function(){_i_("269:f1cb4d72");var e,t,i,n,r=a(".js-rt-block-row:not(.tpi_room_block__rt)"),_=[],o=0;r.each(function(){_i_("269:4569f4f3"),t=a(this).data("block-id"),i=t.split("_")[0],e!==i&&(e=i,o++,n=0),_.push(t),c.blocksPosition[t]=o+"."+ ++n,_r_()}),c.relevance_metric_id=s(),a.ajax({method:"POST",dataType:"json",url:"/log_rt_blocks_order",data:{hotel_id:l.b_hotel_id,block_ids:_.join(","),relevance_metric_id:c.relevance_metric_id}}).done(function(e){_i_("269:d9df4312"),c.pageview_id=e.pageview_id,_r_()}),_r_()},blocksOrder:function(){return _i_("269:709b1aa4"),_r_(Object.keys(t.getState().roomsTable.js_selection.blocks).map(function(e){return _i_("269:09f3de6b"),_r_(c.blocksPosition[e])}).join(","))},submit2BP:function(){_i_("269:e56ce0d7"),c.$bookForm.find("input[name=rt_relevance_metric_id]").val(c.relevance_metric_id),c.$bookForm.find("input[name=rt_pageview_id]").val(c.pageview_id),c.$bookForm.find("input[name=rt_pos_final]").val(c.blocksOrder()),_r_()},kickstart:function(){_i_("269:fdb2c0a2"),c.$bookForm.submit(c.submit2BP),c.trackBlocksOrder(),_r_()}};c.kickstart(),_r_()}),booking.jstmpl("unit_review_score",function(){_i_("269:0454f146");var b,m=["\n    ",'<div class="rt-unit-review-score" data-component="hotel/new-rooms-table/unit-review-score" data-room-id="','" data-room-name="','">\n    ','\n        <p><span class="unit-reviews-label">\n            ',"\n                ","/private/bh_mup_rt_unit_reviews_score_apt/name","\n            ","/private/bh_mup_rt_unit_reviews_score_room/name","/private/bh_mup_rt_unit_reviews_score_accom/name",'\n        </span></p>\n        <div data-component="hotel/new-rooms-table/unit-reviews" data-bui-component="Popover" data-popover-content-id="rt-unit-review-scores-','" data-popover-position="bottom start" tabindex="0" aria-label="room review score" class="rt-unit-review-score">\n            '," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","","\n",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/extl_reviews_no_bcom_reviews/name","/private/comp_num_reviews_sr_page/name","</div> ","1","\n        </div>\n        ",'\n            <div id="rt-unit-review-scores-','" class="bui-panel rt-unit-review-scores__panel js-unit-review-breakdown">\n                <div class="bui-popover__arrow rt-unit-review-scores__panel-arrow"></div>\n                <p class="rt-unit-review-scores__label">',"/private/bh_mup_rt_unit_reviews_score_bd_unit_name/name","</p>\n                ","\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    ","\n\n\n    \n    \n    ","\n        ","\n\n\n    \n    \n\n    \n    ",'<div class="c-subscores clearfix">\n','<div class="c-subscores__header">\n',"</div>\n",'<div class="c-subscores__column">\n','<div class="c-subscores__hide">\n','<div class="c-score-bar" >','<span class="c-score-bar__title">',"&nbsp;","iconset/arrow_up_bold","small","iconset/arrow_down_bold","</span>",'<span class="c-score-bar__score">','</span>\n            <div class="c-score-bar__bar">\n                <span class="c-score-bar__value"\n                      data-value="','"\n                      style="width:','%"></span>\n            </div>\n        </div>','</div><div class="c-subscores__column">\n','<div class="c-subscores__footer">\n<button type="button"\ndata-js-breakdown-show-more="1"\nclass="c-subscores__show-more">\n',"/private/comp_reviews_subscores_show_more/name","\n</button>\n</div>\n","0","\n\n\n\n","\n\n",'\n\n<div class="',"review_list_score_container hp_subscore_explanation_container",'">\n    <div class="v2_review-scores__wrapper ugc-sub-scores">\n        ','\n            <div class="v2_review-scores__header">\n                <div class="bui-review-score__link hotel_details__reviews--overview reviews_entrypoint_wrap js-property-reviews-block">\n                    <a href="#ugc-block" class="ugc-block--score__link">\n                        ',"\n\n\n","\n  ","   ","        ","             ","    ","     ","         ","      ","  ","\n\n        ","/private/m_ugcx_prop_page_reviews_entry/name",'\n\n<div class="u-font-weight:bold u-color:bright_blue hp_m_review_score_bui_break_lines">\n    ','\n\n    <div class="bui-review-score__text">\n        ',"/private/m_pp_num_reviews_entry/name","\n    </div>\n</div>","\n                    </a>\n                </div>\n            </div>\n        ",'\n        <div class="'," v2_review-scores__body v2_review-scores__body--compared_to_average ","v2_review-scores__body--collapsed","v2_review-scores__body--full-collapsed",'">\n              ','\n              <ul class="'," v2_review-scores__subscore__inner v2_review-scores__subscore__inner-compared_to_average ","v2_review-scores__subscore__inner-single_column","v2_review-scores__subscore__inner-two_columns","hp_subscore_explanation_view",'\n              ">\n              ',"\n                    ","\n\n                        ","\n                            ","\n                        ","\n                          ","\n\n                        \n                        ","\n                            \n                            ",'\n                                </ul>\n                                <ul class="v2_review-scores__subscore__inner v2_review-scores__subscore__inner-two_columns v2_review-scores__subscore__inner-compared_to_average">\n                            ',"\n\n                            \n                            ","\n                                \n                                ","\n                                ","\n\n                            ",'\n\n                        <li class="v2_review-scores__subscore ',"hp_subscore_explanation_item_desktop",'">\n                            ','\n                                <div class="hp_subscore_explanation_block__wrapper\n                                    ',"hp_subscore_explanation_summary_off",'">\n                                    ',"\n                                        ","\n                                            ","\n                                                ","\n\n                                        ",'\n                                            <div class="reviews-summary_text">\n                                                ',"streamline/thumbs_up",'\n                                                <span class="hp_subscore_explanation_item bui-f-font-caption">\n                                                    ',"\n                                                </span>\n                                            </div>\n                                        ","reviews-summary_thumbs reviews-summary_thumbs_down","streamline/thumbs_down","\n                                    ","\n                                </div>\n                            ","\n                        </li>\n\n                        ","\n\n                    ","\n              ","\n            </ul>\n\n            ",'\n                <div class="v2_review-scores__body__legend ',"bui-u-text-right",'">\n                    ','\n                        <span class="v2_review-scores__body__legend__rating_better">\n                            ',"/private/m_review_tab_high_score_for_ufi/name","\n                        </span>\n                    ",'\n                        <span class="v2_review-scores__body__legend__rating_worse">\n                            ',"/private/m_review_tab_low_score_for_ufi/name","\n                </div>\n            ","\n\n            ","\n                \n                ",'<button\n    class="bui-button bui-button--secondary bui-button--wide review-block-cta js-review-tab-link css-loading-hidden"\n    type="button"\n    data-no-toggle="true"\n    data-tab-target="htReviews"\n    data-reviews-url="',";rid=",';r_lang="\n>\n    <span class="bui-button__text">\n        ',"/private/mdot_extl_reviews_yes_bcom_pp_read_button/name","/private/ugc_m_hp_reviews_read_cta/name","\n    </span>\n</button>\n",'\n\n                <button class="bui-button bui-button--tertiary v2_review-scores__toggle js-toggle-score-breakdown">\n                    <span class="bui-button__text v2_review-scores__show_summary">\n                        ',"/private/ugcx_mdot_reviews_show_summary/name",'\n                    </span>\n                    <span class="bui-button__text v2_review-scores__hide_summary">\n                        ',"/private/ugcx_mdot_reviews_hide_summary/name",'\n                    </span>\n                    <span class="bui-button__icon bui-button__icon--end">\n                        ',"streamline/arrow_menu","16","\n                    </span>\n                </button>\n            ","\n\n        </div>\n    </div>\n</div>\n\n","\n            \n            ","\n        \n    ","\n\n    \n    \n    ","\n            </div>\n        ","\n</div>"],v=["room_id","room_name","room_type","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_score_inline","fe_score_formatted","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_calc_score_formatted","fe_reviews_number","data","b_site_type","b_unit_scores","is_unit_scores","b_review_customer_types","fe__score_total","fe__score_total_detailed","fe__score_reviews_nr","b_breakfast_included_available","b_mealplan_highlight","fe__breakfast_included","fe__meal_plan_breakfast","fe__is_www","fe__is_tdot","fe__is_mdot","fe_modifier_split","fe_show_more","fe_subscores","fe_show_breakfast","fe_length","fe_can_split","fe_count_loop","fe_title","fe_score_color_class","fe_width","fe__can_show_breakfast","fe__show_more","fe__subscored","fe_enable_subscore_summaries","b_review_subscore_summaries","fe_single_column","fe_complete_text_for_length_check_only","score","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","b_review_score_detailed","b_review_nr","fe_break_line_lim","fe_modifier_inline_val","fe_hide_review_score","fe_expandable_breakdown","fe_full_collapse","b_ufi","fe_two_columns","b_questions","b_question","b_score_detailed","b_hotel_has_wifi_free","b_decode_internet_policies","fe_question_loop_count","fe_med_average_scores","fe_question","fe_med_score_lower","fe_med_score_upper","fe_med_score","fe_avg_score_formatted","review_question_name","fe_review_subscore_summary","fe_positive_text","fe_negative_text","fe_thumbs_up_class","b_customer_type","fe_right_aligned_legend","fe_show_legend_better","fe_show_legend_worse","b_first_screen_url","b_param_rid","b_companyname","fe_show_external_reviews","fe__split_subscores","fe__reviews_number","fe__score","breakdown_enabled","show_breakdown","data_fetched"];return _r_(function(u){_i_("269:4ad96ffb");var e,t="",f=this.fn;function i(e){if(_i_("269:d9977717"),f.MJ(f.MB(v[41]))&&f.MJ(0<f.array_length(f.MB(v[41])))){f.MN("fe_can_split",f.MB(v[39])&&f.MK(f.MB(v[40]))),f.MN("fe_length",0),f.MN("fe_count_loop",0);var t=f.MC(v[41])||[];u.unshift({subscore:null});for(var i=1,n=t.length;i<=n;i++){if(u[0].subscore=r=t[i-1],f.MJ(r.b_question+""=="total"))continue;if(f.MJ(r.b_question+""=="breakfast")&&f.MK(f.MB(v[42]))&&f.MJ(r.b_score_detailed<7))continue;f.MN("fe_length",f.MI(f.MB(v[43]))+f.MI(1))}u.shift(),e+=m[47],f.MD(v[15])&&(e+=m[48],u.unshift({fe_modifier_inline:f.MB(v[7]),fe_reviews_number:f.MB(v[23]),fe_score:f.MB(v[15]),fe_show_adjective:f.MB(v[16])}),e=function(e){if(_i_("269:6aac3383"),e+=["",m[12]].join(""),f.MJ(f.MB(v[15]))||f.MJ(f.MB(v[14]))){if(f.MN("fe_classes","bui-review-score c-score"),f.MJ(f.MB(v[4]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--outline"),f.MJ(f.MB(v[5]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--end"),f.MJ(f.MB(v[6]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inverse"),f.MJ(f.MB(v[7]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inline"),f.MJ(f.MB(v[8]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--text"),f.MJ(f.MB(v[9]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--small"),f.MJ(f.MB(v[10]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--smaller"),f.MJ(f.MB(v[11]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external"),f.MJ(f.MB(v[12]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external-inline"),f.MD(v[13])?f.MN("fe_calc_score_formatted",f.MB(v[13])):(f.MJ(f.MB(v[14]))&&f.MN("fe_calc_score_formatted",0),f.MJ(f.MB(v[15]))&&f.MN("fe_calc_score_formatted",f.format_review_score_new(f.MB(v[15])))),f.MN("fe_can_show_adjective",f.MB(v[16])||f.MB(v[17])),f.MJ(f.MB(v[21]))){var t="";u.unshift({fe_hide_low_adjectives:f.MB(v[20]),fe_score:f.MB(v[15])}),t=function(e){if(_i_("269:3a461cf9"),f.MD(v[15])){var t="";f.MJ(1<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<2)&&(t+=f.ME(m[13],f.MB,f.MN,null)),f.MJ(2<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<3)&&(t+=f.ME(m[14],f.MB,f.MN,null)),f.MJ(3<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<4)&&(t+=f.ME(m[15],f.MB,f.MN,null)),f.MJ(4<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<5)&&(t+=f.ME(m[16],f.MB,f.MN,null)),f.MJ(5<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<6)&&(t+=f.ME(m[17],f.MB,f.MN,null)),f.MJ(6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<7)&&(t+=f.ME(m[18],f.MB,f.MN,null)),f.MJ(7<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8)&&(t+=f.ME(m[19],f.MB,f.MN,null)),f.MJ(8<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8.6)&&(t+=f.ME(m[20],f.MB,f.MN,null)),f.MJ(8.6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9)&&(t+=f.ME(m[21],f.MB,f.MN,null)),f.MJ(9<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9.5)&&(t+=f.ME(m[22],f.MB,f.MN,null)),f.MJ(9.5<=f.MB(v[15]))&&(t+=f.ME(m[23],f.MB,f.MN,null)),f.MN(v[19],t),f.MJ(f.MB(v[20]))&&f.MJ(f.MB(v[15])<7)&&f.MN(v[19],f.ME(m[24],f.MB,f.MN,null)),e+=[f.MC(v[19]),m[25]].join("")}return f.MN("fe_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_score",0),e+=m[26],_r_(e)}(t),u.shift(),f.MN(v[18],t),f.MJ(f.MB(v[17]))&&f.MN("fe_adjective_text",f.MB(v[17]))}e+=[m[27],f.F.entities(f.MC(v[3])),m[28],(u.unshift({review_score_number:f.MB(v[13])}),b=f.ME(m[29],f.MB,f.MN,null),u.shift(),b),m[30],f.F.entities(f.MC(v[22])),m[31]].join(""),f.MD(v[18])&&(e+=[m[32],f.MC(v[18]),m[31]].join(""),f.MD(v[23])&&(e+=m[33],f.MD(v[11])?e+=[(u.unshift({total_num_reviews:f.MI(f.MB(v[23]))+f.MI(0)}),b=f.ME(m[34],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[34])),u.shift(),b),m[12]].join(""):e+=[(u.unshift({num_reviews:f.format_number(f.MB(v[23]))}),b=f.ME(m[35],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[35])),u.shift(),b),m[12]].join(""),e+=m[36]),e+=m[36]),e+=m[36]}return f.MN("fe_adjective_text",0),f.MN("fe_allow_zero",0),f.MN("fe_classes",0),f.MN("fe_custom_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_modifier_end",0),f.MN("fe_modifier_inline",0),f.MN("fe_modifier_inverse",0),f.MN("fe_modifier_outline",0),f.MN("fe_modifier_text",0),f.MN("fe_reviews_number",0),f.MN("fe_score",0),f.MN("fe_score_formatted",0),f.MN("fe_calc_score_formatted",0),f.MN("fe_show_adjective",0),e+=["",m[12]].join(""),e+=m[26],_r_(e)}(e),u.shift(),e+=m[49]),f.MD(v[44])&&(e+=m[50]);t=f.MC(v[41])||[];u.unshift({subscore:null});var r;for(i=1,n=t.length;i<=n;i++){if(u[0].subscore=r=t[i-1],f.MJ(r.b_question+""=="total"))continue;if(f.MJ(r.b_question+""=="breakfast")&&f.MK(f.MB(v[42]))&&f.MJ(r.b_score_detailed<7))continue;f.MN("fe_count_loop",f.MI(f.MB(v[45]))+f.MI(1)),f.MJ(f.MB(v[40]))&&f.MJ(3<f.MB(v[45]))&&(e+=m[51]),u.unshift({fe_score:f.MG((r||{}).b_score_detailed),fe_title:f.MG((r||{}).review_question_name)}),e=_(e),u.shift(),f.MJ(f.MB(v[40]))&&f.MJ(3<f.MB(v[45]))&&(e+=m[49]),f.MJ(f.MB(v[44]))&&f.MJ(f.MB(v[45])==parseInt(f.MI(f.MI(f.MB(v[43]))/f.MI(2))+f.MI(.5)))&&(e+=m[63])}u.shift(),f.MD(v[44])&&(e+=m[49]),f.MD(v[40])&&(e+=[m[64],f.ME(m[65],f.MB,f.MN,null),m[66]].join("")),e+=m[49]}return f.MN("fe_can_split",0),f.MN("fe_count_loop",0),f.MN("fe_length",0),f.MN("fe_modifier_inline",0),f.MN("fe_modifier_split",0),f.MN("fe_reviews_number",0),f.MN("fe_score",0),f.MN("fe_show_adjective",0),f.MN("fe_show_breakfast",0),f.MN("fe_show_more",0),f.MN("fe_subscores",0),f.MN("fe_title",0),_r_(e)}function _(e){return _i_("269:098f1ed3"),e+=m[25],f.MJ(f.MB(v[15]))&&(e+=m[25],f.MN("fe_width",f.MI(f.MB(v[15]))*f.MI(10)),e+=m[52],f.MD(v[46])&&(e+=[m[53],f.MC(v[46]),m[25]].join(""),f.MJ(f.MB(v[47]))&&(e+=m[25],f.MJ(f.MB(v[47])+""=="subscore_better")?(e+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?e+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?e+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):e+=[m[25],(u.unshift({color:"#97E59C",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),e+=m[25]):f.MJ(f.MB(v[47])+""=="subscore_worse")&&(e+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?e+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?e+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):e+=[m[25],(u.unshift({color:"#FCB4B4",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),e+=m[25]),e+=m[25]),e+=m[58]),e+=[m[59],f.F.entities(f.format_review_score_new(f.MB(v[15]))),m[60],f.format_review_score_new(f.MB(v[15])),m[61],f.F.entities(f.MC(v[48])),m[62]].join("")),e+=m[25],f.MN("fe_title",0),e+=m[25],f.MN("fe_score",0),e+=m[25],f.MN("fe_width",0),e+=m[25],e+=m[26],_r_(e)}function p(e){if(_i_("269:779bb42a"),e+=["",m[12]].join(""),f.MJ(f.MB(v[15]))||f.MJ(f.MB(v[14]))){if(f.MN("fe_classes","bui-review-score c-score"),f.MJ(f.MB(v[4]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--outline"),f.MJ(f.MB(v[5]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--end"),f.MJ(f.MB(v[6]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inverse"),f.MJ(f.MB(v[7]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inline"),f.MJ(f.MB(v[8]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--text"),f.MJ(f.MB(v[9]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--small"),f.MJ(f.MB(v[10]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--smaller"),f.MJ(f.MB(v[11]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external"),f.MJ(f.MB(v[12]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external-inline"),f.MD(v[13])?f.MN("fe_calc_score_formatted",f.MB(v[13])):(f.MJ(f.MB(v[14]))&&f.MN("fe_calc_score_formatted",0),f.MJ(f.MB(v[15]))&&f.MN("fe_calc_score_formatted",f.format_review_score_new(f.MB(v[15])))),f.MN("fe_can_show_adjective",f.MB(v[16])||f.MB(v[17])),f.MJ(f.MB(v[21]))){var t="";u.unshift({fe_hide_low_adjectives:f.MB(v[20]),fe_score:f.MB(v[15])}),t=function(e){if(_i_("269:25ed304b"),f.MD(v[15])){var t="";f.MJ(1<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<2)&&(t+=f.ME(m[13],f.MB,f.MN,null)),f.MJ(2<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<3)&&(t+=f.ME(m[14],f.MB,f.MN,null)),f.MJ(3<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<4)&&(t+=f.ME(m[15],f.MB,f.MN,null)),f.MJ(4<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<5)&&(t+=f.ME(m[16],f.MB,f.MN,null)),f.MJ(5<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<6)&&(t+=f.ME(m[17],f.MB,f.MN,null)),f.MJ(6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<7)&&(t+=f.ME(m[18],f.MB,f.MN,null)),f.MJ(7<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8)&&(t+=f.ME(m[19],f.MB,f.MN,null)),f.MJ(8<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8.6)&&(t+=f.ME(m[20],f.MB,f.MN,null)),f.MJ(8.6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9)&&(t+=f.ME(m[21],f.MB,f.MN,null)),f.MJ(9<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9.5)&&(t+=f.ME(m[22],f.MB,f.MN,null)),f.MJ(9.5<=f.MB(v[15]))&&(t+=f.ME(m[23],f.MB,f.MN,null)),f.MN(v[19],t),f.MJ(f.MB(v[20]))&&f.MJ(f.MB(v[15])<7)&&f.MN(v[19],f.ME(m[24],f.MB,f.MN,null)),e+=[f.MC(v[19]),m[25]].join("")}return f.MN("fe_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_score",0),e+=m[26],_r_(e)}(t),u.shift(),f.MN(v[18],t),f.MJ(f.MB(v[17]))&&f.MN("fe_adjective_text",f.MB(v[17]))}e+=[m[27],f.F.entities(f.MC(v[3])),m[28],(u.unshift({review_score_number:f.MB(v[13])}),b=f.ME(m[29],f.MB,f.MN,null),u.shift(),b),m[30],f.F.entities(f.MC(v[22])),m[31]].join(""),f.MD(v[18])&&(e+=[m[32],f.MC(v[18]),m[31]].join(""),f.MD(v[23])&&(e+=m[33],f.MD(v[11])?e+=[(u.unshift({total_num_reviews:f.MI(f.MB(v[23]))+f.MI(0)}),b=f.ME(m[34],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[34])),u.shift(),b),m[12]].join(""):e+=[(u.unshift({num_reviews:f.format_number(f.MB(v[23]))}),b=f.ME(m[35],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[35])),u.shift(),b),m[12]].join(""),e+=m[36]),e+=m[36]),e+=m[36]}return f.MN("fe_adjective_text",0),f.MN("fe_allow_zero",0),f.MN("fe_classes",0),f.MN("fe_custom_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_modifier_end",0),f.MN("fe_modifier_inline",0),f.MN("fe_modifier_inverse",0),f.MN("fe_modifier_outline",0),f.MN("fe_modifier_text",0),f.MN("fe_reviews_number",0),f.MN("fe_score",0),f.MN("fe_score_formatted",0),f.MN("fe_calc_score_formatted",0),f.MN("fe_show_adjective",0),e+=["",m[12]].join(""),e+=m[26],_r_(e)}function n(e){if(_i_("269:9ba20249"),e+=["",m[12]].join(""),f.MJ(f.MB(v[15]))||f.MJ(f.MB(v[14]))){if(f.MN("fe_classes","bui-review-score c-score"),f.MJ(f.MB(v[4]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--outline"),f.MJ(f.MB(v[5]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--end"),f.MJ(f.MB(v[6]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inverse"),f.MJ(f.MB(v[7]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--inline"),f.MJ(f.MB(v[8]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--text"),f.MJ(f.MB(v[9]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--small"),f.MJ(f.MB(v[10]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--smaller"),f.MJ(f.MB(v[11]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external"),f.MJ(f.MB(v[12]))&&f.MN("fe_classes",f.MB(v[3])+" bui-review-score--external-inline"),f.MD(v[13])?f.MN("fe_calc_score_formatted",f.MB(v[13])):(f.MJ(f.MB(v[14]))&&f.MN("fe_calc_score_formatted",0),f.MJ(f.MB(v[15]))&&f.MN("fe_calc_score_formatted",f.format_review_score_new(f.MB(v[15])))),f.MN("fe_can_show_adjective",f.MB(v[16])||f.MB(v[17])),f.MJ(f.MB(v[21]))){var t="";u.unshift({fe_hide_low_adjectives:f.MB(v[20]),fe_score:f.MB(v[15])}),t=function(e){if(_i_("269:8ecc579e"),f.MD(v[15])){var t="";f.MJ(1<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<2)&&(t+=f.ME(m[13],f.MB,f.MN,null)),f.MJ(2<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<3)&&(t+=f.ME(m[14],f.MB,f.MN,null)),f.MJ(3<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<4)&&(t+=f.ME(m[15],f.MB,f.MN,null)),f.MJ(4<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<5)&&(t+=f.ME(m[16],f.MB,f.MN,null)),f.MJ(5<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<6)&&(t+=f.ME(m[17],f.MB,f.MN,null)),f.MJ(6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<7)&&(t+=f.ME(m[18],f.MB,f.MN,null)),f.MJ(7<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8)&&(t+=f.ME(m[19],f.MB,f.MN,null)),f.MJ(8<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<8.6)&&(t+=f.ME(m[20],f.MB,f.MN,null)),f.MJ(8.6<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9)&&(t+=f.ME(m[21],f.MB,f.MN,null)),f.MJ(9<=f.MB(v[15]))&&f.MJ(f.MB(v[15])<9.5)&&(t+=f.ME(m[22],f.MB,f.MN,null)),f.MJ(9.5<=f.MB(v[15]))&&(t+=f.ME(m[23],f.MB,f.MN,null)),f.MN(v[19],t),f.MJ(f.MB(v[20]))&&f.MJ(f.MB(v[15])<7)&&f.MN(v[19],f.ME(m[24],f.MB,f.MN,null)),e+=[f.MC(v[19]),m[25]].join("")}return f.MN("fe_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_score",0),e+=m[26],_r_(e)}(t),u.shift(),f.MN(v[18],t),f.MJ(f.MB(v[17]))&&f.MN("fe_adjective_text",f.MB(v[17]))}e+=[m[27],f.F.entities(f.MC(v[3])),m[28],(u.unshift({review_score_number:f.MB(v[13])}),b=f.ME(m[29],f.MB,f.MN,null),u.shift(),b),m[30],f.F.entities(f.MC(v[22])),m[31]].join(""),f.MD(v[18])&&(e+=[m[32],f.MC(v[18]),m[31]].join(""),f.MD(v[23])&&(e+=m[33],f.MD(v[11])?e+=[(u.unshift({total_num_reviews:f.MI(f.MB(v[23]))+f.MI(0)}),b=f.ME(m[34],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[34])),u.shift(),b),m[12]].join(""):e+=[(u.unshift({num_reviews:f.format_number(f.MB(v[23]))}),b=f.ME(m[35],f.MB,f.MN,f.MO(f.MI(f.MC(v[23]))+f.MI(0),null,m[35])),u.shift(),b),m[12]].join(""),e+=m[36]),e+=m[36]),e+=m[36]}return f.MN("fe_adjective_text",0),f.MN("fe_allow_zero",0),f.MN("fe_classes",0),f.MN("fe_custom_adjective",0),f.MN("fe_hide_low_adjectives",0),f.MN("fe_modifier_end",0),f.MN("fe_modifier_inline",0),f.MN("fe_modifier_inverse",0),f.MN("fe_modifier_outline",0),f.MN("fe_modifier_text",0),f.MN("fe_reviews_number",0),f.MN("fe_score",0),f.MN("fe_score_formatted",0),f.MN("fe_calc_score_formatted",0),f.MN("fe_show_adjective",0),e+=["",m[12]].join(""),e+=m[26],_r_(e)}function r(e){return _i_("269:ec70a012"),e+=["",m[43]].join(""),f.MN("fe__is_www",f.MJ(f.MC(v[25])+""=="www")),e+=m[0],f.MN("fe__is_tdot",f.MJ(f.MC(v[25])+""=="tdot")),e+=m[0],f.MN("fe__is_mdot",f.MJ(f.MC(v[25])+""=="mdot")),e+=m[44],f.MD(v[27])?(e+=m[45],f.MN("fe__score_total",f.MC(v[26]))):(e+=m[45],f.MN("fe__score_total",f.MG((f.MC(v[28])||[])[0]))),e+=m[0],e+=m[0],f.MN("fe__score_total_detailed",f.MG((((f.MC(v[29])||{}).b_questions||[])[0]||{}).b_score_detailed)),e+=m[0],f.MN("fe__score_reviews_nr",f.MG((((f.MC(v[29])||{}).b_questions||[])[0]||{}).b_review_nr)),e+=m[0],f.MN("fe__score",f.MB(v[30])?f.MB(v[30]):0),e+=m[0],f.MN("fe__reviews_number",f.MB(v[31])?f.MB(v[31]):0),e+=m[44],f.MN("fe__subscored",f.MG((f.MC(v[29])||{}).b_questions)),e+=m[44],f.MN("fe__breakfast_included",f.MC(v[32])),e+=m[0],f.MN("fe__meal_plan_breakfast",f.MC(v[33])&&f.MC(v[33]).b_decoded_mealplan_breakfast),e+=m[0],f.MN("fe__can_show_breakfast",f.MB(v[34])||f.MB(v[35])),e+=m[44],f.MN("fe__split_subscores",f.MB(v[36])||f.MB(v[37])),e+=m[0],f.MN("fe__show_more",f.MB(v[38])),e+=m[46],f.MJ(f.MB(v[27]))&&f.MJ(f.track_experiment("OOFHFfZHQFLFESFDMfQLEHSYO"))?(e+=m[45],u.unshift({fe_hide_low_adjectives:1,fe_modifier_inline:1,fe_modifier_split:0,fe_reviews_number:m[67],fe_score:m[67],fe_show_adjective:1,fe_show_breakfast:f.MB(v[49]),fe_show_more:f.MB(v[50]),fe_subscores:f.MB(v[51])}),e=function(e){if(_i_("269:43539d78"),f.MJ(f.MB(v[41]))&&f.MJ(0<f.array_length(f.MB(v[41])))){f.MN("fe_can_split",f.MB(v[39])&&f.MK(f.MB(v[40]))),f.MN("fe_length",0),f.MN("fe_count_loop",0);var t,i=f.MC(v[41])||[];u.unshift({subscore:null});for(var n=1,r=i.length;n<=r;n++){if(u[0].subscore=t=i[n-1],f.MJ(t.b_question+""=="total"))continue;if(f.MJ(t.b_question+""=="breakfast")&&f.MK(f.MB(v[42]))&&f.MJ(t.b_score_detailed<7))continue;f.MN("fe_length",f.MI(f.MB(v[43]))+f.MI(1))}for(u.shift(),e+=m[47],f.MD(v[15])&&(e+=m[48],u.unshift({fe_modifier_inline:f.MB(v[7]),fe_reviews_number:f.MB(v[23]),fe_score:f.MB(v[15]),fe_show_adjective:f.MB(v[16])}),e=p(e),u.shift(),e+=m[49]),f.MD(v[44])&&(e+=m[50]),i=f.MC(v[41])||[],u.unshift({subscore:null}),n=1,r=i.length;n<=r;n++){if(u[0].subscore=t=i[n-1],f.MJ(t.b_question+""=="total"))continue;if(f.MJ(t.b_question+""=="breakfast")&&f.MK(f.MB(v[42]))&&f.MJ(t.b_score_detailed<7))continue;f.MN("fe_count_loop",f.MI(f.MB(v[45]))+f.MI(1)),f.MJ(f.MB(v[40]))&&f.MJ(3<f.MB(v[45]))&&(e+=m[51]),u.unshift({fe_score:f.MG((t||{}).b_score_detailed),fe_title:f.MG((t||{}).review_question_name)}),_=e,_i_("269:c8bb7644"),_+=m[25],f.MJ(f.MB(v[15]))&&(_+=m[25],f.MN("fe_width",f.MI(f.MB(v[15]))*f.MI(10)),_+=m[52],f.MD(v[46])&&(_+=[m[53],f.MC(v[46]),m[25]].join(""),f.MJ(f.MB(v[47]))&&(_+=m[25],f.MJ(f.MB(v[47])+""=="subscore_better")?(_+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?_+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?_+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):_+=[m[25],(u.unshift({color:"#97E59C",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),_+=m[25]):f.MJ(f.MB(v[47])+""=="subscore_worse")&&(_+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?_+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?_+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):_+=[m[25],(u.unshift({color:"#FCB4B4",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),_+=m[25]),_+=m[25]),_+=m[58]),_+=[m[59],f.F.entities(f.format_review_score_new(f.MB(v[15]))),m[60],f.format_review_score_new(f.MB(v[15])),m[61],f.F.entities(f.MC(v[48])),m[62]].join("")),_+=m[25],f.MN("fe_title",0),_+=m[25],f.MN("fe_score",0),_+=m[25],f.MN("fe_width",0),_+=m[25],_+=m[26],e=_r_(_),u.shift(),f.MJ(f.MB(v[40]))&&f.MJ(3<f.MB(v[45]))&&(e+=m[49]),f.MJ(f.MB(v[44]))&&f.MJ(f.MB(v[45])==parseInt(f.MI(f.MI(f.MB(v[43]))/f.MI(2))+f.MI(.5)))&&(e+=m[63])}u.shift(),f.MD(v[44])&&(e+=m[49]),f.MD(v[40])&&(e+=[m[64],f.ME(m[65],f.MB,f.MN,null),m[66]].join("")),e+=m[49]}var _;return f.MN("fe_can_split",0),f.MN("fe_count_loop",0),f.MN("fe_length",0),f.MN("fe_modifier_inline",0),f.MN("fe_modifier_split",0),f.MN("fe_reviews_number",0),f.MN("fe_score",0),f.MN("fe_show_adjective",0),f.MN("fe_show_breakfast",0),f.MN("fe_show_more",0),f.MN("fe_subscores",0),f.MN("fe_title",0),_r_(e)}(e),u.shift(),e+=m[0]):(e+=m[45],f.MJ(f.MB(v[36]))?(e+=m[7],u.unshift({fe_two_columns:m[37]}),e=function(e){_i_("269:28cb9582"),e+=[m[68],"",m[69]].join(""),f.MJ(f.MC(v[25])+""=="www")&&f.MJ(f.MB(v[52]))&&f.MJ(f.MC(v[53]))&&(e+=[m[0],(u.unshift({fe_is_review_subscore_summaries_available:1}),b=f.HELPER("export",u[0]),u.shift(),b),m[26]].join(""));e+=m[70],f.MD(v[54])||(e+=m[71]);e+=m[72],f.MJ(f.MC(v[25])+""=="www")||f.MJ(f.MB(v[78]))||(e=function(e){_i_("269:32dd88be");var t="";t+=m[0],u.unshift({low_score_adjectives:f.MB(v[67]),score:f.MI(0)+f.MI(f.MC(v[74]))}),i=t,_i_("269:d9975900"),i+=m[26],f.MN("fe_review_score",f.MI(f.MB(v[56]))+f.MI(0)),i+=m[74],f.MN("fe_review_score_word_tag",f.MB(v[57])||"p"),i+=m[74],f.MN("fe_review_score_word_class_list","review-score-word"),i+=m[74],f.MJ(7<=f.MB(v[59]))&&(i+=m[75],f.MN("fe_review_score_word_class_list",f.MB(v[58])+" review-score-word--highlighted"),i+=m[26]),i+=m[69],f.MD(v[60])&&(i+=m[75],f.MN("fe_review_score_word_class_list",f.MB(v[58])+" "+f.MB(v[60])),i+=m[26]),i+=m[68],f.MD(v[67])?(i+=m[75],f.MJ(0<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<3)&&(i+=m[76],f.MN("fe_review_score_word_copy",f.MB(v[61])),i+=m[77]),i+=m[75],f.MJ(3<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<4)&&(i+=m[76],f.MN("fe_review_score_word_copy",f.MB(v[62])),i+=m[78]),i+=m[75],f.MJ(4<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<5)&&(i+=m[76],f.MN("fe_review_score_word_copy",f.MB(v[63])),i+=m[79]),i+=m[75],f.MJ(5<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<5.6)&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[64])),i+=m[12]),i+=m[75],f.MJ(5.6<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<6)&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[65])),i+=m[80]),i+=m[75],f.MJ(6<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<7)&&(i+=m[76],f.MN("fe_review_score_word_copy",f.MB(v[66])),i+=m[81])):(i+=m[75],f.MJ(0<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<7)&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[68])),i+=m[12])),i+=m[26],i+=m[26],f.MJ(7<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<8)&&(i+=m[76],f.MN("fe_review_score_word_copy",f.MB(v[69])),i+=m[82]),i+=m[26],f.MJ(8<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<8.6)&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[70])),i+=m[12]),i+=m[26],f.MJ(8.6<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<9)&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[71])),i+=m[83]),i+=m[69],f.MJ(9<=f.MB(v[59]))&&f.MJ(f.MB(v[59])<9.5)&&(i+=m[12],f.MN(v[72],f.ME(m[22],f.MB,f.MN,null)),i+=m[12]),i+=m[74],f.MJ(9.5<=f.MB(v[59]))&&(i+=m[12],f.MN("fe_review_score_word_copy",f.MB(v[73])),i+=m[12]),i+=m[74],i+=m[26],t=_r_(i),u.shift(),t+=[m[84],(u.unshift({num_reviews:f.MC(v[75])}),b=f.ME(m[85],f.MB,f.MN,null),u.shift(),b),m[26]].join(""),f.MN(v[55],t),e+=m[26],f.MN("fe_break_line_lim",45),e+=m[86],f.MJ(f.MB(v[55]).toString().length>=f.MB(v[76]))?(e+=m[45],f.MN("fe_modifier_inline_val",0)):(e+=m[45],f.MN("fe_modifier_inline_val",1)),e+=m[0];var i;return e+=m[0],u.unshift({fe_modifier_inline:f.MB(v[77]),fe_modifier_small:1,fe_reviews:0,fe_score:f.MC(v[74]),fe_show_adjective:1}),e=p(e),u.shift(),e+=[m[87],(u.unshift({num_reviews:f.MC(v[75])}),b=f.ME(m[88],f.MB,f.MN,null),u.shift(),b),m[89]].join(""),_r_(e)}(e+=m[73]),e+=m[90]);e+=m[91],e+=m[92],f.MD(v[79])&&(e+=m[93]);e+=m[12],f.MD(v[80])&&(e+=m[94]);e+=m[12],e+=m[95],f.MN("fe_med_average_scores",f.fragment("ugc.display.ufi_sub_score_average","ufi",f.MC(v[81]),"localize_numbers",1,"question_types","hotel_staff,hotel_services,hotel_clean,hotel_comfort,hotel_value,hotel_location,breakfast,hotel_wifi")),e+=m[96],e+=m[97],f.MD(v[54])&&(e+=m[98]);e+=m[12],f.MD(v[82])&&(e+=m[99]);e+=m[12],f.MD(v[53])&&(e+=m[100]);e+=m[12],e+=m[101];var t=f.MC(v[28])||[];u.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(u[0]=t[i-1],e+=m[5],f.MJ(f.MC(v[100])+""=="total")){e+=m[102],f.MN("fe_question_loop_count",0),e+=m[102];var r=i,_=t,o=n,t=f.MC(v[83])||[];u.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(u[0]=t[i-1],e+=m[103],f.MJ(f.MC(v[84])+""=="total")||f.MJ(f.MC(v[84])+""=="hotel_paid_wifi")){e+=m[104];continue}if(e+=m[103],f.MJ(f.MC(v[84])+""=="breakfast")&&f.MK((f.MC(v[32])||f.MC(v[33])&&f.MC(v[33]).b_decoded_mealplan_breakfast)&&f.MJ(7<f.MC(v[85])))){e+=m[106];continue}if(e+=m[103],f.MJ(f.MC(v[84])+""=="hotel_wifi")&&f.MK(f.MC(v[86])&&f.MC(v[87])&&f.MC(v[87]).length)){e+=m[106];continue}if(e+=m[103],f.MN("fe_question",f.MC(v[84])),e+=m[107],f.MK(f.MB(v[88]))&&(e+=m[104],f.MN("fe_question_loop_count",1),e+=m[105]),e+=m[103],f.MK(f.MC(v[53]))&&f.MJ(f.MB(v[82]))&&(e+=m[108],f.MJ(5==f.MB(v[88]))&&(e+=m[109]),e+=m[105]),e+=m[103],f.MJ(f.MB(v[89]))&&f.MJ(f.MC(v[89])[f.MC(v[81])])&&f.MJ(f.MC(v[89])[f.MC(v[81])][f.MB(v[90])])&&f.MJ(f.MC(v[89])[f.MC(v[81])][f.MC(v[90])].ufi_score_avg)&&(e+=m[110],f.MN("fe_med_score",f.MC(v[89])[f.MC(v[81])][f.MC(v[90])].ufi_score_avg),e+=m[104],f.MN("fe_med_score_std_dev",f.MC(v[89])[f.MC(v[81])][f.MC(v[90])].ufi_score_std),e+=m[104],f.MN("fe_med_score_upper",f.MC(v[89])[f.MC(v[81])][f.MC(v[90])].ufi_score_higher_bound),e+=m[104],f.MN("fe_med_score_lower",f.MC(v[89])[f.MC(v[81])][f.MC(v[90])].ufi_score_lower_bound),e+=m[110],f.MJ(f.MC(v[85])<=f.MB(v[91]))&&f.MJ(f.MC(v[85])<7.5)&&(e+=m[111],f.MN("fe_score_color_class","subscore_worse"),e+=m[112],f.MN("fe_show_legend_worse",1),e+=m[104]),e+=m[113],f.MJ(f.MC(v[85])>=f.MB(v[92]))&&(e+=m[112],f.MN("fe_score_color_class","subscore_better"),e+=m[112],f.MN("fe_show_legend_better",1),e+=m[104]),e+=m[113],f.MJ(f.MB(v[47])+""=="subscore_worse")&&f.MJ(7.5<=f.MC(v[85]))&&(e+=m[112],f.MN("fe_score_color_class",""),e+=m[104]),e+=m[105]),e+=m[103],f.MN("fe_question_loop_count",f.MI(f.MB(v[88]))+f.MI(1)),e+=m[105],f.MN("fe_med_score_value",f.MJ(f.MC(v[25])+""=="www")?f.MB(v[93]):0),e+=[m[114],f.F.entities(f.MC(v[47])),m[104]].join(""),f.MJ(f.MC(v[25])+""=="www")&&(e+=m[115]),e+=m[116],u.unshift({fe_score:f.MC(v[85]),fe_score_detailed:f.MB(v[94]),fe_subscore_tag:f.MC(v[84]),fe_title:f.MB(v[95])}),h=e,_i_("269:811ef0ff"),h+=m[25],f.MJ(f.MB(v[15]))&&(h+=m[25],f.MN("fe_width",f.MI(f.MB(v[15]))*f.MI(10)),h+=m[52],f.MD(v[46])&&(h+=[m[53],f.MC(v[46]),m[25]].join(""),f.MJ(f.MB(v[47]))&&(h+=m[25],f.MJ(f.MB(v[47])+""=="subscore_better")?(h+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?h+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?h+=[m[25],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):h+=[m[25],(u.unshift({color:"#97E59C",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),h+=m[25]):f.MJ(f.MB(v[47])+""=="subscore_worse")&&(h+=m[54],f.MJ(f.MC(v[25])+""=="mdot")?h+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):f.MJ(f.MC(v[25])+""=="www")?h+=[m[25],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""):h+=[m[25],(u.unshift({color:"#FCB4B4",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[25]].join(""),h+=m[25]),h+=m[25]),h+=m[58]),h+=[m[59],f.F.entities(f.format_review_score_new(f.MB(v[15]))),m[60],f.format_review_score_new(f.MB(v[15])),m[61],f.F.entities(f.MC(v[48])),m[62]].join("")),h+=m[25],f.MN("fe_title",0),h+=m[25],f.MN("fe_score",0),h+=m[25],f.MN("fe_width",0),h+=m[25],h+=m[26],e=_r_(h),u.shift(),e+=m[113],f.MJ(f.MC(v[25])+""=="www")&&f.MJ(f.MB(v[52]))&&f.MJ(f.MC(v[53]))&&f.MJ(f.MC(v[53])[f.MB(v[90])])||f.MJ(f.MC(v[25])+""=="mdot")&&f.MJ(f.MC(v[53]))&&f.MJ(f.MC(v[53])[f.MB(v[90])])){if(e+=m[112],f.MN("fe_review_subscore_summary",f.MC(v[53])[f.MB(v[90])]),e+=m[117],f.MJ(f.MC(v[25])+""=="www")&&(e+=m[118]),e+=m[119],f.MJ(f.MC(v[96]).category_items)){e+=m[120],f.MN("fe_positive_text",""),e+=m[120],f.MN("fe_negative_text",""),e+=m[120];var a=i,s=t,l=n,c=d,t=f.MC(v[96]).category_items||[];u.unshift({item:null});for(var d,i=1,n=t.length;i<=n;i++)u[0].item=d=t[i-1],e+=m[121],f.MJ(f.MG((d||{}).polarity))?(e+=m[122],f.MN("fe_positive_text",f.MB(v[97])+""+(f.MJ(1<i)&&f.MB(v[97])?", "+d.tag_copy:d.tag_copy))):(e+=m[122],f.MN("fe_negative_text",f.MB(v[98])+""+(f.MJ(1<i)&&f.MB(v[98])?", "+d.tag_copy:d.tag_copy))),e+=m[121],e+=m[120];u.shift(),i=a,t=s,n=l,d=c,e+=m[123],f.MN("fe_thumbs_up_class","reviews-summary_thumbs"+(f.MJ(f.MC(v[25])+""=="www")&&f.MK(f.MB(v[54]))?" reviews-summary_thumbs_up":"")),e+=m[120],f.MD(v[97])&&(e+=[m[124],(u.unshift({class:f.MB(v[99]),color:"#008009",name:m[125],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[126],f.MC(v[97]),m[127]].join("")),e+=m[120],f.MD(v[98])&&(e+=[m[124],(u.unshift({class:m[128],color:"#6B6B6B",name:m[129],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[126],f.MC(v[98]),m[127]].join("")),e+=m[130]}e+=m[131]}e+=m[132],f.MN("fe_score_color_class",""),e+=m[133]}u.shift(),i=r,t=_,n=o,e+=m[5]}e+=m[134]}var h;u.shift(),e+=m[135],(f.MJ(f.MB(v[102]))||f.MJ(f.MB(v[103])))&&(e+=m[136],f.MD(v[101])&&(e+=m[137]),e+=m[138],f.MJ(f.MB(v[102]))&&(e+=[m[139],(u.unshift({color:"#006607",name:m[55],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[104],f.ME(m[140],f.MB,f.MN,null),m[141]].join("")),e+=m[102],f.MJ(f.MB(v[103]))&&(e+=[m[142],(u.unshift({color:"#A30000",name:m[57],size:m[56]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[104],f.ME(m[143],f.MB,f.MN,null),m[141]].join("")),e+=m[144]);e+=m[145],f.MD(v[79])&&(e=function(e){_i_("269:fdb13f14"),e+=[m[147],f.MC(v[104]),m[148],f.F.entities(f.MC(v[105])),m[149]].join(""),f.MD(v[107])?e+=[m[7],(u.unshift({b_companyname:f.MC(v[106])}),b=f.ME(m[150],f.MB,f.MN,null),u.shift(),b),m[45]].join(""):e+=[m[7],f.ME(m[151],f.MB,f.MN,null),m[45]].join("");return e+=m[152],_r_(e)}(e+=m[146]),e+=[m[153],f.ME(m[154],f.MB,f.MN,null),m[155],f.ME(m[156],f.MB,f.MN,null),m[157],(u.unshift({name:m[158],width:m[159]}),b=f.HELPER("icon",u[0]),u.shift(),b),m[160]].join(""));return e+=[m[161],"",m[26]].join(""),_r_(e)}(e)):(e+=m[162],u.unshift({fe_hide_low_adjectives:1,fe_modifier_inline:1,fe_modifier_split:f.MB(v[108]),fe_reviews_number:f.MB(v[109]),fe_score:f.MB(v[110]),fe_show_adjective:1,fe_show_breakfast:f.MB(v[49]),fe_show_more:f.MB(v[50]),fe_subscores:f.MB(v[51])}),e=i(e)),u.shift(),e+=m[45],e+=m[163]),e+=m[164],f.MN("fe__is_www",0),e+=m[0],f.MN("fe__is_tdot",0),e+=m[0],f.MN("fe__is_mdot",0),e+=[m[69],"",m[26]].join(""),_r_(e)}return t+=m[0],e=t,_i_("269:1d46ffd7"),e+=[m[1],f.F.entities(f.MC(v[0])),m[2],f.F.entities(f.MC(v[1])),m[3]].join(""),f.MJ(f.MB(v[113]))&&f.MJ(f.MB(v[24]))&&(e+=m[4],f.MJ(f.MB(v[2])+""=="apartment")?e+=[m[5],f.ME(m[6],f.MB,f.MN,null),m[7]].join(""):f.MJ(f.MB(v[2])+""=="hotel")?e+=[m[5],f.ME(m[8],f.MB,f.MN,null),m[7]].join(""):e+=[m[5],f.ME(m[9],f.MB,f.MN,null),m[7]].join(""),e+=[m[10],f.F.entities(f.MC(v[0])),m[11]].join(""),u.unshift({fe_modifier_outline:m[37],fe_modifier_small:m[37],fe_score:f.MG((((f.MC(v[24])||{}).b_questions||[])[0]||{}).b_score_detailed),fe_show_adjective:1}),e=n(e),u.shift(),e+=m[38],f.MJ(f.MB(v[111]))&&f.MJ(f.MB(v[112]))&&(e+=[m[39],f.F.entities(f.MC(v[0])),m[40],(u.unshift({unit_name:f.MB(v[1])}),b=f.ME(m[41],f.MB,f.MN,null),u.shift(),b),m[42]].join(""),u.unshift({b_unit_scores:f.MB(v[24]),is_unit_scores:m[37]}),e=r(e),u.shift(),e+=m[165]),e+=m[0]),e+=m[166],t=_r_(e),t+=m[26],_r_(t)})}()),B.define("component/hotel/new-rooms-table/unit-review-score",function(e,t,i){_i_("269:fdc880c6");var r=e("fragment"),_=e("server-data"),o=e("et"),a=e("events");i.exports=e("component/reactive").extend({template:"unit_review_score",initialize:function(){_i_("269:6c06841e");var e,t=this.$el.closest(".unit-reviews-wrapper").attr("data-room-id"),i=this.$el.closest(".unit-reviews-wrapper").attr("data-room-name"),n=this.$el.closest(".unit-reviews-wrapper").attr("data-breakdown-enabled");switch(this.setState({room_id:t}),this.setState({room_name:i}),this.setState({breakdown_enabled:n}),B.env.b_acc_type){case"201":e="apartment";break;case"204":case"205":case"206":case"218":e="hotel";break;case"219":e="apartment";break;default:e="other"}this.setState({room_type:e}),B.env.b_hotel_unit_reviews||(B.env.b_hotel_unit_reviews="running_query",r.call("ugc.display.user_ratings_for_property",{hotel_id:B.env.b_hotel_id,breakdowns:"room_id",reviewsng:1}).then(function(e){if(_i_("269:6fceaef8"),!e)return _r_(!1);B.env.b_hotel_unit_reviews=e,a.trigger("unit_reviews/loaded",e),this._dataFetchedCallback(e),_r_()}.bind(this),function(e){})),"running_query"===B.env.b_hotel_unit_reviews&&a.on("unit_reviews/loaded",function(e){_i_("269:e822f1d2"),this._dataFetchedCallback(e),_r_()}.bind(this)),"object"==typeof B.env.b_hotel_unit_reviews&&null!==B.env.b_hotel_unit_reviews&&this._dataFetchedCallback(B.env.b_hotel_unit_reviews),_r_()},_dataFetchedCallback:function(e){_i_("269:5f421b2b");var t=this.getState().room_id,i=e&&e[t];if(!i)return _r_(!1);this.setState({data_fetched:!0}),this.setState({data:{b_questions:this._formatScores(i,B.env.b_hotel_id)}}),this.$el.closest('.unit-reviews-wrapper[data-room-id="'+t+'"]').removeClass("bui-u-hidden"),this._addEventListeners(),_r_()},_addEventListeners:function(){var t,i;_i_("269:d616f9ae");var n=this;this.$el.on("mouseenter",function(e){_i_("269:fc94a33e"),n.setState({show_breakdown:!0}),clearTimeout(i),t=setTimeout(function(){_i_("269:cb9c66fc"),o.customGoal("OOFHFfZHQFLFESFDMfQLEHSYO",1),clearTimeout(t),_r_()},1500),_r_()}),this.$el.on("mouseleave",function(e){_i_("269:4b7ad8a6"),i=setTimeout(function(){_i_("269:b5a1d5f9"),n.setState({show_breakdown:!1}),_r_()},500),clearTimeout(t),_r_()}),_r_()},_formatScores:function(i,n){_i_("269:ad5448b1");var r=[];return["hotel_services","hotel_clean","hotel_comfort","hotel_value","hotel_wifi"].forEach(function(e){if(_i_("269:b5bf511b"),i[e]){var t={b_score_detailed:i[e].b_review_score,b_question:e,b_review_nr:i[e].review_nr,b_review_score:i[e].rating,b_score_out_of_10:i[e].b_review_score,b_hotel_id:n,b_score_detailed_total:i[e].b_review_score,b_score_detailed_formatted:i[e].b_review_score_formatted,review_question_name:_.b_reviews_labels_translations[e]};r.push(t)}_r_()}),i.total&&r.unshift({b_score_detailed:i.total.b_review_score,b_question:"total",b_review_nr:i.total.review_nr,b_review_score:i.total.rating,b_score_out_of_10:i.total.b_review_score,b_hotel_id:n,b_score_detailed_total:i.total.b_review_score,b_score_detailed_formatted:i.total.b_review_score_formatted,review_question_name:_.b_reviews_labels_translations.total}),_r_(r)}}),_r_()}),B.when({events:"ready",condition:!!+B.env.fe_mrt_use_aff_data_room_page}).run(function(e){_i_("269:33b45b18");var n=e("jquery"),r=this.hash,i=e("jstmpl"),t=e("with-capla"),_=e("et"),o={KEYCODE_ENTER:13,KEYCODE_SPACE:32,$availability_target:n("#availability_target"),$calendar_tr_target:n("#av-calendar-tracking-position"),roomNameSelector:".js-legacy-room-name",showPricesCTASelector:".js-legacy-price-button",onClickPricesCTA:function(){_i_("269:9f7e69b4"),n(document.body).on("click keydown",o.showPricesCTASelector,function(e){if(_i_("269:4af49dc1"),"keydown"===e.type&&e.which!==o.KEYCODE_ENTER&&e.which!==o.KEYCODE_SPACE)return _r_();var t=o.$availability_target.length?o.$availability_target.offset().top:o.$calendar_tr_target.offset().top;return t-=B.env.b_hp_sticky_offset||0,setTimeout(function(){_i_("269:70a7f424"),alert(i.translations("hp_friendly_enter_dates_05")),_r_()},200),n("html, body").scrollTop(t),_r_(!1)}),_r_()},onClickRoomName:function(){_i_("269:b3a0ed59"),n(document.body).on("click",o.roomNameSelector,B.hotel.rtLightbox.show),_r_()},checkForEmptyRoomTable:function(e){_i_("269:a2e8455a");var t=n('[data-capla-component="b-property-web-property-page/RoomTableNoDatesDesktop"]'),i=n('x-booking-ui-block-missing[url="/RoomTableNoDatesDesktop"]');0!==t.height()&&0!==i.height()||(B.squeak&&B.squeak(e),_.customGoal(r,4)),_r_()},kickstart:function(){_i_("269:f56771e6"),o.onClickPricesCTA(),o.onClickRoomName();o.checkForEmptyRoomTable("OOGbIFBUMEfTQDYBWDDZdUWBDHC"),t("property-web","property-page",function(e){_i_("269:a91b2003"),e.eventBus.subscribe("CAPLA_EVENT_property-web-property-page_NO_DATES_RT_MFE_LOADED",function(){_i_("269:a47e787d"),o.checkForEmptyRoomTable("OOGbIFBUMEfTQDYBWDDZdUWBDHJeMWPaDMDNDHC"),_r_()}),_r_()})(),_r_()}};o.kickstart(),_r_()}),B.when({action:"hotel",events:"ready",condition:Boolean(B.env.fe_work_friendly_room_ids)}).run(function(e){_i_("269:8c13a1bc");var i=e("et"),t=e("server-data"),n=e("hotel/store"),r=t.fe_work_friendly_room_ids||{},_={kickstart:function(){_i_("269:740c3ab1"),n.subscribe(function(){_i_("269:97c6aae5");var e=n.getState().roomsTable,t=e.js_selection.roomIDs||[];e.formIsSuccessfullySubmitted&&t.forEach(function(e){_i_("269:c1127627"),r[e]&&i.customGoal("OOGbIFBUMEfTQJNDYBFKYOeeIKdFHaO",1),_r_()}),_r_()}),_r_()}};_.kickstart(),_r_()}),B.when({events:"ready",condition:B&&B.env&&Boolean(Number(B.env.fe_bed_pref_fix))}).run(function(e){_i_("269:6352cf37");var _=e("jquery"),o=e("hotel/store"),a={$inputTemplate:_("<input />",{class:"js-bed-preferences",type:"hidden"}),$roomTableForm:_("#hprt-table"),bedPrefNamePrefix:"bed_prefs_chosen_",bedPrefNamePrefixForRT:"bedPreference_",roomsData:B.env.b_rooms_available_and_soldout||[],blocksToRoomsMap:{},doBlocksToRoomMap:function(){_i_("269:7e5d0402"),a.roomsData.forEach(function(t){_i_("269:a08cc6aa"),t.b_blocks&&t.b_blocks.forEach(function(e){_i_("269:b28e43bc"),a.blocksToRoomsMap[e.b_block_id]=t.b_id,_r_()}),_r_()}),_r_()},listeners:function(){_i_("269:3ff55414"),_("#hprt-form").submit(function(){_i_("269:b490a33b");var t,i,n,r=[],e=o.getState();if(!e.roomsTable.js_selection.roomCount||!e.roomsTable.rooms)return _r_();a.$roomTableForm.find(".js-bed-preferences").remove(),Object.keys(e.roomsTable.js_selection.blocks).forEach(function(e){_i_("269:0143aba7"),(n=a.blocksToRoomsMap[e])&&(i=_('[name="'+a.bedPrefNamePrefixForRT+n+'"]:checked')).length&&-1!==Number(i.val())&&(t=a.$inputTemplate.clone().attr("name",a.bedPrefNamePrefix+e).attr("value",i.val()),r.push(t),i.attr("disabled",!0)),_r_()}),r.length&&a.$roomTableForm.prepend(r),_r_()}),_r_()},kickstart:function(){_i_("269:dd192fa7"),a.doBlocksToRoomMap(),a.listeners(),_r_()}};a.kickstart(),_r_()}),B.when({experiment:"OOGbIFBUGZcZUHHNEDC"}).run(function(e){_i_("269:f60502a5");var t=e("with-capla"),o=booking.debug("mrt_d_hp_prices_comparison"),a={rawRoomData:B.env.b_rooms_available_and_soldout||[],roomPrices:[],caplaRoomPrices:[],shouldDoComparison:!0,getAffPriceData:function(){_i_("269:a573fcd2"),a.rawRoomData.forEach(function(t){_i_("269:a27c8c9a"),t.b_blocks.forEach(function(e){_i_("269:ec1deb91"),a.roomPrices.push({roomId:t.b_id,blockId:e.b_block_id,price:Number(e.b_raw_price)}),_r_()}),_r_()}),_r_()},getCaplaReady:function(){_i_("269:160bc38c"),t("property-web","property-page",function(e){_i_("269:8144e176"),e.eventBus.subscribe("CAPLA_EVENT_property-web_property-page_PRICES_COMPARISON",function(e,t){_i_("269:8de8331b"),a.caplaRoomPrices=t,a.doComparison(),_r_()}),_r_()})(),_r_()},doComparison:function(){if(_i_("269:aecd260f"),!a.shouldDoComparison)return _r_();var i,n=a.caplaRoomPrices,e=a.roomPrices,r=!0,_=[];o.log("Raw Capla and aff data",{caplaPrices:n,roomPrices:e}),e.forEach(function(e,t){if(_i_("269:bfa7a491"),i=n[t],_.push({caplaPrice:i,room:e}),i.price===e.price)return _r_();r=!1,_r_()}),o.log("Are results the same? "+r,_),a.shouldDoComparison=!1,_r_()},kickstart:function(){_i_("269:9a47a2d4"),a.getCaplaReady(),a.getAffPriceData(),_r_()}};a.kickstart(),_r_()}),B.define("component/tvalue/flights",function(e,t,i){_i_("269:ac29d15e");var n=e("component"),r=e("ga-tracker"),_=B.env.b_url_start||B.env.b_domain_for_app||window.location.origin,o={eligibility:_+"/xps/get",modalVisible:_+"/xps/view",modalDismissed:_+"/xps/dismiss"};i.exports=n.extend({init:function(){_i_("269:e9aeed65"),this.fetchData(),this.attachEvents(),_r_()},bindEvent:function(e,t,i,n){_i_("269:e3c87ab1");var r=this;e.on(i,t,function(e){_i_("269:797ef862"),n&&n.call(this,r,e),_r_()}),_r_()},attachEvents:function(){_i_("269:556600cd"),this.bindEvent($(document),"#flight-awareness-billy","click",this.onModalClicked),_r_()},fetchData:function(){_i_("269:a510fb93");var t=this;$.ajax({url:o.eligibility,method:"POST",dataType:"json",contentType:"application/json",xhrFields:{withCredentials:!0},data:this.getRequestData(),success:function(e){_i_("269:c67bdeb2"),t.checkEligibility(e),_r_()},error:function(e){}}),_r_()},getRequestData:function(){return _i_("269:a3c322d6"),_r_(JSON.stringify({placement_names:["modal"],page:"booking_com_"+B.env.b_action,language_code:B.env.b_lang||"en",dest_id:B.env.b_dest_id||null,hotel_id:B.env.b_hotel_id||null,affiliate_id:B.env.b_aid||null,label:B.env.b_label||null,checkin_date:B.env.b_checkin_date||null,checkout_date:B.env.b_checkout_date||null,guest_details:B.env.b_group||null,visitor_country:B.env.b_guest_country||null,utm_campaign:{utm_campaign:"ddot-booking_com_"+B.env.b_action+"-modal-flight-awareness_modal",utm_medium:"intra",utm_source:"flight_awareness_modal"}}))},checkEligibility:function(e){_i_("269:c5f5ff7b");var t=((e||{}).shelves_placements||{}).modal,i=null,n=null;Array.isArray(t)&&(i=(((n=(t[0]||{}).properties)||{}).cta||{}).action,this.cta=i&&i.target,this.showFlightModal(n)),_r_()},setFlightImages:function(e){if(_i_("269:ab7fe9e6"),!e)return _r_(!1);var t=e.company_logo_url,i=e.image_url;$("#tv-flight-awareness-logo").attr("src",t),$("#tv-flight-awareness-img").attr("src",i),_r_()},showFlightModal:function(e){if(_i_("269:f3772f04"),!window.BUI)return _r_(!1);var t=this,i=window.BUI.createInstance("Modal",null,{id:"flight-awareness-billy",onAfterClose:function(){_i_("269:0defac03"),t.onModalClose(event),_r_()},onAfterOpen:function(){_i_("269:10cfe821"),t.paintFlightsModal(e),t.onModalOpen(),_r_()}});i.mount(),i.open(),this.mobileModalFix(i),$(i.contentWrapper).loadComponents(),_r_()},mobileModalFix:function(e){if(_i_("269:79ab54f3"),!e.getModalRoot&&"mdot"!==B.env.b_site_type)return _r_(!1);var t=((e||{}).overlayInstance||{}).overlayEl;t&&$(t).addClass("mdot-flights-awareness-modal"),_r_()},paintFlightsModal:function(e){_i_("269:70fe886c"),this.setFlightImages(e),this.setFlightsText(e),this.setFlightsURL(e),_r_()},setFlightsText:function(e){_i_("269:f9514a87");var t=e.title,i=e.description,n=((e||{}).cta||{}).title,r="";$("#tv-flight-awareness-title").html(t),$("#tv-flight-awareness-desc").html(i),$("#tv-flight-awareness-cts").html(n),Array.isArray(e.USP)&&(e.USP.forEach(function(e){_i_("269:d3e9cda9"),r+=B.jstmpl("b_flight_awareness_benefits").render({b_flight_awareness_benefit:e}),_r_()}),$("#tv-flight-awareness-benfits-list").append(r)),_r_()},setFlightsURL:function(){_i_("269:f4bdd42c"),$(".flight-cta-flaw")[0].href=this.cta,_r_()},onModalOpen:function(){_i_("269:e6977c70"),this.trackImpressions(),this.setBEViewTracking(),_r_()},onModalClicked:function(e,t){_i_("269:19caeab0"),t.stopPropagation(),_r_()},trackImpressions:function(){_i_("269:242b8021"),r.ecommerceAddPromo("flights","flights_awareness_modal","modal","0"),_r_()},onModalClose:function(e){_i_("269:150eea7a");var t=$(e.currentTarget);if(t&&t.is(".flight-cta-flaw"))return _r_(!1);this.setBEDismissTracking(),_r_()},setBEViewTracking:function(){_i_("269:9bc72b4e"),$.ajax({url:o.modalVisible,method:"POST"}),_r_()},setBEDismissTracking:function(){_i_("269:d123bb9d"),$.ajax({url:o.modalDismissed,method:"POST"}),_r_()}}),_r_()}),B.require(["jquery"],function(i){_i_("269:79e9864b"),B.when({action:"hotel",events:"ready",experiment:"AEcRQZKbMGOHGTLEKXJZGYIVTVIFAdKC",condition:"www"==B.env.b_site_type}).run(function(){_i_("269:35c4cd21"),function(){_i_("269:44a0aaea");var e={run:function(){_i_("269:bbae09ae");this.getShelves(),_r_()},getShelves:function(){_i_("269:4f519ea0");var e={client_id:"1744270e-c153-11ea-b3de-0242ac130004",page:"BOOKING_HOTEL_PROPERTY",placement_name:"HP_PLACEMENT",cc1:B.env.b_countrycode,start_date:B.env.b_checkin_date,end_date:B.env.b_checkout_date,num_adults:B.env.b_occupancy.adults,num_children:B.env.b_occupancy.children,ufi:B.env.b_ufi},t={placements:[e],currency_code:B.env.b_selected_currency};i.ajax({url:"/xps/dist",contentType:"application/json;charset=utf-8",dataType:"json",xhrFields:{withCredentials:!0},headers:{"X-Booking-Platform":"ddot","X-Booking-Language-Code":B.env.b_lang},data:JSON.stringify(t),method:"POST",mode:"cors"}).done(function(){}),_r_()},trackEvent:function(e){_i_("269:d62ab588");var n=this,t={page:"booking_list",placement_names:["trip_next_step"],screen_width:1080,language_code:B.env.b_lang,currency_code:B.env.b_selected_currency,event_type:e};i.ajax({url:"/xps/v1/track",contentType:"application/json;charset=utf-8",dataType:"json",xhrFields:{withCredentials:!0},headers:{"X-Booking-Platform":1===B.env.b_site_type_id?"ddot":"mdot"},data:JSON.stringify(t),method:"POST"}).done(function(){}).fail(function(e,t,i){_i_("269:dd1a9ea2"),n.logError(e,t,i),_r_()}),_r_()},logError:function(e,t,i){_i_("269:c3d00052");var n=window.B||window.booking;n&&"function"==typeof n.squeak&&n.squeak("ZCBKeJTBNFecMdTRVNYWMVbOdSaPRe"),_r_()}};return _r_({run:function(){_i_("269:6be4b1b4"),e.run(),_r_()}})}().run(),_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env&&B.env.fe_pp_is_long_stay}).run(function(e){_i_("269:c2665122");var n=e("jquery"),t=e("events"),i=e("et"),r=e("server-data"),_=e("watcher"),o=e("browser-storage-handler"),a="long_stay_facilities",s="T",l="B",c="S",d="facilities-sliding:in",h="BHDTJdReQLOLOLOTPeVZAaIDJNMTKe",u=r.b_checkin_checkout_interval;if(n(".hp-facilities-sliding-wrapper").length){var f=function(){_i_("269:a2cc2af1"),i.stage(h,1),i.stage(h,4),5<=u&&u<13?i.stage(h,5):14<=u&&u<28?i.stage(h,6):28<=u&&i.stage(h,7),m(c),t.off(d,f),_r_()};t.on(d,f)}var p,b=function(){_i_("269:cf66f8f1");var t={},i={};if(i[s]=0,i[l]=0,i[c]=0,!o.isLocalStorageSupported())return _r_(i);var e=o.getPermanentValue(a,!0);if(e)try{t=JSON.parse(e)}catch(e){t=i}t.hasOwnProperty(s)&&t.hasOwnProperty(l)&&t.hasOwnProperty(c)||(t=i);return _r_(t)}();function m(e){_i_("269:10270b94"),b[e]=1,o.isLocalStorageSupported()&&o.addPermanentValue(a,JSON.stringify(b),!0),_r_()}p=n(".js-long-stay-facilities-top, .js-long-stay-facilities-bottom"),_i_("269:f73afc6f"),p.each(function(e,t){_i_("269:9c9d8599");var i=n(t);_.watch(i).when(_.conditions.isInViewport).then(function(){_i_("269:4c1049b5"),m(i.hasClass("js-long-stay-facilities-top")?s:l),_.unwatch(i),_r_()}),_r_()}),_r_(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){if(_i_("269:658377ed"),e("server-data").fe_txp_work_friendly_room){var t=e("jquery"),i=t(".js-txp-list"),n=t(".js-txp-toggle-view"),r=B.jstmpl.translations("bhbb_work_friendly_sidebar_view"),_=B.jstmpl.translations("bhbb_work_friendly_sidebar_hide");n.on("click",function(){var e;_i_("269:24141b21"),i.slideToggle(300,(e=n,_i_("269:71d42093"),e.text(function(){return _i_("269:a603ff6c"),_r_(i.is(":visible")?r:_)}),void _r_())),_r_()})}_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:070ebfc4");var t=e("jquery"),i=e("et"),n=t("#left #frm"),r="TfNZeFXPOWFVSXbdbdaT";function _(){if(_i_("269:b65334eb"),i.stage(r,1),0==n.find("[type=hidden][name=highlighted_hotels]").length&&i.track(r)){var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","highlighted_hotels"),e.setAttribute("value",B.env.b_hotel_id),n.append(e)}_r_()}n.find(".sb-dates__col.--checkin-field .sb-searchbox__input").on("click",function(){_i_("269:4a2de75a"),_(),_r_()}),n.find(".sb-dates__col.--checkout-field .sb-searchbox__input").on("click",function(){_i_("269:4a2de75a1"),_(),_r_()}),_r_()}),B.define("component/installments-brazil/hp-rt-installment-counts",function(e,t,i){_i_("269:cf975d4f");var n=e("component"),r=e("hotel/store"),_=e("server-data").instalments_minimum_price;i.exports=n.extend({init:function(){_i_("269:85a00b66");var t=this;r.subscribe(function(){_i_("269:8f33eec6");var e=r.getState().roomsTable.js_selection.totalPrice;t.$el.toggleClass("bui-u-hidden",e<_),_r_()}),_r_()}}),_r_()}),B.define("component/ussi/phone_deals_hp",function(e,t,i){"use strict";_i_("269:2ce56ce2");var n=e("component"),_=e("jquery"),o=e("with-capla"),a=e("server-data"),r="CAPLA_EVENT_property-web-property-page",s="PHONE_DEALS",l={AWAITING_DATA:r+"_"+s+"_AWAITING_DATA",INITIALISED:r+"_"+s+"_INITIALISED",AFF_DATA_INITIALISED:r+"_"+s+"_AFF_DATA_INITIALISED",DATA_DISPATCHED:r+"_"+s+"_DATA_DISPATCHED"};i.exports=n.extend({init:function(){_i_("269:43b80981");var r=this;o("property-web","property-page",function(o){_i_("269:6a9f5196"),o.eventBus.subscribeOnce(l.AWAITING_DATA,function(e,t){_i_("269:06970e97");var i=a.fe_phone_deals_lowest_price,n=a.fe_phone_deals_grand_total,r=a.fe_genius_level,_=a.fe_phone_deals_currency_code;o.eventBus.publish(l.DATA_DISPATCHED,{lowestPrice:i?Number(i):void 0,grandTotal:n?Number(n):void 0,currencyCode:_||void 0,geniusLevel:r?Number(r):0}),_r_()});var n=r.el.dataset.placementId;n&&o.eventBus.subscribeOnce(l.INITIALISED,function(e,t){_i_("269:d80e4232");var i=t.endMs-r.el.dataset.start_ts;_.ajax({url:"/phone-deals-monitoring",type:"POST",data:{placement_id:n,time_to_load:i}}),_r_()}),o.eventBus.publish(l.AFF_DATA_INITIALISED),_r_()})(),_r_()}}),_r_()}),B.when({events:"load"}).run(function(e){"use strict";_i_("269:d9963459");var i=e("et"),t=e("jquery"),n=e("server-data"),r=n.b_site_type,_="";"mdot"===r?_="MCIAFKKZUTPXMfAKFcFKCdJFAVDBcOOIBBO":"www"===r&&(_="MCIAFKKZUTPXMfAKFcFKCdJFAVDBccCcCcCC"),0<function(){_i_("269:fd2ef979");var t=0,e="www"===r?n.b_acc_type:n.b_accommodationtype_id.toString();n.b_hotel_chains&&n.b_hotel_chains.map(function(e){_i_("269:2f46f937"),1===e.b_adf_id&&(t=1),_r_()});if(t&&_&&!n.b_site_info.is_hybrid&&!n.b_site_info.is_cobrand&&-1<n.b_lang.indexOf("en")&&"us"===n.ip_country&&"us"===n.b_countrycode&&("204"===e||"206"===e))return _r_(i.track(_));return _r_(0)}()&&t("body").append('\x3c!-- Ethnio Activation Code --\x3e<script type="text/javascript" language="javascript" src="//ethn.io/61684.js" async="true" charset="utf-8"><\/script>'),_r_()}),B.define("component/fl/transport",function(e,t,i){"use strict";_i_("269:0e4a1f26");var n=e("jquery");i.exports={exposed:function(e,t,i){_i_("269:02f67dfd"),function(e,t){_i_("269:64ee2b00");var i={url:e,dataType:"json",type:"POST",contentType:"application/json",data:JSON.stringify(t||{})};n.ajax(i),_r_()}("/fl/exposed",{model:e,items:t,is_organic:i}),_r_()}},_r_()}),B.define("component/fl/exposed",function(e,t,i){"use strict";_i_("269:3be6115d");var n=e("component"),r=e("read-data-options"),_=e("component/fl/transport"),o=e("when/events-view");i.exports=n.extend({init:function(){_i_("269:4ddb4f33"),this.options=r(this.el,{exposedId:{name:"fl-exposed-id",type:String,required:!0},exposedAttr:{name:"fl-exposed-attr",type:String,required:!0},exposedOrganic:{name:"fl-exposed-organic",type:Boolean,defaultValue:!1}}),o(this.el,function(){_i_("269:41c3c6a9"),_.exposed(this.options.exposedId,this.scrape(),this.options.exposedOrganic),_r_()}.bind(this)),_r_()},scrape:function(){_i_("269:68742c4f");var t=this.options.exposedAttr,e="["+t+"]";return _r_([].map.call(this.el.querySelectorAll(e),function(e){return _i_("269:58370c5a"),_r_(e.getAttribute(t))}))}}),_r_()}),B.define("component/fl/stage",function(e,t,i){"use strict";_i_("269:948d9d0f");var n=e("component"),r=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:c57921e9"),this.options=r(this.el,{hash:{name:"fl-stage-hash",type:String,required:!0},val:{name:"fl-stage-value",type:Number,required:!0}}),B.et.stage(this.options.hash,this.options.val),_r_()}}),_r_()}),B.when({action:"hotel",condition:location.search&&location.search.match(/([;&])?nad_track=/)&&window.history&&"function"==typeof window.history.replaceState,events:"ready",experiment:"NVFAHPEAPZZWRJcbWae"}).run(function(e){_i_("269:2d4cb021");var t=e("querystring"),i=e("utils/makeurl"),n=t.parseUrl(location.href);["nad_track","nad_cpc","nad_id"].forEach(function(e){_i_("269:3fcad5ea"),delete n.query[e],_r_()}),n.query.nad_redirected_after_tracking=1;var r=i(n.base,n.query);window.history.replaceState(window.history.state,"",r),_r_()}),B.define("component/trip_discounts_credit/javascript/dismissible_banner",["jquery","component","module"],function(i,e,t){_i_("269:7f2b8ac7");var n="tf_promo_ddot_free_taxi_dismiss_banner_"+(B&&B.env&&B.env.b_action);function r(e){_i_("269:9dccb9fd");var t=e.closest("section[data-tdc-banner]");return _r_(i(t).length?i(t):"")}function _(e){_i_("269:ea27b6e3");var t,i=JSON.parse((t=e,_i_("269:b28ace31"),_r_(window&&window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem(t)))),n=(new Date).getTime();if(i&&i.expiryTime&&i.expiryTime>n)return _r_(!0);return _r_(!1)}function o(){_i_("269:a5784448");var e,t,i={expiryTime:(new Date).getTime()+72e5};try{e=n,t=i,_i_("269:1e149b15"),window&&window.localStorage&&window.localStorage.setItem&&window.localStorage.setItem(e,JSON.stringify(t)),_r_()}catch(e){}_r_()}t.exports=e.extend({dismissCallback:function(e){_i_("269:d169c80c"),function(e){_i_("269:928dc342");var t=r(e);if(""===t)return _r_();t.addClass("tdc_hidden_banner"),_r_()}(e.target),o(),_r_()},init:function(){_i_("269:d54039a7");var e=i("#tdc_banner_dismiss");_(n)||(r(i(e))&&r(i(e)).removeClass("tdc_hidden_banner"),i(e).on("click",this.dismissCallback)),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready",experiment:"eWHMedScFKWLIdZRO"}).run(function(e){_i_("269:5173fb0c");var t=e("jquery"),i=e("events"),n=e("fragment"),r=t(".hotel-sidebar-map"),_=t(".hotel-sidebar-map #hotel_sidebar_static_map"),o=r.height(),a=_.data(),s=a.apiKey;function l(){_i_("269:518a5761"),n.call("geo.static_map",{width:264,height:o,lat:a.atlasLatlng.split(",")[0],lng:a.atlasLatlng.split(",")[1],key:s,channel:a.action||"hotel",language:a.langForUrl||"en-gb",zoom:13}).then(function(e){_i_("269:8866cadf"),_.css("background-image","url("+e+")"),_r_()}),_r_()}if(i.on(B.hotel.Events.Map.REFRESH_STATIC_MAP,function(){_i_("269:b4ba1768"),o=r.height(),l(),_r_()}),o<=200)return _r_();l(),_r_()}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.hotel.run=!0);